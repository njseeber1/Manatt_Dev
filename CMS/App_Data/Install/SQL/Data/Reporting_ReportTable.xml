<NewDataSet>
  <xs:schema id="NewDataSet" xmlns="" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop">
    <xs:element name="NewDataSet" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msdata:IsReadOnly="False">
      <xs:complexType>
        <xs:choice minOccurs="0" maxOccurs="unbounded">
          <xs:element name="Reporting_ReportTable" msprop:IsFromCMSDatabase="True">
            <xs:complexType>
              <xs:sequence>
                <xs:element name="TableID" type="xs:int" minOccurs="0" />
                <xs:element name="TableName" type="xs:string" minOccurs="0" />
                <xs:element name="TableDisplayName" type="xs:string" minOccurs="0" />
                <xs:element name="TableQuery" type="xs:string" minOccurs="0" />
                <xs:element name="TableQueryIsStoredProcedure" type="xs:boolean" minOccurs="0" />
                <xs:element name="TableReportID" type="xs:int" minOccurs="0" />
                <xs:element name="TableSettings" type="xs:string" minOccurs="0" />
                <xs:element name="TableGUID" msdata:DataType="System.Guid, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" type="xs:string" minOccurs="0" />
                <xs:element name="TableLastModified" type="xs:dateTime" minOccurs="0" />
                <xs:element name="TableConnectionString" type="xs:string" minOccurs="0" />
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:choice>
      </xs:complexType>
    </xs:element>
  </xs:schema>
  <Reporting_ReportTable>
    <TableID>102</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
	  SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
	  (
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC, StatsWithPath.NodeAliasPath DESC 
  
	SELECT PagePath AS '{$general.documentname$}', PageViews AS '{$reports_filedownloads_Day.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_filedownloads_Day.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>55</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ba4442d3-5e9f-43b1-b13f-6d2ab3625737</TableGUID>
    <TableLastModified>2015-04-07T09:17:34.8787414+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>103</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC, StatsWithPath.NodeAliasPath DESC

	SELECT PagePath AS '{$general.documentname$}', PageViews AS '{$reports_filedownloads_Month.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_filedownloads_Month.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>56</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>380150e3-442f-4ea7-a543-c8fd77d7bf6d</TableGUID>
    <TableLastModified>2015-04-07T09:19:37.0379561+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>104</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
		) AS StatsWithPath
		GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
		ORDER BY PageViews DESC, StatsWithPath.NodeAliasPath DESC
 
  
	SELECT PagePath AS '{$general.documentname$}', PageViews AS '{$reports_filedownloads_Year.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_filedownloads_Year.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>57</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1ff97f22-6fbb-46d9-b102-ec2e00efccc3</TableGUID>
    <TableLastModified>2015-04-07T09:20:57.7790294+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>105</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
		) AS StatsWithPath
		GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
		ORDER BY PageViews DESC, StatsWithPath.NodeAliasPath DESC 
  
	SELECT PagePath AS '{$general.documentname$}', PageViews AS '{$reports_filedownloads_Hour.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_filedownloads_Hour.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>58</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>8127bec1-8f00-48ee-b356-4acbd72bd6ce</TableGUID>
    <TableLastModified>2015-04-07T09:18:48.7531281+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>106</TableID>
    <TableName>RecentlyModifiedDocsTable</TableName>
    <TableDisplayName>Recently modified pages table</TableDisplayName>
    <TableQuery>Select DocumentName AS 'Name', NodeAliasPath AS 'Alias path', DocumentModifiedWhen AS 'Last modification date', FirstName + ' '  + LastName + ' (' + UserName +')' AS 'Last modified by', StepDisplayName AS 'Current workflow step'  FROM View_CMS_Tree_Joined LEFT JOIN CMS_User ON View_CMS_Tree_Joined.DocumentModifiedByUserID=CMS_User.UserID LEFT JOIN CMS_WorkflowStep ON View_CMS_Tree_Joined.DocumentWorkflowStepID = CMS_WorkflowStep.StepID Where (DocumentModifiedWhen &gt;= @ModifiedSince) AND (NodeSiteID=@CMSContextCurrentSiteID) ORDER BY DocumentModifiedWhen DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>50</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No recently modified pages found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>84b838bf-a8e2-4852-a784-c7c99d0f2941</TableGUID>
    <TableLastModified>2014-06-23T10:03:49.6106559+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>107</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PaveViews TABLE
(
  PagePath NVARCHAR(500),
  ObjectID INT,
  Pageviews INT,
  Percents DECIMAL(10,2),
  Average INT  
)

DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

SELECT @Sum =   
  SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID  AND StatisticsObjectCulture = DocumentCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
 AND (HitsEndTime &lt;= @ToDate)

INSERT INTO @PaveViews (PagePath,ObjectID,PageViews,Percents)
  SELECT TOP 100 StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
  (
    SELECT
     -- When NodeAliasPath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
     -- In this case row can't be joined with View_CMS_Tree_Joined.
     CASE
      WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
      ELSE NodeAliasPath
     END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
     FROM Analytics_Statistics
     INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
     LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
     WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
  ) AS StatsWithPath
  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
  ORDER BY PageViews DESC
 
 UPDATE @PaveViews SET Average = (SELECT SUM(HitsValue)/SUM(HitsCount) FROM Analytics_DayHits JOIN
      Analytics_Statistics ON HitsStatisticsID = StatisticsID
      WHERE HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate AND StatisticsObjectID = objectID
        AND StatisticsCode ='avgtimeonpage' AND StatisticsSiteID = @CMSContextCurrentSiteID
       )
 
 SELECT PagePath AS '{$reports_pageviews_Day.path_header$}',pageviews AS  '{$reports_pageviews_Day.hits_header$}',
      CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_pageviews.percent_header$}', ISNULL(CONVERT(varchar, DATEADD(s, average, 0), 108),'00:00:00') AS '{$reports_pageviews.average$}'
  
   FROM @PaveViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>59</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>47f63e99-8a64-49c9-ad7e-4be17f5c9151</TableGUID>
    <TableLastModified>2015-01-19T13:01:26.4362563+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>108</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PaveViews TABLE
(
  PagePath NVARCHAR(500),
  ObjectID INT,
  Pageviews INT,
  Percents DECIMAL(10,2),
  Average INT  
)

DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

SELECT @Sum =   
  SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID  AND StatisticsObjectCulture = DocumentCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
 AND (HitsEndTime &lt;= @ToDate)

INSERT INTO @PaveViews (PagePath,ObjectID,PageViews,Percents)
  SELECT TOP 100 StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
  (
    SELECT
     -- When NodeAliasPath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
     -- In this case row can't be joined with View_CMS_Tree_Joined.
     CASE
      WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
      ELSE NodeAliasPath
     END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
     FROM Analytics_Statistics
     INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
     LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
     WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
  ) AS StatsWithPath
  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
  ORDER BY PageViews DESC

 UPDATE @PaveViews SET Average = (SELECT SUM(HitsValue)/SUM(HitsCount) FROM Analytics_MonthHits JOIN
      Analytics_Statistics ON HitsStatisticsID = StatisticsID
      WHERE HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate AND StatisticsObjectID = objectID
        AND StatisticsCode ='avgtimeonpage' AND StatisticsSiteID = @CMSContextCurrentSiteID
       )
 
 SELECT PagePath AS '{$reports_pageviews_Month.path_header$}',pageviews AS  '{$reports_pageviews_Month.hits_header$}',
      CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_pageviews.percent_header$}', ISNULL(CONVERT(varchar, DATEADD(s, average, 0), 108),'00:00:00') AS '{$reports_pageviews.average$}'
  
   FROM @PaveViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>60</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>978ecb24-c417-468d-a901-c4c298a8b02a</TableGUID>
    <TableLastModified>2015-01-19T13:02:17.5043626+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>109</TableID>
    <TableName>CheckedOutDocsTable</TableName>
    <TableDisplayName>Checked out docs table</TableDisplayName>
    <TableQuery>Select DocumentName AS 'Page name', NodeAliasPath AS 'Alias path', FirstName + ' ' + LastName + ' (' +UserName+')' AS 'Checked out by', DocumentCheckedOutWhen AS 'Checked out on', FirstName + ' '  + LastName + ' (' + UserName +')' AS 'Last modified by', StepDisplayName AS 'Current workflow step' FROM View_CMS_Tree_Joined LEFT JOIN CMS_User ON CMS_User.UserID = View_CMS_Tree_Joined.DocumentCheckedOutByUserID  LEFT JOIN CMS_WorkflowStep ON View_CMS_Tree_Joined.DocumentWorkflowStepID = CMS_WorkflowStep.StepID  Where (DocumentCheckedOutByUserID IS NOT NULL) AND (NodeSiteID=@CMSContextCurrentSiteID) ORDER BY DocumentCheckedOutWhen DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>51</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No checked out documents found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b25b33ab-cdda-4018-b0bf-7cfcaaad651e</TableGUID>
    <TableLastModified>2014-06-23T09:52:36.1933209+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>110</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PaveViews TABLE
(
  PagePath NVARCHAR(500),
  ObjectID INT,
  Pageviews INT,
  Percents DECIMAL(10,2),
  Average INT  
)

DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

SELECT @Sum =   
  SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID  AND StatisticsObjectCulture = DocumentCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
 AND (HitsEndTime &lt;= @ToDate)

INSERT INTO @PaveViews (PagePath,ObjectID,PageViews,Percents)
  SELECT TOP 100 StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
  (
    SELECT
     -- When NodeAliasPath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
     -- In this case row can't be joined with View_CMS_Tree_Joined.
     CASE
      WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
      ELSE NodeAliasPath
     END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
     FROM Analytics_Statistics
     INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
     LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
     WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
  ) AS StatsWithPath
  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
  ORDER BY PageViews DESC
 
 UPDATE @PaveViews SET Average = (SELECT SUM(HitsValue)/SUM(HitsCount) FROM Analytics_YearHits JOIN
      Analytics_Statistics ON HitsStatisticsID = StatisticsID
      WHERE HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate AND StatisticsObjectID = objectID
        AND StatisticsCode ='avgtimeonpage' AND StatisticsSiteID = @CMSContextCurrentSiteID
       )
 
 SELECT PagePath AS '{$reports_pageviews_Year.path_header$}',pageviews AS  '{$reports_pageviews_Year.hits_header$}',
      CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_pageviews.percent_header$}', ISNULL(CONVERT(varchar, DATEADD(s, average, 0), 108),'00:00:00') AS '{$reports_pageviews.average$}'
  
   FROM @PaveViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>61</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>e33dd959-8cfe-4dee-ae4e-e1fef7055e59</TableGUID>
    <TableLastModified>2015-01-19T13:03:49.1635276+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>111</TableID>
    <TableName>ExpiredDocsTable</TableName>
    <TableDisplayName>Expired pages table</TableDisplayName>
    <TableQuery>Select DocumentName AS 'Name', NodeAliasPath AS 'Alias path', DocumentPublishTo AS 'Expiration date', FirstName + ' '  + LastName + ' (' + UserName +')' AS 'Last modified by', StepDisplayName AS 'Current workflow step' FROM View_CMS_Tree_Joined LEFT JOIN CMS_User ON View_CMS_Tree_Joined.DocumentModifiedByUserID=CMS_User.UserID LEFT JOIN CMS_WorkflowStep ON View_CMS_Tree_Joined.DocumentWorkflowStepID = CMS_WorkflowStep.StepID Where (DocumentPublishTo IS NOT NULL) AND (DocumentPublishTo &lt; @CMSContextCurrentTime) AND (NodeSiteID=@CMSContextCurrentSiteID) ORDER BY DocumentPublishTo DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>52</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No expired pages found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>305d166c-9965-4076-8ba1-0eb3535815b8</TableGUID>
    <TableLastModified>2014-06-23T09:58:34.9871967+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>112</TableID>
    <TableName>ArchivedDocsTable</TableName>
    <TableDisplayName>Archived pages table</TableDisplayName>
    <TableQuery>Select DocumentName AS 'Page name', NodeAliasPath AS 'Alias path', FirstName + ' '  + LastName + ' (' + UserName +')' AS 'Last modified by', StepDisplayName AS 'Current workflow step' FROM View_CMS_Tree_Joined LEFT JOIN CMS_User ON View_CMS_Tree_Joined.DocumentModifiedByUserID=CMS_User.UserID LEFT JOIN CMS_WorkflowStep ON View_CMS_Tree_Joined.DocumentWorkflowStepID = CMS_WorkflowStep.StepID WHERE (DocumentWorkflowStepID IN (SELECT StepID From CMS_WorkflowStep WHERE StepType=101) AND (NodeSiteID=@CMSContextCurrentSiteID)) ORDER BY NodeAliasPath</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>53</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No archived pages found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>eaff66b0-76df-4898-98c2-f04f748a4bfe</TableGUID>
    <TableLastModified>2014-06-23T09:51:20.1187142+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>113</TableID>
    <TableName>DocsWaitingForApproval</TableName>
    <TableDisplayName>Pages waiting for approval</TableDisplayName>
    <TableQuery>SELECT DocumentName AS 'Name', NodeAliasPath AS 'Alias path', FirstName + ' '  + LastName + ' (' + UserName +')' AS 'Last modified by', StepDisplayName AS 'Current workflow step' 
FROM View_CMS_Tree_Joined LEFT JOIN CMS_User ON View_CMS_Tree_Joined.DocumentModifiedByUserID=CMS_User.UserID LEFT JOIN CMS_WorkflowStep ON View_CMS_Tree_Joined.DocumentWorkflowStepID = CMS_WorkflowStep.StepID WHERE View_CMS_Tree_Joined.DocumentWorkflowStepID IN (SELECT StepID FROM CMS_WorkflowStep WHERE (StepType NOT IN (6, 11, 100, 101))) AND (NodeSiteID = @CMSContextCurrentSiteID) ORDER BY NodeAliasPath</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>54</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No waiting pages found&lt;/querynorecordtext&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>15feabe3-d47c-4a6b-8345-1b87c7b3e576</TableGUID>
    <TableLastModified>2015-04-09T10:45:48.0108933+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>114</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PaveViews TABLE
(
  PagePath NVARCHAR(500),
  ObjectID INT,
  Pageviews INT,
  Percents DECIMAL(10,2),
  Average INT  
)

DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

SELECT @Sum =   
  SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID  AND StatisticsObjectCulture = DocumentCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
 AND (HitsEndTime &lt;= @ToDate)

INSERT INTO @PaveViews (PagePath,ObjectID,PageViews,Percents)
  SELECT TOP 100 StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
  (
    SELECT
     -- When NodeAliasPath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
     -- In this case row can't be joined with View_CMS_Tree_Joined.
     CASE
      WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
      ELSE NodeAliasPath
     END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
     FROM Analytics_Statistics
     INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
     LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
     WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
  ) AS StatsWithPath
  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
  ORDER BY PageViews DESC
 
 UPDATE @PaveViews SET Average = (SELECT SUM(HitsValue)/SUM(HitsCount) FROM Analytics_HourHits JOIN
      Analytics_Statistics ON HitsStatisticsID = StatisticsID
      WHERE HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate AND StatisticsObjectID = objectID
        AND StatisticsCode ='avgtimeonpage' AND StatisticsSiteID = @CMSContextCurrentSiteID
       )
 
 SELECT PagePath AS '{$reports_pageviews_Hour.path_header$}',pageviews AS  '{$reports_pageviews_Hour.hits_header$}',
      CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_pageviews.percent_header$}', ISNULL(CONVERT(varchar, DATEADD(s, average, 0), 108),'00:00:00') AS '{$reports_pageviews.average$}'
  
   FROM @PaveViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>62</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>079ba574-57b1-4d4f-8615-66c576439f55</TableGUID>
    <TableLastModified>2015-01-19T12:58:33.8770021+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>115</TableID>
    <TableName>TableDayPageNotFound</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_pagenotfound_day.name_header$}', 
 SUM(HitsCount) AS '{$reports_pagenotfound_day.hits_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName 
 ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>63</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>fca58f03-6c62-41f6-9bce-67bdb3974abc</TableGUID>
    <TableLastModified>2013-11-22T08:45:17.3395273+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>116</TableID>
    <TableName>TableMonthPageNotFound</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_pagenotfound_month.name_header$}', 
 SUM(HitsCount) AS '{$reports_pagenotfound_month.hits_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName)  
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName 
 ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>64</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>36733865-50cb-4775-b1fb-bf5cee65114a</TableGUID>
    <TableLastModified>2013-11-22T08:45:17.4205354+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>117</TableID>
    <TableName>TableYearPageNotFound</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100 StatisticsObjectName AS '{$reports_pagenotfound_year.name_header$}', SUM(HitsCount) AS '{$reports_pagenotfound_year.hits_header$}' FROM 
Analytics_Statistics, Analytics_YearHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>65</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>afaa4805-20b0-44cd-98f9-a3083c3b2413</TableGUID>
    <TableLastModified>2013-11-22T08:45:17.526546+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>118</TableID>
    <TableName>TableHourPageNotFound</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_pagenotfound_hour.path_header$}', 
 SUM(HitsCount) AS '{$reports_pagenotfound_hour.hits_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>66</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b426ae01-fe3b-4e96-baed-94ac4cd431a3</TableGUID>
    <TableLastModified>2013-11-22T08:45:17.7085642+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>119</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

SELECT @Sum = 
 SUM(HitsCount)  FROM
Analytics_Statistics, Analytics_DayHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
 (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 

SELECT TOP 100 StatisticsObjectName AS '{$reports_referrals_day.name_header$}', 
SUM(HitsCount) AS '{$reports_referrals_day.hits_header$}',
CAST (CAST ((SUM(HitsCount) / @Sum) *100 AS DECIMAL(10,2)) AS NVARCHAR(8)) +'%' AS '{$reports_referrals_day.percent_header$}'
  FROM
 Analytics_Statistics, Analytics_DayHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
 (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>67</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>4959a779-0ec7-46e0-8c11-1a35f10905ff</TableGUID>
    <TableLastModified>2013-11-22T08:45:17.8325766+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>120</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

SELECT @Sum = 
 SUM(HitsCount)  FROM
Analytics_Statistics, Analytics_MonthHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
 (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 

SELECT TOP 100 StatisticsObjectName AS '{$reports_referrals_month.name_header$}', 
SUM(HitsCount) AS '{$reports_referrals_month.hits_header$}',
CAST (CAST ((SUM(HitsCount) / @Sum) *100 AS DECIMAL(10,2)) AS NVARCHAR(8)) +'%' AS '{$reports_referrals_month.percent_header$}'
  FROM
 Analytics_Statistics, Analytics_MonthHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
 (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>68</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ab4b39b9-326c-4f7f-a8a7-7c92f0ca2726</TableGUID>
    <TableLastModified>2013-11-22T08:45:17.9285862+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>121</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

SELECT @Sum = 
 SUM(HitsCount)  FROM
Analytics_Statistics, Analytics_YearHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
 (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 

SELECT TOP 100 StatisticsObjectName AS '{$reports_referrals_year.name_header$}', 
SUM(HitsCount) AS '{$reports_referrals_year.hits_header$}',
CAST (CAST ((SUM(HitsCount) / @Sum) *100 AS DECIMAL(10,2)) AS NVARCHAR(8)) +'%' AS '{$reports_referrals_year.percent_header$}'
  FROM
 Analytics_Statistics, Analytics_YearHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
 (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>69</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5a96924b-ed83-484a-a84f-bc6d08da0181</TableGUID>
    <TableLastModified>2013-11-22T08:45:18.0455979+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>122</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

SELECT @Sum = 
 SUM(HitsCount)  FROM
Analytics_Statistics, Analytics_HourHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
 (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 

SELECT TOP 100 StatisticsObjectName AS '{$reports_referrals_hour.name_header$}', 
SUM(HitsCount) AS '{$reports_referrals_hour.hits_header$}',
CAST (CAST ((SUM(HitsCount) / @Sum) *100 AS DECIMAL(10,2)) AS NVARCHAR(8)) +'%' AS '{$reports_referrals_hour.percent_header$}'
  FROM
 Analytics_Statistics, Analytics_HourHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
 (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>70</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>4d6192d9-9a19-448b-b70b-61526c7a3a4a</TableGUID>
    <TableLastModified>2013-11-22T08:45:18.1376071+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>132</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$general.documentname$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_filedownloads_Day.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' as '{$reports_filedownloads_Day.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>86</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d2acff50-77c9-4f7e-aca1-8170a88c86f8</TableGUID>
    <TableLastModified>2013-11-22T08:45:18.2436177+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>134</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$general.documentname$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_filedownloads_Month.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' as '{$reports_filedownloads_Month.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>87</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>eb1dac2c-12b2-4e9e-be41-1d7156cafbc1</TableGUID>
    <TableLastModified>2013-11-22T08:45:18.3346268+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>135</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$general.documentname$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_filedownloads_Year.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' as '{$reports_filedownloads_Year.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>88</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>563dce7e-3087-4103-bce7-94d7aa0a3b9a</TableGUID>
    <TableLastModified>2013-11-22T08:45:18.4246358+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>136</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$general.documentname$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_filedownloads_Hour.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' as '{$reports_filedownloads_Hour.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>89</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d32f6ee1-7c21-411c-b4b7-75ce8e36360e</TableGUID>
    <TableLastModified>2013-11-22T08:45:18.5226456+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>137</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
DECLARE @myselection TABLE (
   NodeAliasPath varchar(400),
   ObjectID INT,
   Culture varchar(400),
   Count float,
   Average int
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection (NodeAliasPath,ObjectID,Culture,Count)
  SELECT TOP 100
  CASE WHEN NodeAliasPath LIKE '' OR NodeAliasPath IS NULL THEN StatisticsObjectName ELSE NodeAliasPath END,
  StatisticsObjectID,StatisticsObjectCulture , 
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, NodeAliasPath, StatisticsObjectName, StatisticsObjectID
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Counted
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)

 UPDATE @myselection SET Average = (SELECT SUM (HitsValue) / SUM (HitsCount) FROM Analytics_HourHits JOIN
      Analytics_Statistics ON HitsStatisticsID = StatisticsID
      WHERE HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate AND ObjectID = StatisticsObjectID
        AND StatisticsCode ='avgtimeonpage' AND StatisticsSiteID = @CMSContextCurrentSiteID
        AND culture = Analytics_Statistics.StatisticsObjectCulture
       )       


 SELECT NodeAliasPath AS '{$reports_pageviews_Day.path_header$}',
 culture AS   '{$general.culture$}',
 Count AS '{$reports_pageviews_Day.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' AS '{$reports_pageviews_Day.hits_percent_header$}',
 ISNULL(CONVERT(varchar, DATEADD(s, average, 0), 108),'00:00:00') AS '{$reports_pageviews.average$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>90</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d088e963-ff55-404f-92c3-19f0976e5ca5</TableGUID>
    <TableLastModified>2015-02-05T12:53:49.2798601+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>138</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
DECLARE @myselection TABLE (
   NodeAliasPath varchar(400),
   ObjectID INT,
   Culture varchar(400),
   Count float,
   Average int
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection (NodeAliasPath,ObjectID,Culture,Count)
  SELECT TOP 100
  CASE WHEN NodeAliasPath LIKE '' OR NodeAliasPath IS NULL THEN StatisticsObjectName ELSE NodeAliasPath END,
  StatisticsObjectID,StatisticsObjectCulture , 
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, NodeAliasPath, StatisticsObjectName, StatisticsObjectID
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Counted
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)

 UPDATE @myselection SET Average = (SELECT SUM (HitsValue) / SUM (HitsCount) FROM Analytics_HourHits JOIN
      Analytics_Statistics ON HitsStatisticsID = StatisticsID
      WHERE HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate AND ObjectID = StatisticsObjectID
        AND StatisticsCode ='avgtimeonpage' AND StatisticsSiteID = @CMSContextCurrentSiteID
        AND culture = Analytics_Statistics.StatisticsObjectCulture
       )       


 SELECT NodeAliasPath AS '{$reports_pageviews_Month.path_header$}',
 culture AS   '{$general.culture$}',
 Count AS '{$reports_pageviews_Month.hits_header$}',
CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' AS '{$reports_pageviews_Month.hits_percent_header$}',
 ISNULL(CONVERT(varchar, DATEADD(s, average, 0), 108),'00:00:00') AS '{$reports_pageviews.average$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>91</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>555720dc-dfd8-42f7-a93b-90b57f61bcd4</TableGUID>
    <TableLastModified>2015-02-05T12:52:22.1578601+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>139</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
DECLARE @myselection TABLE (
   NodeAliasPath varchar(400),
   ObjectID INT,
   Culture varchar(400),
   Count float,
   Average int
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection (NodeAliasPath,ObjectID,Culture,Count)
  SELECT TOP 100
  CASE WHEN NodeAliasPath LIKE '' OR NodeAliasPath IS NULL THEN StatisticsObjectName ELSE NodeAliasPath END,
  StatisticsObjectID,StatisticsObjectCulture , 
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, NodeAliasPath, StatisticsObjectName, StatisticsObjectID
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Counted
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)

 UPDATE @myselection SET Average = (SELECT SUM (HitsValue) / SUM (HitsCount) FROM Analytics_HourHits JOIN
      Analytics_Statistics ON HitsStatisticsID = StatisticsID
      WHERE HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate AND ObjectID = StatisticsObjectID
        AND StatisticsCode ='avgtimeonpage' AND StatisticsSiteID = @CMSContextCurrentSiteID
        AND culture = Analytics_Statistics.StatisticsObjectCulture
       )       


 SELECT NodeAliasPath AS '{$reports_pageviews_Year.path_header$}',
 culture AS   '{$general.culture$}',
 Count AS '{$reports_pageviews_Year.hits_header$}',
  CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' AS '{$reports_pageviews_Year.hits_percent_header$}',
 ISNULL(CONVERT(varchar, DATEADD(s, average, 0), 108),'00:00:00') AS '{$reports_pageviews.average$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>92</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>44dc48c4-090f-4fb6-bec3-4814bdbb2a3d</TableGUID>
    <TableLastModified>2015-02-05T12:57:22.4448601+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>140</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
DECLARE @myselection TABLE (
   NodeAliasPath varchar(400),
   ObjectID INT,
   Culture varchar(400),
   Count float,
   Average int
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection (NodeAliasPath,ObjectID,Culture,Count)
  SELECT TOP 100
  CASE WHEN NodeAliasPath LIKE '' OR NodeAliasPath IS NULL THEN StatisticsObjectName ELSE NodeAliasPath END,
  StatisticsObjectID,StatisticsObjectCulture , 
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, NodeAliasPath, StatisticsObjectName, StatisticsObjectID
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Counted
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)

 UPDATE @myselection SET Average = (SELECT SUM (HitsValue) / SUM (HitsCount) FROM Analytics_HourHits JOIN
      Analytics_Statistics ON HitsStatisticsID = StatisticsID
      WHERE HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate AND ObjectID = StatisticsObjectID
        AND StatisticsCode ='avgtimeonpage' AND StatisticsSiteID = @CMSContextCurrentSiteID
        AND culture = Analytics_Statistics.StatisticsObjectCulture
       )       


 SELECT NodeAliasPath AS '{$reports_pageviews_Hour.path_header$}',
 culture AS   '{$general.culture$}',
 Count AS '{$reports_pageviews_Hour.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' AS '{$reports_pageviews_Hour.hits_percent_header$}',
 ISNULL(CONVERT(varchar, DATEADD(s, average, 0), 108),'00:00:00') AS '{$reports_pageviews.average$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>93</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9ad190f2-6d1f-4419-92b2-261f14d0d468</TableGUID>
    <TableLastModified>2015-02-05T12:55:07.5308601+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>141</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_DayHits, Analytics_Statistics
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName AND CampaignSiteID = @CMSContextCurrentSiteID
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC

</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>94</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2cd0dfae-8282-4a07-8b7b-4c85056537cb</TableGUID>
    <TableLastModified>2013-11-22T08:45:18.976691+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>142</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_MonthHits, Analytics_Statistics
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName AND CampaignSiteID = @CMSContextCurrentSiteID
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC

</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>95</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5667ec53-453a-45c7-ad69-a76ea53b2877</TableGUID>
    <TableLastModified>2013-11-22T08:45:19.0697003+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>143</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_YearHits, Analytics_Statistics
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName AND CampaignSiteID = @CMSContextCurrentSiteID
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC

</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>96</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>14bab9a1-14e9-4c9f-a2cf-4d343a4118d9</TableGUID>
    <TableLastModified>2013-11-22T08:45:19.1917125+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>144</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_HourHits, Analytics_Statistics
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName AND CampaignSiteID = @CMSContextCurrentSiteID
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC

</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>97</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1bb584c6-62f9-47f1-b7fd-3f94b9fb2d84</TableGUID>
    <TableLastModified>2013-11-22T08:45:19.306724+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>145</TableID>
    <TableName>TableDayConversion</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

SELECT TOP 100 ConversionDisplayName AS '{$reports_conversion.name_header$}', SUM(HitsCount) AS
'{$reports_conversion.hits_header$}',SUM(HitsValue) AS '{$reports_conversion.value_header$}' FROM
Analytics_Statistics
JOIN Analytics_DayHits  ON HitsStatisticsID = StatisticsID
JOIN Analytics_Conversion ON ConversionName  = StatisticsObjectName AND ConversionSiteID = @CMSContextCurrentSiteID
WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND
(StatisticsCode=N'conversion') AND (StatisticsID = HitsStatisticsID) AND (HitsStartTime &gt;= @FromDate) AND
(@ConversionName IS NULL OR @ConversionName IN ('',StatisticsObjectName)) AND
(HitsEndTime &lt;= @ToDate) GROUP BY ConversionDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>98</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>dba28818-8a32-4029-9449-1134db4d52c3</TableGUID>
    <TableLastModified>2013-11-22T08:45:19.4157349+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>146</TableID>
    <TableName>TableMonthConversion</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

SELECT TOP 100 ConversionDisplayName AS '{$reports_conversion.name_header$}', SUM(HitsCount) AS
'{$reports_conversion.hits_header$}',SUM(HitsValue) AS '{$reports_conversion.value_header$}' FROM
Analytics_Statistics
JOIN Analytics_MonthHits  ON HitsStatisticsID = StatisticsID
JOIN Analytics_Conversion ON ConversionName  = StatisticsObjectName AND ConversionSiteID = @CMSContextCurrentSiteID
WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND
(StatisticsCode=N'conversion') AND (StatisticsID = HitsStatisticsID) AND (HitsStartTime &gt;= @FromDate) AND
(@ConversionName IS NULL OR @ConversionName IN ('',StatisticsObjectName)) AND
(HitsEndTime &lt;= @ToDate) GROUP BY ConversionDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>99</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>c350451e-e82d-4f51-89a7-1c7e32a88faa</TableGUID>
    <TableLastModified>2013-11-22T08:45:19.5397473+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>147</TableID>
    <TableName>TableYearConversion</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

SELECT TOP 100 ConversionDisplayName AS '{$reports_conversion.name_header$}', SUM(HitsCount) AS
'{$reports_conversion.hits_header$}',SUM(HitsValue) AS '{$reports_conversion.value_header$}' FROM
Analytics_Statistics
JOIN Analytics_YearHits  ON HitsStatisticsID = StatisticsID
JOIN Analytics_Conversion ON ConversionName  = StatisticsObjectName AND ConversionSiteID = @CMSContextCurrentSiteID
WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND
(StatisticsCode=N'conversion') AND (StatisticsID = HitsStatisticsID) AND (HitsStartTime &gt;= @FromDate) AND
(@ConversionName IS NULL OR @ConversionName IN ('',StatisticsObjectName)) AND
(HitsEndTime &lt;= @ToDate) GROUP BY ConversionDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>100</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9394ce04-7501-4888-ae83-4835bedb43f5</TableGUID>
    <TableLastModified>2013-11-22T08:45:19.6407574+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>148</TableID>
    <TableName>TableHourConversion</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

SELECT TOP 100 ConversionDisplayName AS '{$reports_conversion.name_header$}', SUM(HitsCount) AS
'{$reports_conversion.hits_header$}',SUM(HitsValue) AS '{$reports_conversion.value_header$}' FROM
Analytics_Statistics
JOIN Analytics_HourHits  ON HitsStatisticsID = StatisticsID
JOIN Analytics_Conversion ON ConversionName  = StatisticsObjectName AND ConversionSiteID = @CMSContextCurrentSiteID
WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND
(StatisticsCode=N'conversion') AND (StatisticsID = HitsStatisticsID) AND (HitsStartTime &gt;= @FromDate) AND
(HitsEndTime &lt;= @ToDate) AND 
  (@ConversionName IS NULL OR @ConversionName IN ('',StatisticsObjectName))
GROUP BY ConversionDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>101</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>75df0d0f-f86e-42bd-af2c-88024f27bd3a</TableGUID>
    <TableLastModified>2013-11-22T08:45:19.7457679+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>152</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Selects the products meeting the conditions from the filter */
DECLARE @GlobalProducts bit;
SET @GlobalProducts = {%Settings.CMSStoreAllowGlobalProducts?1:0|(user)administrator|(hash)bce17da0ca0110e5881bd0e3c90c3a74cddfb1c291e64591dd13041a705a75eb%};
DECLARE @GlobalOptions bit;
SET @GlobalOptions = {%Settings.CMSStoreAllowGlobalProductOptions?1:0|(user)administrator|(hash)2a2742ee8aa469e7ddbdc886b6b592b752c193f3d93c7e3f3e981db361ebf414%};
SELECT 
   ISNULL(parent.SKUName + ': ', '') + product.SKUName + ISNULL(' (' + COM_OptionCategory.CategoryDisplayName + ')', '') AS '{$product_list.productname$}',
   product.SKUNumber AS '{$ecommerce.report_productnumber$}',
   ISNULL(department.DepartmentDisplayName, parentDepartment.DepartmentDisplayName) AS '{$objecttype.com_department$}', 
   ISNULL(manufacturer.ManufacturerDisplayName,parentManufacturer.ManufacturerDisplayName) AS '{$objecttype.com_manufacturer$}',
   ISNULL(supplier.SupplierDisplayName,parentSupplier.SupplierDisplayName) AS '{$objecttype.com_supplier$}',
   CAST(product.SKUPrice AS DECIMAL(38,2)) AS '{$com.inventory.price$}',
   ISNULL(CAST(product.SKUReOrderAt AS nvarchar(16)), '-') AS '{$com.report_reorderat$}',
   ISNULL(CAST(product.SKUAvailableItems AS nvarchar(16)), '-') AS '{$ecommerce.report_availableitems$}'
FROM 
   COM_SKU product
   LEFT JOIN COM_Department department
      ON department.DepartmentID = product.SKUDepartmentID
   LEFT JOIN COM_Supplier supplier
      ON supplier.SupplierID = SKUSupplierID 
   LEFT JOIN COM_Manufacturer manufacturer
      ON manufacturer.ManufacturerID = product.SKUManufacturerID 
   LEFT JOIN COM_PublicStatus publicStatus
      ON publicStatus.PublicStatusID = product.SKUPublicStatusID 
   LEFT JOIN COM_InternalStatus internalStatus
      ON internalStatus.InternalStatusID = product.SKUInternalStatusID
   LEFT JOIN COM_OptionCategory 
      ON CategoryID = SKUOptionCategoryID
   LEFT JOIN COM_SKU parent
      ON product.SKUParentSKUID = parent.SKUID
   LEFT JOIN COM_Department parentDepartment
      ON parentDepartment.DepartmentID = parent.SKUDepartmentID
   LEFT JOIN COM_Supplier parentSupplier
      ON parentSupplier.SupplierID = parent.SKUSupplierID 
   LEFT JOIN COM_Manufacturer parentManufacturer
      ON parentManufacturer.ManufacturerID = parent.SKUManufacturerID 
   LEFT JOIN COM_PublicStatus parentPublicStatus
      ON parentPublicStatus.PublicStatusID = parent.SKUPublicStatusID
   LEFT JOIN COM_InternalStatus parentInternalStatus
      ON parentInternalStatus.InternalStatusID = parent.SKUInternalStatusID
WHERE
   (@ProductName IS NULL OR @ProductName = '' OR product.SKUName LIKE '%'+@ProductName+'%')
   AND (@ProductNumber IS NULL OR @ProductNumber = '' OR product.SKUNumber LIKE '%'+@ProductNumber+'%')
   AND (@DepartmentID &lt; 0 OR product.SKUDepartmentID = @DepartmentID OR (@DepartmentID IS NULL AND product.SKUDepartmentID IS NULL AND parent.SKUDepartmentID IS NULL) OR parent.SKUDepartmentID = @DepartmentID) 
   AND (@SupplierID &lt; 0 OR product.SKUSupplierID = @SupplierID OR (@SupplierID IS NULL AND product.SKUSupplierID IS NULL AND parent.SKUSupplierID IS NULL) OR parent.SKUSupplierID = @SupplierID) 
   AND (ISNULL(@NeedsReordered,0) = 0 OR (ISNULL(product.SKUAvailableItems,0) &lt;= product.SKUReOrderAt))
   AND (@Limit IS NULL OR (ISNULL(product.SKUAvailableItems,0) &lt; @Limit))
   AND (product.SKUOptionCategoryID IS NULL OR ((@GlobalOptions = 1 AND product.SKUSiteID IS NULL) OR product.SKUSiteID = @CMSContextCurrentSiteID))
   AND (product.SKUOptionCategoryID IS NOT NULL OR ((@GlobalProducts = 1 AND product.SKUSiteID IS NULL) OR product.SKUSiteID = @CMSContextCurrentSiteID))
   AND (product.SKUOptionCategoryID IS NULL OR (CategoryType = 'PRODUCTS'))   
   AND (@ManufacturerID &lt; 0 OR product.SKUManufacturerID = @ManufacturerID OR (@ManufacturerID IS NULL AND product.SKUManufacturerID IS NULL AND parent.SKUManufacturerID IS NULL ) OR parent.SKUManufacturerID = @ManufacturerID)
   AND (@InternalStatusID &lt; 0 OR product.SKUInternalStatusID = @InternalStatusID OR (@InternalStatusID IS NULL AND product.SKUInternalStatusID IS NULL AND parent.SKUInternalStatusID IS NULL) OR parent.SKUInternalStatusID = @InternalStatusID)
   AND (@PublicStatusID &lt; 0 OR product.SKUPublicStatusID = @PublicStatusID OR (@PublicStatusID IS NULL AND product.SKUPublicStatusID IS NULL AND parent.SKUPublicStatusID IS NULL) OR parent.SKUPublicStatusID = @PublicStatusID) 
   AND product.SKUEnabled = 1
   AND (parent.SKUEnabled IS NULL OR parent.SKUEnabled = 1)
   AND (product.SKUTrackInventory = 'ByProduct' OR parent.SKUTrackInventory = 'ByVariants')
ORDER BY 
   ISNULL(parent.SKUName, '') + product.SKUName ASC,
   product.SKUNumber ASC,
   product.SKUPrice ASC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>105</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>09730073-aed3-4e26-991e-11e91b2c8df8</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.6662011+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>156</TableID>
    <TableName>Table</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>/* Selects top enabled customers of the current site by volume of sales. 
   Selects the sum of their paid orderds in the main currency. */
   
SELECT TOP (@NumberOfCustomers)
   CustomerFirstName AS '{$ecommerce.report_customer_firstname$}',
   CustomerLastName AS '{$ecommerce.report_customer_lastname$}',
   CustomerCompany AS '{$ecommerce.report_customer_company$}',
   CustomerEmail AS '{$unigrid.userlist.columns.email$}', 
   CAST(SUM(ISNULL(OrderTotalPriceInMainCurrency,0)) AS DECIMAL(38,1)) AS '{$com.sales.volumeofsales$}' 
FROM 
   COM_Customer 
   LEFT JOIN CMS_UserSite 
      ON UserID = CustomerUserID 
   LEFT JOIN COM_Order 
      ON CustomerID = OrderCustomerID 
      AND OrderSiteID=@CMSContextCurrentSiteID
      AND OrderIsPaid = 1
WHERE 
   (CustomerEnabled = 1 OR CustomerID IN (SELECT OrderCustomerID FROM COM_Order WHERE OrderSiteID=@CMSContextCurrentSiteID))
   AND (CustomerSiteID = @CMSContextCurrentSiteID 
        OR (CustomerSiteID IS NULL AND SiteID = @CMSContextCurrentSiteID))
   AND (@FirstName IS NULL OR @FirstName = '' OR CustomerFirstName LIKE ('%'+@FirstName+'%'))
   AND (@LastName IS NULL OR @LastName = '' OR CustomerLastName LIKE ('%'+@LastName+'%'))
   AND (@Company IS NULL OR @Company = '' OR CustomerCompany LIKE ('%'+@Company+'%')) 
   AND (@Email IS NULL OR @Email = '' OR CustomerEmail LIKE ('%' + @Email + '%')) 
   
GROUP BY 
   CustomerID,
   CustomerEmail, 
   CustomerCompany, 
   CustomerFirstName, 
   CustomerLastName
ORDER BY 
   SUM(ISNULL(OrderTotalPriceInMainCurrency,0)) DESC,
   CustomerLastName,   
   CustomerFirstName,
   CustomerCompany</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>109</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>6fe00b31-2adf-4d5e-8bf3-8820563ecfca</TableGUID>
    <TableLastModified>2013-11-22T08:45:19.8947828+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>157</TableID>
    <TableName>TableDayBrowserType</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_browsertype.name_header$}', 
 SUM(HitsCount) AS '{$reports_browsertype.hits_header$}', 
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount) 
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) 
 AS VARCHAR)+'%' AS '{$reports_browsertype.percent_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>110</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2aaf1e80-15a2-44c6-b0c9-d9b1a09efc24</TableGUID>
    <TableLastModified>2013-11-22T08:45:19.9957929+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>158</TableID>
    <TableName>TableHourBrowserType</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_browsertype.name_header$}', 
 SUM(HitsCount) AS '{$reports_browsertype.hits_header$}', 
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount) 
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_browsertype.percent_header$}' 
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectName 
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>111</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>4873edaa-a541-4055-bfb9-99f47fa5a916</TableGUID>
    <TableLastModified>2013-11-22T08:45:20.0958029+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>159</TableID>
    <TableName>TableMonthBrowserType</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_browsertype.name_header$}',
 SUM(HitsCount) AS '{$reports_browsertype.hits_header$}', 
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount) 
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_browsertype.percent_header$}' 
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectName 
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>112</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>6ecb01ea-2939-4a26-8d14-922e1c15f60b</TableGUID>
    <TableLastModified>2013-11-22T08:45:20.1878121+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>160</TableID>
    <TableName>TableYearBrowserType</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_browsertype.name_header$}',
 SUM(HitsCount) AS '{$reports_browsertype.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_browsertype.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>113</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>98141f5c-a3dc-4137-b1c3-5ff017d53bda</TableGUID>
    <TableLastModified>2013-11-22T08:45:20.2808214+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>161</TableID>
    <TableName>TableDayCountries</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_countries.name_header$}', 
 SUM(HitsCount) AS '{$reports_countries.hits_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) 
 AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName 
 ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>126</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0095a983-301d-4d44-b620-2bf501574349</TableGUID>
    <TableLastModified>2013-11-22T08:45:20.3998333+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>162</TableID>
    <TableName>TableHourCountries</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_countries.name_header$}', 
 SUM(HitsCount) AS '{$reports_countries.hits_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>128</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>181ec0f9-a70c-4048-a0df-f39d122fdd62</TableGUID>
    <TableLastModified>2013-11-22T08:45:20.5088442+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>163</TableID>
    <TableName>TableMonthCountries</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_countries.name_header$}', 
 SUM(HitsCount) AS '{$reports_countries.hits_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) 
 AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName 
 ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>129</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>e666ff48-ffdc-40f1-922b-356c177ae49e</TableGUID>
    <TableLastModified>2013-11-22T08:45:20.6428576+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>164</TableID>
    <TableName>TableYearCountries</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100 StatisticsObjectName AS '{$reports_countries.name_header$}', SUM(HitsCount) AS '{$reports_countries.hits_header$}' FROM
Analytics_Statistics, Analytics_WeekHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>130</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>cbfb887e-752e-448a-a0bf-77cc756c86fd</TableGUID>
    <TableLastModified>2013-11-22T08:45:20.7248658+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>174</TableID>
    <TableName>TableMonthRegisteredUsers</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100 
 StatisticsObjectID AS '{$reports_registeredusers.UserID_header$}', 
 StatisticsObjectName AS '{$reports_registeredusers.UserName_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) 
 AND (HitsEndTime &lt;= @ToDate)</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>146</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9aced55d-b9a7-4f7c-a1a3-f51fa6a8bdce</TableGUID>
    <TableLastModified>2013-11-22T08:45:20.9388872+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>176</TableID>
    <TableName>TableYearRegisteredUsers</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
 StatisticsObjectID AS '{$reports_registeredusers.UserID_header$}',
 StatisticsObjectName AS '{$reports_registeredusers.UserName_header$}'
 FROM Analytics_Statistics
 INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName)
 AND (HitsStartTime &gt;= @FromDate)
 AND (HitsEndTime &lt;= @ToDate)</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>149</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ab0b845a-f3ff-45fb-84dd-004c761fd1e5</TableGUID>
    <TableLastModified>2013-11-22T08:45:21.0298963+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>200</TableID>
    <TableName>InventoryTable</TableName>
    <TableDisplayName>InventoryTable</TableDisplayName>
    <TableQuery>SELECT NodeAliasPath AS 'Alias Path', 
	DocumentCulture AS 'Language', 
	DocumentName AS 'Name', 
	DocumentModifiedWhen AS 'Last modified', 
	UserName AS 'Last modified by',
	StepDisplayName AS 'Workflow step',
	DocumentPublishFrom AS 'Publish from',
	DocumentPublishTo AS 'Publish to'
FROM View_CMS_Tree_Joined
LEFT JOIN CMS_User ON DocumentModifiedByUserID = UserID
LEFT JOIN CMS_WorkFlowStep ON DocumentWorkflowStepID = StepID
WHERE (@OnlyPublished = 0 OR ([DocumentCanBePublished] = @OnlyPublished AND ([DocumentPublishFrom] IS NULL OR [DocumentPublishFrom] &lt;= @CMSContextCurrentTime) AND ([DocumentPublishTo] IS NULL OR [DocumentPublishTo] &gt;= @CMSContextCurrentTime))) 
AND (NodeSiteID = @CMSContextCurrentSiteID)
AND (@ModifiedFrom IS NULL OR DocumentModifiedWhen &gt;= @ModifiedFrom)
AND (@ModifiedTo IS NULL OR DocumentModifiedWhen &lt; @ModifiedTo) 
AND (NodeAliasPath LIKE @path)
AND (@Language IS NULL OR @Language = '-1' OR DocumentCulture = @Language)
AND (@name IS NULL OR DocumentName LIKE '%'+@name+'%')
ORDER BY NodeAliasPath</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>186</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No inventory data found&lt;/querynorecordtext&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>73ad09f4-db03-47ae-a09d-9b5ad4c76e11</TableGUID>
    <TableLastModified>2015-11-03T14:50:40.9697822+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>201</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
		) AS StatsWithPath
		GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
		ORDER BY PageViews DESC 
  
	SELECT PagePath AS '{$reports_aggviews_Hour.path_header$}',PageViews AS '{$reports_aggviews_Hour.hits_header$}',
		CAST (Percents AS NVARCHAR(10)) +'%' AS '{$reports_aggviews_Hour.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>187</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5d1ae09c-51cd-4ecd-a49e-92d0cf105ea1</TableGUID>
    <TableLastModified>2013-11-22T08:45:21.9429876+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>202</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
	  SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
	  (
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC 
  
	SELECT PagePath AS '{$reports_aggviews_Day.path_header$}', PageViews AS '{$reports_aggviews_Day.hits_header$}',
		CAST (Percents AS NVARCHAR(10)) +'%' AS '{$reports_aggviews_Day.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>188</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d1e18337-1946-47e2-9cc4-ff7e2178a3e5</TableGUID>
    <TableLastModified>2013-11-22T08:45:22.0179951+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>203</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC

	SELECT PagePath AS '{$reports_aggviews_Month.path_header$}', PageViews AS '{$reports_aggviews_Month.hits_header$}',
		CAST (Percents AS NVARCHAR(10)) +'%' AS '{$reports_aggviews_Month.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>189</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>db2d3ab2-ef30-430a-9d17-9fe01abb383c</TableGUID>
    <TableLastModified>2013-11-22T08:45:22.1300063+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>204</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
		) AS StatsWithPath
		GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
		ORDER BY PageViews DESC
 
  
	SELECT PagePath AS '{$reports_aggviews_Year.path_header$}', PageViews AS '{$reports_aggviews_Year.hits_header$}',
		CAST (Percents AS NVARCHAR(10)) +'%' AS '{$reports_aggviews_Year.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>190</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>464f3553-f5e5-48a9-a1e6-8d88a1427603</TableGUID>
    <TableLastModified>2013-11-22T08:45:22.2230156+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>205</TableID>
    <TableName>TableMonthAggViewsCulture</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection 
  SELECT TOP 100 
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END, 
  StatisticsObjectCulture , 
  SUM(HitsCount) AS Count 
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName 
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll 
  SELECT
  SUM(HitsCount) AS Count 
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$reports_aggviews_month.path_header$}', 
 StatisticsObjectCulture AS   '{$general.culture$}', 
 Count AS '{$reports_aggviews_month.hits_header$}', 
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' as '{$reports_aggviews_month.hits_percent_header$}' 
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>191</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>70c1bd35-c313-46d2-8ebc-e25d00f5eeac</TableGUID>
    <TableLastModified>2013-11-22T08:45:22.3100243+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>206</TableID>
    <TableName>TableDayAggViewsCulture</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection 
  SELECT TOP 100 
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END AS '{$reports_pageviews_day.path_header$}',  
  StatisticsObjectCulture AS '{$general.culture$}', 
  SUM(HitsCount) AS '{$reports_pageviews_day.hits_header$}' 
  FROM Analytics_Statistics 
    INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND Analytics_Statistics.StatisticsObjectCulture = View_CMS_Tree_Joined.DocumentCulture
    WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll 
  SELECT
  SUM(HitsCount) AS '{$reports_pageviews_day.hits_header$}' 
  FROM Analytics_Statistics 
    INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND Analytics_Statistics.StatisticsObjectCulture = View_CMS_Tree_Joined.DocumentCulture
    WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate)   
  

SELECT DocumentNamePath AS '{$reports_aggviews_day.path_header$}',  
StatisticsObjectCulture AS '{$general.culture$}', 
Count AS '{$reports_aggviews_day.hits_header$}',
CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%'
as '{$reports_aggviews_day.hits_percent_header$}' 
FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>192</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>21078700-7c9b-464b-9039-a9846e13d8e3</TableGUID>
    <TableLastModified>2013-11-22T08:45:22.4340367+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>207</TableID>
    <TableName>TableHourFileAggViewsCulture</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection 
  SELECT TOP 100 
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END, 
  StatisticsObjectCulture, SUM(HitsCount) 
  FROM Analytics_Statistics
    INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC, StatisticsObjectCulture

INSERT INTO @countedAll 
  SELECT
  SUM(HitsCount) 
  FROM Analytics_Statistics
    INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate)   
  
 SELECT DocumentNamePath AS '{$reports_aggviews_hour.path_header$}', 
 StatisticsObjectCulture AS '{$general.culture$}', 
 Count AS '{$reports_aggviews_hour.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' as '{$reports_aggviews_hour.hits_percent_header$}' 
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>193</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5518de48-41fd-4a57-9da9-47e7124497d6</TableGUID>
    <TableLastModified>2013-11-22T08:45:22.5610494+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>208</TableID>
    <TableName>TableYearAggViewsCulture</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$reports_aggviews_Year.path_header$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_aggviews_Year.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' as '{$reports_aggviews_Year.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>194</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>4d861887-7695-4c86-9114-4894444dac8c</TableGUID>
    <TableLastModified>2013-11-22T08:45:22.6750608+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>285</TableID>
    <TableName>SampleTable</TableName>
    <TableDisplayName>Sample table</TableDisplayName>
    <TableQuery>SELECT  ClassDisplayName as 'Class name',  ((((ClassID+1)) % 10) *  (datepart(ms, GETDATE()) +1)) as 'Random value'  FROM CMS_Class WHERE ClassIsMenuItemType = 1</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>361</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;4&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;False&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>34e7c906-c29d-4e9d-b4a4-4b9f9e217972</TableGUID>
    <TableLastModified>2013-11-25T15:42:42.3162143+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>298</TableID>
    <TableName>TableMonthBrowserType_1</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_browsertype.name_header$}',
 SUM(HitsCount) AS '{$reports_browsertype.hits_header$}', 
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount) 
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_browsertype.percent_header$}' 
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectName 
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>469</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2571db6b-78dd-4656-ab6e-7c28ff707e06</TableGUID>
    <TableLastModified>2013-11-22T08:45:24.5962529+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>299</TableID>
    <TableName>TableMonthRegisteredUsers</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100 
 StatisticsObjectID AS '{$reports_registeredusers.UserID_header$}', 
 StatisticsObjectName AS '{$reports_registeredusers.UserName_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) 
 AND (HitsEndTime &lt;= @ToDate)</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>471</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>04011971-ea7e-476c-a188-c21be0ace365</TableGUID>
    <TableLastModified>2013-11-22T08:45:24.7012634+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>300</TableID>
    <TableName>TableMonthRegisteredUsers</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100 
 StatisticsObjectID AS '{$reports_registeredusers.UserID_header$}', 
 StatisticsObjectName AS '{$reports_registeredusers.UserName_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) 
 AND (HitsEndTime &lt;= @ToDate)</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>472</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>899d074a-a51a-469a-8f9f-df67debb5233</TableGUID>
    <TableLastModified>2013-11-22T08:45:24.8242757+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>301</TableID>
    <TableName>table</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100 
 StatisticsObjectID AS '{$reports_registeredusers.UserID_header$}', 
 StatisticsObjectName AS '{$reports_registeredusers.UserName_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) 
 AND (HitsEndTime &lt;= @ToDate)</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>473</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>4cf6e149-d101-4e78-a500-56e1307b00c4</TableGUID>
    <TableLastModified>2013-11-22T08:45:24.9542887+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>302</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_WeekHits, Analytics_Statistics
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName AND CampaignSiteID = @CMSContextCurrentSiteID
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC

</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>474</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a1153580-6c56-4262-9190-eb0716f6f079</TableGUID>
    <TableLastModified>2013-11-22T08:45:25.0292962+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>303</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

SELECT @Sum = 
 SUM(HitsCount)  FROM
Analytics_Statistics, Analytics_WeekHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
 (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 

SELECT TOP 100 StatisticsObjectName AS '{$reports_referrals_week.name_header$}', 
SUM(HitsCount) AS '{$reports_referrals_week.hits_header$}',
CAST (CAST ((SUM(HitsCount) / @Sum) *100 AS DECIMAL(10,2)) AS NVARCHAR(8)) +'%' AS '{$reports_referrals_week.percent_header$}'
  FROM
 Analytics_Statistics, Analytics_WeekHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
 AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
 (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>475</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>95647f58-b23d-4024-bca9-7da8dc9a4786</TableGUID>
    <TableLastModified>2013-11-22T08:45:25.1343067+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>304</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
	  PagePath NVARCHAR(500),
	  Pageviews INT,
	  Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
	  SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
	  (
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC 
  
	SELECT PagePath AS '{$reports_aggviews_Week.path_header$}', PageViews AS '{$reports_aggviews_Week.hits_header$}',
		CAST (Percents AS NVARCHAR(10)) +'%' AS '{$reports_aggviews_Week.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>476</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>c3578044-57df-474f-ac35-29fd71719ec0</TableGUID>
    <TableLastModified>2013-11-22T08:45:25.2503183+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>305</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$reports_aggviews_Week.path_header$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_aggviews_Week.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' as '{$reports_aggviews_Week.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>477</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>cba70eae-0ef5-42bd-8424-fbc45db31501</TableGUID>
    <TableLastModified>2013-11-22T08:45:25.3343267+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>306</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
	  PagePath NVARCHAR(500),
	  Pageviews INT,
	  Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
	  SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
	  (
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC, StatsWithPath.NodeAliasPath DESC

	SELECT PagePath AS '{$general.documentname$}', PageViews AS '{$reports_filedownloads_Week.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_filedownloads_Week.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>478</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2dcb9d1f-d9b2-4b01-b52b-1df9d03f5bd3</TableGUID>
    <TableLastModified>2015-04-07T09:20:13.3235843+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>307</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$general.documentname$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_filedownloads_Week.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' as '{$reports_filedownloads_Week.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>479</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>6b0d63a6-0cea-43bf-af5a-c4b7cfe7f5be</TableGUID>
    <TableLastModified>2013-11-22T08:45:25.5043437+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>308</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_pagenotfound_Week.name_header$}', 
 SUM(HitsCount) AS '{$reports_pagenotfound_Week.hits_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName)  
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName 
 ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>480</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>f6686f82-a930-49d2-a08a-ba28392e4877</TableGUID>
    <TableLastModified>2013-11-22T08:45:25.5853518+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>309</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PaveViews TABLE
(
  PagePath NVARCHAR(500),
  ObjectID INT,
  Pageviews INT,
  Percents DECIMAL(10,2),
  Average INT  
)

DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

SELECT @Sum =   
  SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID  AND StatisticsObjectCulture = DocumentCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
 AND (HitsEndTime &lt;= @ToDate)

INSERT INTO @PaveViews (PagePath,ObjectID,PageViews,Percents)
  SELECT TOP 100 StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
  (
    SELECT
     -- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
     -- In this case row can't be joined with View_CMS_Tree_Joined.
     CASE
      WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
      ELSE NodeAliasPath
     END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
     FROM Analytics_Statistics
     INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
     LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
     WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
  ) AS StatsWithPath
  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
  ORDER BY PageViews DESC


 UPDATE @PaveViews SET Average = (SELECT SUM(HitsValue)/SUM(HitsCount) FROM Analytics_WeekHits JOIN
      Analytics_Statistics ON HitsStatisticsID = StatisticsID
      WHERE HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate AND StatisticsObjectID = objectID
        AND StatisticsCode ='avgtimeonpage' AND StatisticsSiteID = @CMSContextCurrentSiteID
       )
 
 SELECT PagePath AS '{$reports_pageviews_Week.path_header$}',pageviews AS  '{$reports_pageviews_Week.hits_header$}',
      CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_pageviews.percent_header$}', ISNULL(CONVERT(varchar, DATEADD(s, average, 0), 108),'00:00:00') AS '{$reports_pageviews.average$}'
  
   FROM @PaveViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>481</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b48a5b0b-b1d4-4756-84a4-9aa09fcf2ab3</TableGUID>
    <TableLastModified>2015-01-19T13:03:16.0002116+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>310</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
DECLARE @myselection TABLE (
   NodeAliasPath varchar(400),
   ObjectID INT,
   Culture varchar(400),
   Count float,
   Average int
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection (NodeAliasPath,ObjectID,Culture,Count)
  SELECT TOP 100
  CASE WHEN NodeAliasPath LIKE '' OR NodeAliasPath IS NULL THEN StatisticsObjectName ELSE NodeAliasPath END,
  StatisticsObjectID,StatisticsObjectCulture , 
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, NodeAliasPath, StatisticsObjectName, StatisticsObjectID
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Counted
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)

 UPDATE @myselection SET Average = (SELECT SUM (HitsValue) / SUM (HitsCount) FROM Analytics_HourHits JOIN
      Analytics_Statistics ON HitsStatisticsID = StatisticsID
      WHERE HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate AND ObjectID = StatisticsObjectID
        AND StatisticsCode ='avgtimeonpage' AND StatisticsSiteID = @CMSContextCurrentSiteID
        AND culture = Analytics_Statistics.StatisticsObjectCulture
       )       


 SELECT NodeAliasPath AS '{$reports_pageviews_Week.path_header$}',
 culture AS   '{$general.culture$}',
 Count AS '{$reports_pageviews_Week.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2))AS NVARCHAR(10))+'%' AS '{$reports_pageviews_Week.hits_percent_header$}',
 ISNULL(CONVERT(varchar, DATEADD(s, average, 0), 108),'00:00:00') AS '{$reports_pageviews.average$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>482</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>c4dddf6e-aa81-4eae-9166-a53718aa3a65</TableGUID>
    <TableLastModified>2015-02-05T12:56:15.9578601+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>311</TableID>
    <TableName>TableMonthConversion_1</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

SELECT TOP 100 ConversionDisplayName AS '{$reports_conversion.name_header$}', SUM(HitsCount) AS
'{$reports_conversion.hits_header$}',SUM(HitsValue) AS '{$reports_conversion.value_header$}' FROM
Analytics_Statistics
JOIN Analytics_WeekHits  ON HitsStatisticsID = StatisticsID
JOIN Analytics_Conversion ON ConversionName  = StatisticsObjectName AND ConversionSiteID = @CMSContextCurrentSiteID
WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND
(StatisticsCode=N'conversion') AND (StatisticsID = HitsStatisticsID) AND (HitsStartTime &gt;= @FromDate) AND
(@ConversionName IS NULL OR @ConversionName IN ('',StatisticsObjectName)) AND
(HitsEndTime &lt;= @ToDate) GROUP BY ConversionDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>483</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>85728b46-42cd-42d4-8d54-e0f01f5a70d1</TableGUID>
    <TableLastModified>2013-11-22T08:45:25.8753808+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>314</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Trims the value of @FromDate to be able to display weeks in the table. */
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
/* Selects the number of orders created in the given weeks. */
SELECT 
   CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+'/'+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS '{$ecommerce.report_week$}', 
   COUNT(OrderDate) AS '{$ecommerce.report_numberoforders$}' 
FROM 
   -- returns a column of dates, each week in a new row 
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'week') AS Dates
   LEFT JOIN COM_Order  
      ON ([Date] &lt;= OrderDate  AND  DATEADD(DAY,7,[Date]) &gt; OrderDate) 
      AND OrderSiteID = @CMSContextCurrentSiteID
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>489</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1f53407e-d610-41a7-b803-a6deaa20b223</TableGUID>
    <TableLastModified>2013-11-22T08:45:25.9323865+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>315</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Trims the value of @FromDate to be able to display hours in the table. */
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');

/* Selects the number of orders created in the given hours. */
SELECT 
   [Date] AS '{$ecommerce.report_hour$}', 
   COUNT(OrderDate) AS '{$ecommerce.report_numberoforders$}'  
FROM 
   -- returns a column of dates, each hour in a new row 
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'hour') AS Dates
   LEFT JOIN COM_Order  
      ON ([Date] &lt;= OrderDate  AND  DATEADD(HOUR,1,[Date]) &gt; OrderDate) 
      AND OrderSiteID = @CMSContextCurrentSiteID
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>490</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a7dbcbda-1d17-46aa-9021-a88707265e35</TableGUID>
    <TableLastModified>2013-11-22T08:45:26.0283961+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>321</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

SELECT 
   DATEPART(YEAR,[Date]) AS '{$ecommerce.report_year$}',
   CAST(SUM(ISNULL(OrderTotalPriceInMainCurrency,0)) AS DECIMAL(38,1)) AS '{$com.sales.volumeofsales$}' 
FROM 
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'year') AS Dates
   LEFT JOIN COM_Order
      ON Dates.Date = DATENAME(year, OrderDate)
      AND  OrderSiteID = @CMSContextCurrentSiteID 
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>496</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>182b094b-cd05-4c1a-bda2-800a646041c6</TableGUID>
    <TableLastModified>2013-11-22T08:45:26.1564089+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>322</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');

SELECT 
   CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+'/'+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS '{$ecommerce.report_week$}', 
   CAST(SUM(ISNULL(OrderTotalPriceInMainCurrency,0)) AS DECIMAL(38,1)) AS '{$com.sales.volumeofsales$}' 
FROM 
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'week') AS Dates
   LEFT JOIN COM_Order  
      ON ([Date] &lt;= OrderDate  AND  DATEADD(DAY,7,[Date]) &gt; OrderDate) 
      AND OrderSiteID = @CMSContextCurrentSiteID  
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>497</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>7cc18155-06ab-42c5-9dbf-16a86999ca95</TableGUID>
    <TableLastModified>2013-11-22T08:45:26.2554188+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>323</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

SELECT 
   DATENAME(MONTH,[Date])+', '+ DATENAME(YEAR, [Date]) AS '{$ecommerce.report_month$}',
   CAST(SUM(ISNULL(OrderTotalPriceInMainCurrency,0)) AS DECIMAL(38,1)) AS '{$com.sales.volumeofsales$}' 
FROM 
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'month') AS Dates
   LEFT JOIN COM_Order  
      ON ([Date] &lt;= OrderDate  AND  DATEADD(MONTH,1,[Date]) &gt; OrderDate) 
      AND OrderSiteID = @CMSContextCurrentSiteID 
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>498</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>c52f1ae0-3c4c-42cb-850b-3f2937b7b69e</TableGUID>
    <TableLastModified>2013-11-22T08:45:26.3654298+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>324</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');

SELECT 
   [Date] AS '{$ecommerce.report_hour$}',  
   CAST(SUM(ISNULL(OrderTotalPriceInMainCurrency,0)) AS DECIMAL(38,1)) AS '{$com.sales.volumeofsales$}'  
FROM
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'hour') AS Dates
   LEFT JOIN COM_Order  
      ON ([Date] &lt;= OrderDate  AND  DATEADD(HOUR,1,[Date]) &gt; OrderDate) 
      AND OrderSiteID = @CMSContextCurrentSiteID 
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>499</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a765e078-d500-4692-afe2-6a760a35e55d</TableGUID>
    <TableLastModified>2013-11-22T08:45:26.4684401+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>325</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

SELECT 
   [Date] AS '{$ecommerce.report_day$}',
   CAST(SUM(ISNULL(OrderTotalPriceInMainCurrency,0)) AS DECIMAL(38,1)) AS '{$com.sales.volumeofsales$}'  
FROM 
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'day') AS Dates
   LEFT JOIN COM_Order  
   ON ([Date] &lt;= OrderDate  AND  DATEADD(DAY,1,[Date]) &gt; OrderDate) 
   AND OrderSiteID = @CMSContextCurrentSiteID    
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>500</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>47e4aada-6b9c-4fa4-8d0f-32d20c4022f7</TableGUID>
    <TableLastModified>2014-06-05T08:38:39.8410879+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>327</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_javasupport.name_header$}',
 SUM(HitsCount) AS '{$reports_javasupport.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_javasupport.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>501</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9203700e-7bbd-44ed-8e52-d149c57ba0f7</TableGUID>
    <TableLastModified>2013-11-22T08:45:26.6764609+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>328</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_javasupport.name_header$}',
 SUM(HitsCount) AS '{$reports_javasupport.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_javasupport.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>502</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ef2b1ab9-87e5-43e7-a198-bb5832b764b3</TableGUID>
    <TableLastModified>2013-11-22T08:45:26.7524685+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>329</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_javasupport.name_header$}',
 SUM(HitsCount) AS '{$reports_javasupport.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_javasupport.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>503</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>3f89a211-0a4e-4428-a299-d5c50114d78f</TableGUID>
    <TableLastModified>2013-11-22T08:45:26.8384771+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>330</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_javasupport.name_header$}',
 SUM(HitsCount) AS '{$reports_javasupport.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_javasupport.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>504</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>df007b78-ed2b-4507-b6ed-b6a2f24e85d3</TableGUID>
    <TableLastModified>2013-11-22T08:45:26.9004833+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>331</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_javasupport.name_header$}',
 SUM(HitsCount) AS '{$reports_javasupport.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_javasupport.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>505</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>bbc5a3e1-d48f-40e4-ad88-f55927616f05</TableGUID>
    <TableLastModified>2013-11-22T08:45:26.9784911+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>332</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_silverlightsupport.name_header$}',
 SUM(HitsCount) AS '{$reports_silverlightsupport.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_silverlightsupport.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>506</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>ecb19453-51f8-45b3-a7f0-00d7c9c0694f</TableGUID>
    <TableLastModified>2015-06-09T16:20:01.8724228+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>333</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_silverlightsupport.name_header$}',
 SUM(HitsCount) AS '{$reports_silverlightsupport.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_silverlightsupport.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>507</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>fbd5e825-0dae-4b0a-9541-f1afbb3adc99</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.1265059+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>334</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_silverlightsupport.name_header$}',
 SUM(HitsCount) AS '{$reports_silverlightsupport.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_silverlightsupport.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>508</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>dad6d423-5765-413a-99a4-5866f47eb0da</TableGUID>
    <TableLastModified>2015-06-09T16:19:34.9937352+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>335</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_silverlightsupport.name_header$}',
 SUM(HitsCount) AS '{$reports_silverlightsupport.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_silverlightsupport.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>509</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>f24e73ec-8a3f-4814-8904-982de95be061</TableGUID>
    <TableLastModified>2015-06-09T16:18:55.5457908+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>336</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_silverlightsupport.name_header$}',
 SUM(HitsCount) AS '{$reports_silverlightsupport.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_silverlightsupport.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>510</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>46f0047f-dab7-4b19-adf5-a8339e1e9e20</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.3645297+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>337</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_flash.name_header$}',
 SUM(HitsCount) AS '{$reports_flash.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_flash.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>511</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>683f5483-a9a8-442b-86a6-d7a4bc867299</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.4435376+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>338</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_flash.name_header$}',
 SUM(HitsCount) AS '{$reports_flash.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_flash.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>512</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>488e807b-e09f-4eba-a3e4-994e79ad890d</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.5135446+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>339</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_flash.name_header$}',
 SUM(HitsCount) AS '{$reports_flash.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_flash.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>513</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>122a03d6-773b-4935-866c-84eb5de4cd83</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.5835516+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>340</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_flash.name_header$}',
 SUM(HitsCount) AS '{$reports_flash.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_flash.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>514</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>3f829dd8-6bd6-4d4c-8967-47bbcb0f59b9</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.6495582+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>341</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
 '{'+'$analytics_codename.' + StatisticsObjectName + '$}' AS '{$reports_flash.name_header$}',
 SUM(HitsCount) AS '{$reports_flash.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_flash.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>515</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2fd69c87-0202-49ab-9ee6-9983913f5bf2</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.7125645+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>342</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_screenresolution.name_header$}',
 SUM(HitsCount) AS '{$reports_screenresolution.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_screenresolution.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>516</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a7894103-89bb-465e-9cd8-a45d25d65fad</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.7645697+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>344</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_screenresolution.name_header$}',
 SUM(HitsCount) AS '{$reports_screenresolution.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_screenresolution.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>518</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>e4b34917-7a27-4413-8cc1-991b40b7bb4c</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.8455778+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>345</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_screenresolution.name_header$}',
 SUM(HitsCount) AS '{$reports_screenresolution.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_screenresolution.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>519</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>31e98907-d964-484d-974d-baec53876bbd</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.9235856+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>346</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_screenresolution.name_header$}',
 SUM(HitsCount) AS '{$reports_screenresolution.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_screenresolution.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>520</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0dcdb07e-5bc1-41d9-babf-6ad18cbd8bb6</TableGUID>
    <TableLastModified>2013-11-22T08:45:27.9955928+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>347</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_screenresolution.name_header$}',
 SUM(HitsCount) AS '{$reports_screenresolution.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_screenresolution.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>521</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>bfe0831f-5792-4b82-ae3f-e30e9cd77e68</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.0906023+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>348</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_screencolors.name_header$}',
 SUM(HitsCount) AS '{$reports_screencolors.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_screencolors.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>522</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>585de056-96bc-4ff6-aee9-53b328e4f114</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.1556088+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>349</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_screencolors.name_header$}',
 SUM(HitsCount) AS '{$reports_screencolors.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_screencolors.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>523</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b17280af-8915-4c11-acc2-32f27a2f6767</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.2266159+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>350</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_screencolors.name_header$}',
 SUM(HitsCount) AS '{$reports_screencolors.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_screencolors.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>524</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2ff47b87-7ec2-4509-96e6-67b387f1ec97</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.2746207+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>351</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_screencolors.name_header$}',
 SUM(HitsCount) AS '{$reports_screencolors.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_screencolors.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>525</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d8865ada-c680-45c8-8d25-61765119284d</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.3426275+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>352</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_screencolors.name_header$}',
 SUM(HitsCount) AS '{$reports_screencolors.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_screencolors.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>526</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a42748aa-e8f4-4d88-9403-3cd280a5fbdf</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.4196352+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>353</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_operatingsystem.name_header$}',
 SUM(HitsCount) AS '{$reports_operatingsystem.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_operatingsystem.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>527</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>025b3837-a3c7-4cd1-b3a1-7fc2733dc665</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.4836416+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>354</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_operatingsystem.name_header$}',
 SUM(HitsCount) AS '{$reports_operatingsystem.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_operatingsystem.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>528</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9e261f4b-4edc-4aa7-ad4a-8552b28a0da1</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.5416474+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>355</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_operatingsystem.name_header$}',
 SUM(HitsCount) AS '{$reports_operatingsystem.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_operatingsystem.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>529</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>c767dfc8-26f5-47dc-93f0-679363255a5e</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.607654+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>356</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_operatingsystem.name_header$}',
 SUM(HitsCount) AS '{$reports_operatingsystem.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_operatingsystem.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>530</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>85088e71-7fce-41cc-83ba-ef281a594ef9</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.6546587+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>357</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
 StatisticsObjectName AS '{$reports_operatingsystem.name_header$}',
 SUM(HitsCount) AS '{$reports_operatingsystem.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_operatingsystem.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>531</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a0444a29-1d80-437f-afce-b2619de92a9d</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.7536686+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>358</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
		) AS StatsWithPath
		GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
		ORDER BY PageViews DESC


	SELECT PagePath AS '{$reports_landingpage_Year.path_header$}', PageViews AS '{$reports_landingpage_Year.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_landingpage_Year.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>532</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>4cff183e-d882-432b-8318-aa94fa4ed7fa</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.8196752+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>359</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC

	SELECT PagePath AS '{$reports_landingpage_Month.path_header$}', PageViews AS '{$reports_landingpage_Month.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_landingpage_Month.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>533</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>82672152-37eb-497a-ae68-f2ba7ca0d788</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.9056838+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>360</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
	  PagePath NVARCHAR(500),
	  Pageviews INT,
	  Percents DECIMAL(10,2)
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
	  SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
	  (
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC 
  
	SELECT PagePath AS '{$reports_landingpage_Week.path_header$}', PageViews AS '{$reports_landingpage_Week.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_landingpage_Week.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>534</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9c150fce-622e-415d-9f08-0a0607cf00e2</TableGUID>
    <TableLastModified>2013-11-22T08:45:28.9836916+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>361</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
	  SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
	  (
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC 
  
	SELECT PagePath AS '{$reports_landingpage_Day.path_header$}', PageViews AS '{$reports_landingpage_Day.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_landingpage_Day.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>535</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>78f4d473-d14f-49bc-9798-d9e24b2eeb0c</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.0536986+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>362</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
		) AS StatsWithPath
		GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
		ORDER BY PageViews DESC 
  
	SELECT PagePath AS '{$reports_landingpage_Hour.path_header$}', PageViews AS '{$reports_landingpage_Hour.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_landingpage_Hour.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>536</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d7c8fc90-1907-4dae-a75e-8a6649dda1ec</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.1267059+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>363</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
		) AS StatsWithPath
		GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
		ORDER BY PageViews DESC
 
  
	SELECT PagePath AS '{$reports_exitpage_Year.path_header$}', PageViews AS '{$reports_exitpage_Year.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_exitpage_Year.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>537</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a9534e33-cc1c-4f30-907e-9c40af12f3e2</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.1807113+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>364</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC

	SELECT PagePath AS '{$reports_exitpage_Month.path_header$}', PageViews AS '{$reports_exitpage_Month.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_exitpage_Month.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>538</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0341b692-f3ca-475f-9e1c-2a231c393cbc</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.2447177+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>365</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
	  PagePath NVARCHAR(500),
	  Pageviews INT,
	  Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
	  SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
	  (
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC 
  
	SELECT PagePath AS '{$reports_exitpage_Week.path_header$}', PageViews AS '{$reports_exitpage_Week.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_exitpage_Week.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>539</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>23fe90b2-8035-4f1e-b36f-5f153383bc05</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.307724+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>366</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
	  SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
	  (
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
	  ) AS StatsWithPath
	  GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
	  ORDER BY PageViews DESC 
  
	SELECT PagePath AS '{$reports_exitpage_Day.path_header$}', PageViews AS '{$reports_exitpage_Day.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_exitpage_Day.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>540</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>7eb6d3ce-ed0f-42c1-9bef-e32aa21d5a23</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.3747307+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>367</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PageViews TABLE
	(
		PagePath NVARCHAR(500),
		Pageviews INT,
		Percents DECIMAL(10,2)  
	)

	DECLARE @Sum DECIMAL;

	SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
	SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

	SELECT @Sum =   
		SUM(HitsCount)
		FROM Analytics_Statistics
		INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND StatisticsObjectCulture = DocumentCulture 
		WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
		AND (StatisticsCode=@CodeName)
		AND (HitsStartTime &gt;= @FromDate)
		AND (HitsEndTime &lt;= @ToDate)

	INSERT INTO @PageViews (PagePath, PageViews, Percents)
		SELECT TOP 100 StatsWithPath.NodeAliasPath, SUM(StatsWithPath.HitsCount) AS PageViews, (SUM(StatsWithPath.HitsCount)/@Sum)*100 AS Percents FROM
		(
		SELECT
		-- When NodeAliasPagePath is empty, use value from StatisticsObjectName instead. This could happed for example when document does not longer exist in one of the cultures.
		-- In this case row can't be joined with View_CMS_Tree_Joined.
			CASE
				WHEN NodeAliasPath = '' OR NodeAliasPath IS NULL THEN StatisticsObjectName
				ELSE NodeAliasPath
			END AS NodeAliasPath, StatisticsObjectID AS ObjectID, HitsCount 
			FROM Analytics_Statistics
			INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
			LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND StatisticsObjectCulture = DocumentCulture
			WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsCode = @CodeName)
		) AS StatsWithPath
		GROUP BY StatsWithPath.NodeAliasPath, StatsWithPath.ObjectID
		ORDER BY PageViews DESC 
  
	SELECT PagePath AS '{$reports_exitpage_Hour.path_header$}', PageViews AS '{$reports_exitpage_Hour.hits_header$}',
		CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_exitpage_Hour.hits_percent_header$}'
		FROM @PageViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>541</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>093d4c18-6af6-412c-bd81-ef30b0baff6f</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.427736+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>368</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_referringsites.name_header$}',
 SUM(HitsCount) AS '{$reports_referringsites.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_referringsites.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>548</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>be8a2a86-c917-4145-bbe9-e9e2c8659657</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.4757408+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>369</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_referringsites.name_header$}',
 SUM(HitsCount) AS '{$reports_referringsites.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_referringsites.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>550</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>dad43456-2a19-4930-9494-6a7b07b8b214</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.5287461+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>370</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_referringsites.name_header$}',
 SUM(HitsCount) AS '{$reports_referringsites.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_referringsites.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>551</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>3390cd84-0e23-4636-ba11-1c748f4b5da3</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.5927525+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>371</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_referringsites.name_header$}',
 SUM(HitsCount) AS '{$reports_referringsites.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_referringsites.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>552</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>7159fcba-281c-4a9f-b8d4-e29456d832e4</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.6547587+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>372</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_referringsites.name_header$}',
 SUM(HitsCount) AS '{$reports_referringsites.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_referringsites.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>553</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>34e6f8c6-e73c-4b8d-9452-0597934c81e3</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.7187651+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>373</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchengine.name_header$}',
 SUM(HitsCount) AS '{$reports_searchengine.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_searchengine.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>554</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>78a1aa84-eec3-493a-bafc-4152b6bb30c2</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.777771+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>374</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchengine.name_header$}',
 SUM(HitsCount) AS '{$reports_searchengine.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_searchengine.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>555</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d53ae7e4-920a-4987-b08b-474f8978f318</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.8337766+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>375</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchengine.name_header$}',
 SUM(HitsCount) AS '{$reports_searchengine.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_searchengine.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>556</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ee466862-6c26-47ee-bf93-1a1c71907b8d</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.8957828+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>376</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchengine.name_header$}',
 SUM(HitsCount) AS '{$reports_searchengine.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_searchengine.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>557</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9db67c9d-5413-4859-abca-424ac7d5f60f</TableGUID>
    <TableLastModified>2013-11-22T08:45:29.9727905+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>378</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchengine.name_header$}',
 SUM(HitsCount) AS '{$reports_searchengine.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) AS VARCHAR)+'%' AS '{$reports_searchengine.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>559</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0dff79fa-2e7b-4e80-9583-f5d08e454de5</TableGUID>
    <TableLastModified>2013-11-22T08:45:30.0497982+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>380</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_searchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_searchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>561</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>eee97e8c-5a86-444f-8ca4-3a1b132b0574</TableGUID>
    <TableLastModified>2013-11-22T08:45:30.1528085+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>381</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_searchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_searchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>562</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>73532c98-8016-4b05-9056-f7615ea0a221</TableGUID>
    <TableLastModified>2013-11-22T08:45:30.2348167+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>382</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_searchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_searchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>563</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>3bfd68b8-491a-4f7c-9691-c15bf0a11a44</TableGUID>
    <TableLastModified>2013-11-22T08:45:30.2898222+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>383</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_searchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_searchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>564</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1e905917-817c-40fa-bea7-d6c6199b5616</TableGUID>
    <TableLastModified>2013-11-22T08:45:30.3528285+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>384</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_searchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_searchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>565</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>3a55bd6d-08fb-4bdc-8001-0e5f23436b86</TableGUID>
    <TableLastModified>2013-11-22T08:45:30.4088341+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>387</TableID>
    <TableName>TableYearAggViewsCulture</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$reports_exitpage_Year.path_header$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_exitpage_Year.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2)) AS NVARCHAR(10))+'%' AS '{$reports_exitpage_Year.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>568</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1eb41744-e311-4678-bd1b-dcc3042af638</TableGUID>
    <TableLastModified>2013-11-22T08:45:30.4688401+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>388</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection 
  SELECT TOP 100 
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END, 
  StatisticsObjectCulture , 
  SUM(HitsCount) AS Count 
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName 
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll 
  SELECT
  SUM(HitsCount) AS Count 
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$reports_exitpage_month.path_header$}', 
 StatisticsObjectCulture AS   '{$general.culture$}', 
 Count AS '{$reports_exitpage_month.hits_header$}', 
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2)) AS NVARCHAR(10))+'%' AS '{$reports_exitpage_month.hits_percent_header$}' 
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>569</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>715d5ab1-ddff-46e9-b47e-667c30d26568</TableGUID>
    <TableLastModified>2013-11-22T08:45:30.7598692+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>389</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT DocumentNamePath AS '{$reports_exitpage_Week.path_header$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_exitpage_Week.hits_header$}',
CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2)) AS NVARCHAR(10))+'%' AS '{$reports_exitpage_Week.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>570</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a6d7c9bb-8a2a-42f2-abd3-78f9fa873bde</TableGUID>
    <TableLastModified>2013-11-22T08:45:30.8518784+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>390</TableID>
    <TableName>TableDayAggViewsCulture</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection 
  SELECT TOP 100 
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END AS '{$reports_pageviews_day.path_header$}',  
  StatisticsObjectCulture AS '{$general.culture$}', 
  SUM(HitsCount) AS '{$reports_pageviews_day.hits_header$}' 
  FROM Analytics_Statistics 
    INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND Analytics_Statistics.StatisticsObjectCulture = View_CMS_Tree_Joined.DocumentCulture
    WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll 
  SELECT
  SUM(HitsCount) AS '{$reports_pageviews_day.hits_header$}' 
  FROM Analytics_Statistics 
    INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND Analytics_Statistics.StatisticsObjectCulture = View_CMS_Tree_Joined.DocumentCulture
    WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate)   
  

SELECT DocumentNamePath AS '{$reports_exitpage_day.path_header$}',  
StatisticsObjectCulture AS '{$general.culture$}', 
Count AS '{$reports_exitpage_day.hits_header$}',
CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2)) AS NVARCHAR(10))+'%' 
as '{$reports_exitpage_day.hits_percent_header$}' 
FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>571</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>927188a8-c7ee-45c5-a1d5-cecb33a6b373</TableGUID>
    <TableLastModified>2013-11-22T08:45:30.9348867+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>391</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
DECLARE @myselection TABLE (
   DocumentNamePath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection 
  SELECT TOP 100 
  CASE WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName ELSE DocumentNamePath END, 
  StatisticsObjectCulture, SUM(HitsCount) 
  FROM Analytics_Statistics
    INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectCulture, DocumentNamePath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC, StatisticsObjectCulture

INSERT INTO @countedAll 
  SELECT
  SUM(HitsCount) 
  FROM Analytics_Statistics
    INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate)   
  
 SELECT DocumentNamePath AS '{$reports_exitpage_hour.path_header$}', 
 StatisticsObjectCulture AS '{$general.culture$}', 
 Count AS '{$reports_exitpage_hour.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2)) AS NVARCHAR(10))+'%' AS '{$reports_exitpage_hour.hits_percent_header$}' 
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>572</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>19b4ca56-2c39-4d25-a265-856e7611ee00</TableGUID>
    <TableLastModified>2013-11-22T08:45:31.0268959+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>392</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
DECLARE @myselection TABLE (
   NodeAliasPath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN NodeAliasPath LIKE '' OR NodeAliasPath IS NULL THEN StatisticsObjectName ELSE NodeAliasPath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, NodeAliasPath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Counted
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)

 SELECT NodeAliasPath AS '{$reports_landingpage_Year.path_header$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_landingpage_Year.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2)) AS NVARCHAR(10))+'%' AS '{$reports_landingpage_Year.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>573</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>e1bc97f9-1000-4201-a495-69d2caa44be7</TableGUID>
    <TableLastModified>2015-03-09T14:58:33.4906155+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>393</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
DECLARE @myselection TABLE (
   NodeAliasPath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection 
  SELECT TOP 100 
  CASE WHEN NodeAliasPath LIKE '' OR NodeAliasPath IS NULL THEN StatisticsObjectName ELSE NodeAliasPath END, 
  StatisticsObjectCulture , 
  SUM(HitsCount) AS Count 
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectCulture, NodeAliasPath, StatisticsObjectName 
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll 
  SELECT
  SUM(HitsCount) AS Counted 
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 

 SELECT NodeAliasPath AS '{$reports_landingpage_month.path_header$}', 
 StatisticsObjectCulture AS   '{$general.culture$}', 
 Count AS '{$reports_pageviews_month.hits_header$}', 
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2)) AS NVARCHAR(10))+'%' AS '{$reports_landingpage_month.hits_percent_header$}' 
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>574</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b1baf31a-cb76-4695-885f-8ca64506589c</TableGUID>
    <TableLastModified>2015-03-09T14:56:37.7936155+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>394</TableID>
    <TableName>TableYearPageViewsCulture</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
DECLARE @myselection TABLE (
   NodeAliasPath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection
  SELECT TOP 100
  CASE WHEN NodeAliasPath LIKE '' OR NodeAliasPath IS NULL THEN StatisticsObjectName ELSE NodeAliasPath END,
  StatisticsObjectCulture ,
  SUM(HitsCount) AS Count
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectCulture, NodeAliasPath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll
  SELECT
  SUM(HitsCount) AS Counted
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)

 SELECT NodeAliasPath AS '{$reports_landingpage_Week.path_header$}',
 StatisticsObjectCulture AS   '{$general.culture$}',
 Count AS '{$reports_landingpage_Week.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2)) AS NVARCHAR(10))+'%' AS '{$reports_landingpage_Week.hits_percent_header$}'
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>575</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>35edb982-5c2d-4e20-a539-7a3d24825538</TableGUID>
    <TableLastModified>2015-03-09T14:58:05.8146155+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>395</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
DECLARE @myselection TABLE (
   NodeAliasPath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection 
  SELECT TOP 100 
  CASE WHEN NodeAliasPath LIKE '' OR NodeAliasPath IS NULL THEN StatisticsObjectName ELSE NodeAliasPath END AS '{$reports_pageviews_day.path_header$}',  
  StatisticsObjectCulture AS '{$general.culture$}', 
  SUM(HitsCount) AS '{$reports_landingpage_day.hits_header$}' 
  FROM Analytics_Statistics 
    INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND Analytics_Statistics.StatisticsObjectCulture = View_CMS_Tree_Joined.DocumentCulture
    WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectCulture, NodeAliasPath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC
  
INSERT INTO @countedAll 
  SELECT
  SUM(HitsCount) AS '{$reports_landingpage_day.hits_header$}' 
  FROM Analytics_Statistics 
    INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND Analytics_Statistics.StatisticsObjectCulture = View_CMS_Tree_Joined.DocumentCulture
    WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 

SELECT NodeAliasPath AS '{$reports_landingpage_day.path_header$}',  
StatisticsObjectCulture AS '{$general.culture$}', 
Count AS '{$reports_landingpage_day.hits_header$}',
CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2)) AS NVARCHAR(10))+'%' AS '{$reports_landingpage_day.hits_percent_header$}' 
FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>576</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ede7838d-108e-47af-ae7f-5ae9cd134f89</TableGUID>
    <TableLastModified>2015-03-09T14:09:17.4546155+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>396</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
DECLARE @myselection TABLE (
   NodeAliasPath varchar(400),
   StatisticsObjectCulture varchar(400),
   Count float   
);

DECLARE @countedAll TABLE (
   Counted float   
);

INSERT INTO @myselection 
  SELECT TOP 100 
  CASE WHEN NodeAliasPath LIKE '' OR NodeAliasPath IS NULL THEN StatisticsObjectName ELSE NodeAliasPath END, 
  StatisticsObjectCulture, SUM(HitsCount) 
  FROM Analytics_Statistics
    INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate) 
  GROUP BY StatisticsObjectCulture, NodeAliasPath, StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC, StatisticsObjectCulture
  
INSERT INTO @countedAll 
  SELECT
  SUM(HitsCount) 
  FROM Analytics_Statistics
    INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
    LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND View_CMS_Tree_Joined.DocumentCulture = Analytics_Statistics.StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) 
  AND (HitsEndTime &lt;= @ToDate)   

 SELECT NodeAliasPath AS '{$reports_landingpage_hour.path_header$}', 
 StatisticsObjectCulture AS '{$general.culture$}', 
 Count AS '{$reports_landingpage_hour.hits_header$}',
 CAST (CAST((100*Count)/(SELECT Counted FROM  @countedAll) as decimal(10,2)) AS NVARCHAR(10))+'%' AS '{$reports_landingpage_hour.hits_percent_header$}' 
 FROM @myselection</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>577</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9d8324e7-dfde-4633-b12a-ae14577b6f65</TableGUID>
    <TableLastModified>2015-03-09T14:57:28.9786155+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>397</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_onsitesearchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_onsitesearchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_onsitesearchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>578</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>fa45e458-7dc1-4c86-9df2-83b1808d5352</TableGUID>
    <TableLastModified>2013-11-22T08:45:31.5839516+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>398</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_onsitesearchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_onsitesearchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_onsitesearchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>579</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>64c46652-2883-4729-8d7e-ca08c83a11a4</TableGUID>
    <TableLastModified>2013-11-22T08:45:31.6529585+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>399</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_onsitesearchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_onsitesearchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_onsitesearchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>580</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>422c771c-5400-4f50-8fa2-5055cc87b9de</TableGUID>
    <TableLastModified>2013-11-22T08:45:31.7089641+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>400</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_onsitesearchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_onsitesearchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_onsitesearchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>581</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>6d253012-50ed-40b9-a8ed-8a2715d6f32e</TableGUID>
    <TableLastModified>2013-11-22T08:45:31.777971+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>401</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_onsitesearchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_onsitesearchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_onsitesearchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>582</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2a96b6eb-5372-482c-b3b5-f868c3994760</TableGUID>
    <TableLastModified>2013-11-22T08:45:31.8339766+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>405</TableID>
    <TableName>TrafficSources</TableName>
    <TableDisplayName>Traffic sources</TableDisplayName>
    <TableQuery>DECLARE @Sum DECIMAL (10,2);
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'{%if (Interval == null) { "year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'{%if (Interval == null) { "year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');

SELECT @Sum = 
SUM (HitsCount) FROM Analytics_Statistics 
LEFT JOIN {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%} ON HitsStatisticsID = StatisticsID
WHERE 
((StatisticsCode = 'referringsite_direct') OR (StatisticsCode = 'referringsite_search')  OR (StatisticsCode = 'referringsite_referring')  
OR (StatisticsCode = 'referringsite_inbound')) 
AND ((HitsStartTime &gt;=@FromDate) AND (HitsEndTime &lt;=@ToDate) AND (StatisticsSiteID = @CMSContextCurrentSiteID)
AND (StatisticsObjectID = @NodeID) AND (StatisticsObjectCulture = @CultureCode))

SELECT '{'+'$analytics_codename.' + StatisticsCode + '$}' AS '{$reporting.alltraficsources.columntitle$}',SUM(HitsCount) AS '{$general.views$}' ,
CAST (CAST (SUM(HitsCount)/@Sum*100 AS DECIMAL(10,2)) AS NVARCHAR (20))+'%' AS '{$general.percent$}'
FROM Analytics_Statistics 
LEFT JOIN {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%} ON HitsStatisticsID = StatisticsID
WHERE
((StatisticsCode = 'referringsite_direct') OR (StatisticsCode = 'referringsite_search')  OR (StatisticsCode = 'referringsite_referring')OR (StatisticsCode = 'referringsite_inbound'))
 AND 
((HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsObjectID = @NodeID) 
   AND (StatisticsObjectCulture = @CultureCode))
GROUP BY StatisticsCode</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>584</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>e9761837-0f7f-42eb-871d-dea5ad211206</TableGUID>
    <TableLastModified>2014-02-13T20:56:59.0962017+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>406</TableID>
    <TableName>SearchEngines</TableName>
    <TableDisplayName>Search engines</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'{%if (Interval == null) { "Year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'{%if (Interval == null) { "Year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchengine.name_header$}',
 SUM(HitsCount) AS '{$reports_searchengine.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%} ON Analytics_Statistics.StatisticsID = {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%}.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode='referringsite_search')
  AND (HitsStartTime &gt;= @FromDate)
  AND (StatisticsObjectID = @NodeID)
  AND (StatisticsObjectCulture= @CultureCode)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_searchengine.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%} ON Analytics_Statistics.StatisticsID = {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%}.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode='referringsite_search')
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsObjectID = @NodeID)
  AND (StatisticsObjectCulture= @CultureCode)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>584</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>30ac278e-08a7-4082-a66b-49daed8378b5</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.4762008+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>407</TableID>
    <TableName>SearchKeywords</TableName>
    <TableDisplayName>Search keywords</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'{%if (Interval == null) { "Year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'{%if (Interval == null) { "Year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchkeyword.name_header$}',
 SUM(HitsCount) AS '{$reports_searchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%} ON Analytics_Statistics.StatisticsID = {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%}.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode='searchkeyword')
  AND (HitsStartTime &gt;= @FromDate)
  AND (StatisticsObjectID = @NodeID)
  AND (StatisticsObjectCulture= @CultureCode)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_searchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%} ON Analytics_Statistics.StatisticsID = {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%}.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode='searchkeyword')
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsObjectID = @NodeID)
  AND (StatisticsObjectCulture= @CultureCode)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>584</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>f73f438b-2b54-4d19-9328-9851bb929f57</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.4962008+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>423</TableID>
    <TableName>ReferringSites</TableName>
    <TableDisplayName>Referring sites</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'{%if (Interval == null) { "Year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'{%if (Interval == null) { "Year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SELECT TOP 100
StatisticsObjectName  AS '{$general.sites$}',
 SUM(HitsCount) AS '{$reports_searchengine.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%} ON Analytics_Statistics.StatisticsID = {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%}.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode='referringsite_referring')
  AND (HitsStartTime &gt;= @FromDate)
  AND (StatisticsObjectID = @NodeID)
  AND (StatisticsObjectCulture= @CultureCode)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_searchengine.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%} ON Analytics_Statistics.StatisticsID = {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%}.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode='referringsite_referring')
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsObjectID = @NodeID)
  AND (StatisticsObjectCulture= @CultureCode)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>584</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5cf4c63d-093a-4078-9d49-f82157d311c1</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.4562008+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>424</TableID>
    <TableName>LocalPages</TableName>
    <TableDisplayName>Local pages</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'{%if (Interval == null) { "Year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'{%if (Interval == null) { "Year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SELECT TOP 100
Tree.NodeAliasPath AS '{$general.pages$}',
 SUM(HitsCount) AS '{$reports_searchkeyword.hits_header$}',
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%} ON Analytics_Statistics.StatisticsID = {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%}.HitsStatisticsID
   RIGHT JOIN View_CMS_Tree_Joined AS Tree ON Analytics_Statistics.StatisticsObjectName = Tree.NodeID AND 
  Analytics_Statistics.StatisticsObjectCulture=Tree.DocumentCulture
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode='referringsite_local')
  AND (HitsStartTime &gt;= @FromDate)
  AND (StatisticsObjectID = @NodeID)
  AND (StatisticsObjectCulture= @CultureCode)
  AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(3)) AS VARCHAR)+'%' AS '{$reports_searchkeyword.percent_header$}'
  FROM Analytics_Statistics
  INNER JOIN {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%} ON Analytics_Statistics.StatisticsID = {%if (AnalyticsTable == null) { "Analytics_YearHits" } else { AnalyticsTable }|(user)administrator|(hash)68d9b473087f414e05cd8385953f6fcbf2cedf7fb09a424dbaccb0081cc88631%}.HitsStatisticsID
  RIGHT JOIN View_CMS_Tree_Joined AS Tree ON Analytics_Statistics.StatisticsObjectName = Tree.NodeID AND 
  Analytics_Statistics.StatisticsObjectCulture=Tree.DocumentCulture  
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode='referringsite_local')
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsObjectID = @NodeId)
  AND (StatisticsObjectCulture= @CultureCode)
  GROUP BY Tree.NodeAliasPath
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>584</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1c6cbb77-12dd-41aa-b09f-5abefa676d3a</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.4262007+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>436</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_WeekHits, Analytics_Statistics 
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>609</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a851c6cc-6318-40cb-a773-fea0e9f592ce</TableGUID>
    <TableLastModified>2013-11-22T08:45:32.4770409+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>437</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_DayHits, Analytics_Statistics 
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>610</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>eccf2a1b-c26f-4f12-b07b-6737876e18f2</TableGUID>
    <TableLastModified>2013-11-22T08:45:32.5810513+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>438</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_MonthHits, Analytics_Statistics 
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>611</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>700ecdf9-4bfe-426b-bcd3-c539e4c5aedd</TableGUID>
    <TableLastModified>2013-11-22T08:45:32.7020634+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>439</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_HourHits, Analytics_Statistics 
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>612</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>3fe4a961-5945-41c2-a849-93f73d4c3233</TableGUID>
    <TableLastModified>2013-11-22T08:45:32.7800712+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>440</TableID>
    <TableName>table_1</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_WeekHits, Analytics_Statistics 
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>615</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5ce40b8f-a054-413b-ac36-b4a93335a18e</TableGUID>
    <TableLastModified>2013-11-22T08:45:32.8660798+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>441</TableID>
    <TableName>table_2</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_MonthHits, Analytics_Statistics 
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>616</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>f27b6f3c-e496-454f-8d24-ed59f1642b84</TableGUID>
    <TableLastModified>2013-11-22T08:45:32.9310863+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>442</TableID>
    <TableName>table_3</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_HourHits, Analytics_Statistics 
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>617</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>88114fa5-7712-466c-9e1d-938e28506c2e</TableGUID>
    <TableLastModified>2013-11-22T08:45:32.9870919+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>443</TableID>
    <TableName>table_4</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100 CampaignDisplayName AS '{$reports_campaign.name_header$}', SUM(HitsCount) AS '{$reports_campaign.hits_header$}' FROM
Analytics_DayHits, Analytics_Statistics 
INNER JOIN Analytics_Campaign ON StatisticsObjectName = CampaignName
WHERE (@CampaignName ='' OR @CampaignName = CampaignName) AND
(StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND 
(HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY CampaignDisplayName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>618</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;true&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>92a4d5fc-25e5-4fd9-8741-ae10c2b07a80</TableGUID>
    <TableLastModified>2013-11-22T08:45:33.0620994+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>444</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
 SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');  
 
  SELECT CampaignDisplayName AS 'Campaign', SUM(HitsCount) AS '{%if (ColumnName == null) { "Hits" } else { ColumnName }|(user)administrator|(hash)a70ce337e3e81a8385c36d38ab69e3263cd64adc5be1309f78bb22bc5bf4eb62%}'
  
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID    
  INNER JOIN Analytics_Campaign ON (StatisticsObjectName = CampaignName) AND StatisticsSiteID = CampaignSiteID
  
  WHERE (StatisticsSiteID = @SiteID OR @SiteID = 0) AND
  (StatisticsCode LIKE @CodeName)   
  AND (@ConversionName IS NULL OR @ConversionName IN ('',StatisticsObjectName))
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY CampaignName,CampaignDisplayName
  ORDER BY [{%if (ColumnName == null) { "Hits" } else { ColumnName }|(user)administrator|(hash)a70ce337e3e81a8385c36d38ab69e3263cd64adc5be1309f78bb22bc5bf4eb62%}] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>619</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>3d8055e1-b10b-436d-a462-f511a797836c</TableGUID>
    <TableLastModified>2015-09-11T10:58:23.1803562+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>445</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
 SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');  
 
  SELECT CampaignDisplayName AS 'Campaign', SUM(HitsCount) AS '{%if (ColumnName == null) { "Hits" } else { ColumnName }|(user)administrator|(hash)a70ce337e3e81a8385c36d38ab69e3263cd64adc5be1309f78bb22bc5bf4eb62%}'
  
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID    
  INNER JOIN Analytics_Campaign ON (StatisticsObjectName = CampaignName) AND StatisticsSiteID = CampaignSiteID
  
  WHERE (StatisticsSiteID = @SiteID OR @SiteID = 0) AND
  (StatisticsCode LIKE @CodeName)   
  AND (@ConversionName IS NULL OR @ConversionName IN ('',StatisticsObjectName))
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY CampaignName,CampaignDisplayName
  ORDER BY [{%if (ColumnName == null) { "Hits" } else { ColumnName }|(user)administrator|(hash)a70ce337e3e81a8385c36d38ab69e3263cd64adc5be1309f78bb22bc5bf4eb62%}] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>622</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>c04dc73f-4f2e-44d9-b035-478c420d3e7d</TableGUID>
    <TableLastModified>2015-09-11T12:15:32.4722626+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>448</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
 SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');  
 
  SELECT CampaignDisplayName AS 'Campaign', SUM(HitsCount) AS '{%if (ColumnName == null) { "Hits" } else { ColumnName }|(user)administrator|(hash)a70ce337e3e81a8385c36d38ab69e3263cd64adc5be1309f78bb22bc5bf4eb62%}'
  
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID    
  INNER JOIN Analytics_Campaign ON (StatisticsObjectName = CampaignName) AND StatisticsSiteID = CampaignSiteID
  
  WHERE (StatisticsSiteID = @SiteID OR @SiteID = 0) AND
  (StatisticsCode LIKE @CodeName)   
  AND (@ConversionName IS NULL OR @ConversionName IN ('',StatisticsObjectName))
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY CampaignName,CampaignDisplayName
  ORDER BY [{%if (ColumnName == null) { "Hits" } else { ColumnName }|(user)administrator|(hash)a70ce337e3e81a8385c36d38ab69e3263cd64adc5be1309f78bb22bc5bf4eb62%}] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>621</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>81423bf6-dfcc-4da9-95f1-a0a5806fd8b1</TableGUID>
    <TableLastModified>2015-09-11T10:55:50.5690966+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>449</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
 SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');  
 
  SELECT CampaignDisplayName AS 'Campaign', SUM(HitsCount) AS '{%if (ColumnName == null) { "Hits" } else { ColumnName }|(user)administrator|(hash)a70ce337e3e81a8385c36d38ab69e3263cd64adc5be1309f78bb22bc5bf4eb62%}'
  
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID    
  INNER JOIN Analytics_Campaign ON (StatisticsObjectName = CampaignName) AND StatisticsSiteID = CampaignSiteID
  
  WHERE (StatisticsSiteID = @SiteID OR @SiteID = 0) AND
  (StatisticsCode LIKE @CodeName)   
  AND (@ConversionName IS NULL OR @ConversionName IN ('',StatisticsObjectName))
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY CampaignName,CampaignDisplayName
  ORDER BY [{%if (ColumnName == null) { "Hits" } else { ColumnName }|(user)administrator|(hash)a70ce337e3e81a8385c36d38ab69e3263cd64adc5be1309f78bb22bc5bf4eb62%}] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>620</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>a63b4be6-cc26-4d92-a50d-8454c51cd5f9</TableGUID>
    <TableLastModified>2015-09-11T12:13:15.7845952+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>450</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
 SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');  
 
  SELECT CampaignDisplayName AS 'Campaign', SUM(HitsCount) AS '{%if (ColumnName == null) { "Hits" } else { ColumnName }|(user)administrator|(hash)a70ce337e3e81a8385c36d38ab69e3263cd64adc5be1309f78bb22bc5bf4eb62%}'
  
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID    
  INNER JOIN Analytics_Campaign ON (StatisticsObjectName = CampaignName) AND StatisticsSiteID = CampaignSiteID
  
  WHERE (StatisticsSiteID = @SiteID OR @SiteID = 0) AND
  (StatisticsCode LIKE @CodeName)   
  AND (@ConversionName IS NULL OR @ConversionName IN ('',StatisticsObjectName))
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY CampaignName,CampaignDisplayName
  ORDER BY [{%if (ColumnName == null) { "Hits" } else { ColumnName }|(user)administrator|(hash)a70ce337e3e81a8385c36d38ab69e3263cd64adc5be1309f78bb22bc5bf4eb62%}] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>623</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>93025ce1-5b96-4d0c-a3ee-32704df3d0f9</TableGUID>
    <TableLastModified>2015-09-11T12:14:28.7468907+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>510</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day'); 
 SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day'); 

SELECT CampaignDisplayName AS ' ',ISNULL(SUM (Views.Hits),0) AS '{$analytics_codename.visits$}', ISNULL(SUM(Conversions.Hits),0) AS '{$conversion.conversion.list$}',
    ISNULL(CAST (CAST (CAST (SUM(Conversions.Hits) AS DECIMAL (15,2)) / SUM (Views.Hits) * 100 AS DECIMAL(15,1)) AS NVARCHAR(20))+'%','0.0%') AS '{$abtesting.conversionsrate$}',
  ISNULL(SUM (Conversions.Value),0) AS '{$conversions.value$}',   
  ISNULL(ROUND (SUM (Conversions.Value)  / NULLIF (SUM(Views.Hits),0), 1),0) AS '{$conversions.valuepervisit$}'
  
 FROM Analytics_Campaign 
  LEFT JOIN Analytics_Statistics ON CampaignName = SUBSTRING(StatisticsCode, 16, LEN(StatisticsCode)) OR ((StatisticsObjectName = CampaignName) AND StatisticsCode='campaign')
-- Visits
LEFT JOIN (SELECT SUM(HitsCount) AS Hits,HitsStatisticsID AS HitsStatisticsID  FROM Analytics_DayHits 
	WHERE (@FromDate IS NULL OR @FromDate &lt;= HitsStartTime) AND (@ToDate IS NULL OR @ToDate &gt;= HitsStartTime)
   GROUP BY HitsStatisticsID) AS Views ON Views.HitsStatisticsID = Analytics_Statistics.StatisticsID AND StatisticsCode = 'campaign'
-- Conversion count, conversion value
LEFT JOIN (SELECT SUM(HitsCount) AS Hits,SUM(HitsValue) AS Value,HitsStatisticsID AS HitsStatisticsID  FROM Analytics_DayHits 
	WHERE (@FromDate IS NULL OR @FromDate &lt;= HitsStartTime) AND (@ToDate IS NULL OR @ToDate &gt;= HitsStartTime)
   GROUP BY HitsStatisticsID) AS Conversions ON Conversions.HitsStatisticsID = Analytics_Statistics.StatisticsID AND StatisticsCode LIKE 'campconversion;%'

WHERE CampaignSiteID = @CMSContextCurrentSiteID
GROUP BY CampaignDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>709</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>81af2b08-ab67-489d-b4a9-4116e9a63358</TableGUID>
    <TableLastModified>2015-09-13T13:43:28.5880334+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>516</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day'); 
 SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day'); 

SELECT  
 CampaignDisplayName AS ' ',
 ISNULL(ConversionDisplayName,Conversions.ConversionName +' ({$recyclebin.deleted$})') AS '{$Conversion.name$}',ISNULL(SUM (Visits.Count),0) AS '{$analytics_codename.visits$}',
 ISNULL(SUM(Conversions.Hits),0) AS '{$conversion.conversion.list$}',
 ISNULL(CAST (CAST (CAST (SUM(Conversions.Hits) AS DECIMAL (15,2)) / SUM (Visits.Count) * 100 AS DECIMAL(15,1)) AS NVARCHAR(20))+'%','0.0%') AS '{$abtesting.conversionsrate$}',
 ISNULL(SUM (Conversions.Value),0) AS '{$conversions.value$}', 
 ISNULL(ROUND (SUM (Conversions.Value)  / NULLIF (SUM(Visits.Count),0), 1),0) AS '{$conversions.valuepervisit$}'    
  
 FROM Analytics_Campaign
    -- Visits
    LEFT JOIN (SELECT SUM(HitsCount) AS Count, StatisticsObjectName AS CampaignName FROM
				Analytics_DayHits JOIN Analytics_Statistics ON HitsStatisticsID = StatisticsID
				WHERE (@FromDate IS NULL OR @FromDate &lt;= HitsStartTime) AND (@ToDate IS NULL OR @ToDate &gt;= HitsStartTime)
				AND StatisticsSiteID = @CMSContextCurrentSiteID AND  
				StatisticsCode = 'campaign' AND StatisticsObjectName = @CampaignName
				GROUP BY StatisticsObjectName
				) AS Visits
	ON Visits.CampaignName = Analytics_Campaign.CampaignName
								  
    --- Conversion count, conversion value
	LEFT JOIN (SELECT SUM(HitsCount) AS Hits,SUM(HitsValue) AS Value, StatisticsObjectName  AS ConversionName,
				SUBSTRING(StatisticsCode, 16, LEN(StatisticsCode)) AS CampaignName 	FROM Analytics_DayHits 
				JOIN Analytics_Statistics ON StatisticsID = HitsStatisticsID
				WHERE (@FromDate IS NULL OR @FromDate &lt;= HitsStartTime) AND (@ToDate IS NULL OR @ToDate &gt;= HitsStartTime)
				AND StatisticsCode LIKE 'campconversion;%' AND StatisticsSiteID = @CMSContextCurrentSiteID
				GROUP BY StatisticsObjectName,SUBSTRING(StatisticsCode, 16, LEN(StatisticsCode))) AS Conversions 
	ON Conversions.CampaignName = Analytics_Campaign.CampaignName 

 LEFT JOIN Analytics_Conversion ON Conversions.ConversionName = Analytics_Conversion.ConversionName AND 
			Analytics_Conversion.ConversionSiteID = @CMSContextCurrentSiteID
WHERE CampaignSiteID = @CMSContextCurrentSiteID AND Analytics_Campaign.CampaignName = @CampaignName 
GROUP BY CampaignDisplayName,ConversionDisplayName,Conversions.ConversionName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>715</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9dab3cd8-c9d1-40f1-95fd-19ad62e0f654</TableGUID>
    <TableLastModified>2014-03-07T16:34:05.6026366+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>542</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Selects the donations which meet the filter conditions */
SELECT
   OrderItemSKUName AS '{$com.donationsreport.skuname$}',
   CAST(OrderItemTotalPriceInMainCurrency AS DECIMAL(38,1)) AS '{$com.donationsreport.donationamount$}',    
   CASE ISNULL(OrderItemIsPrivate,0) WHEN 0 THEN '{$general.no$}' ELSE '{$general.yes$}' END AS '{$com.donationsreport.donationisprivate$}',    
   (CustomerFirstName + ' ' + CustomerLastName) AS '{$com.donationsreport.donor$}',  
   CustomerCompany AS '{$com.donationsreport.donorcompany$}',
   CustomerEmail AS '{$com.listofdonations.donoremail$}',
   CONVERT(char(26), OrderDate, 101) AS '{$com.donationsreport.orderdate$}'
FROM 
   COM_OrderItem
   JOIN COM_SKU 
      ON SKUID = OrderItemSKUID
   JOIN COM_Order 
      ON OrderID = OrderItemOrderID
   JOIN COM_Customer 
      ON CustomerID = OrderCustomerID
WHERE 
   OrderSiteID = @CMSContextCurrentSiteID
   AND COM_SKU.SKUProductType = 'DONATION'
   AND (@DonationName IS NULL OR @DonationName = '' OR COM_OrderItem.OrderItemSKUName LIKE ('%' + @DonationName + '%'))
   AND (@DonationAmountFrom IS NULL OR COM_OrderItem.OrderItemTotalPriceInMainCurrency &gt;= @DonationAmountFrom)
   AND (@DonationAmountTo IS NULL OR COM_OrderItem.OrderItemTotalPriceInMainCurrency &lt;= @DonationAmountTo)
   AND (@DonationIsPrivate &lt; 0 OR CAST(ISNULL(COM_OrderItem.OrderItemIsPrivate, 0) AS NVARCHAR) = @DonationIsPrivate)
   AND (@Donor IS NULL OR @Donor = '' OR COM_Customer.CustomerFirstName LIKE ('%' + @Donor + '%') OR COM_Customer.CustomerLastName LIKE ('%' + @Donor + '%'))
   AND (@DonorCompany IS NULL OR @DonorCompany = '' OR COM_Customer.CustomerCompany LIKE ('%' + @DonorCompany + '%'))
   AND (@OrderDateFrom IS NULL OR COM_Order.OrderDate &gt;= @OrderDateFrom)
   AND (@OrderDateTo IS NULL OR COM_Order.OrderDate &lt;= DATEADD(day,1,@OrderDateTo))
   AND (ISNULL(@OnlyPaid,0) = 0 OR COM_Order.OrderIsPaid = 1)
   AND (@Email IS NULL OR @Email = '' OR COM_Customer.CustomerEmail LIKE ('%' + @Email + '%'))
ORDER BY 
   OrderItemTotalPriceInMainCurrency DESC,
   OrderItemSKUName,
   (CustomerFirstName + ' ' + CustomerLastName)</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>741</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>739d8e39-8cb3-4d16-9324-650698660cad</TableGUID>
    <TableLastModified>2013-11-22T08:45:40.8838815+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>543</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

SELECT X.Name AS '{$mvtcombination.name$}',ISNULL (SUM(Y.Hits),0) AS '{$om.selectedperiod$}',
ISNULL(SUM(X.Hits),0) AS '{$om.total$}'
  FROM 
(
SELECT 
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsCount),0) AS Hits,StatisticsObjectCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON 
  MVTCombinationPageTemplateID IN ( SELECT 
   CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END   
  FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)   
  LEFT JOIN Analytics_YearHits ON StatisticsID = HitsStatisticsID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' 
 AND  @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY MVTCombinationName, StatisticsObjectCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X 
LEFT JOIN (SELECT SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)) AS MVTCombinationName, SUM(HitsCount) AS Hits,
StatisticsObjectCulture
 FROM Analytics_Statistics JOIN Analytics_YearHits ON HitsStatisticsID = StatisticsID 
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'mvtconversion;%'
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)   
  AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  GROUP BY SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)), StatisticsObjectCulture
 )
 AS Y ON X.MVTCombinationName = Y.MVTCombinationName AND X.StatisticsObjectCulture = Y.StatisticsObjectCulture
 
 GROUP BY X.Name
 ORDER BY [{$om.total$}] Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>663</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>32161bfc-a721-4c07-8c09-eb711ee40011</TableGUID>
    <TableLastModified>2013-11-22T08:45:40.938887+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>544</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

SELECT X.Name AS '{$mvtcombination.name$}',ISNULL (SUM(Y.Hits),0) AS '{$om.selectedperiod$}',
ISNULL(SUM(X.Hits),0) AS '{$om.total$}'
  FROM 
(
SELECT 
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsCount),0) AS Hits,StatisticsObjectCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON 
  MVTCombinationPageTemplateID IN ( SELECT 
   CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END   
  FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)   
  LEFT JOIN Analytics_WeekHits ON StatisticsID = HitsStatisticsID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' 
 AND  @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY MVTCombinationName, StatisticsObjectCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X 
LEFT JOIN (SELECT SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)) AS MVTCombinationName, SUM(HitsCount) AS Hits,
StatisticsObjectCulture
 FROM Analytics_Statistics JOIN Analytics_WeekHits ON HitsStatisticsID = StatisticsID 
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'mvtconversion;%'
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)   
  AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  GROUP BY SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)), StatisticsObjectCulture
 )
 AS Y ON X.MVTCombinationName = Y.MVTCombinationName AND X.StatisticsObjectCulture = Y.StatisticsObjectCulture
 
 GROUP BY X.Name
 ORDER BY [{$om.total$}] Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>664</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>66b1a977-72bf-452f-b553-b288065e2b3c</TableGUID>
    <TableLastModified>2013-11-22T08:45:41.1119043+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>545</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

SELECT X.Name AS '{$mvtcombination.name$}',ISNULL (SUM(Y.Hits),0) AS '{$om.selectedperiod$}',
ISNULL(SUM(X.Hits),0) AS '{$om.total$}'
  FROM 
(
SELECT 
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsCount),0) AS Hits,StatisticsObjectCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON 
  MVTCombinationPageTemplateID IN ( SELECT 
   CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END   
  FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)   
  LEFT JOIN Analytics_MonthHits ON StatisticsID = HitsStatisticsID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' 
 AND  @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY MVTCombinationName, StatisticsObjectCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X 
LEFT JOIN (SELECT SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)) AS MVTCombinationName, SUM(HitsCount) AS Hits,
StatisticsObjectCulture
 FROM Analytics_Statistics JOIN Analytics_MonthHits ON HitsStatisticsID = StatisticsID 
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'mvtconversion;%'
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)   
  AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  GROUP BY SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)), StatisticsObjectCulture
 )
 AS Y ON X.MVTCombinationName = Y.MVTCombinationName AND X.StatisticsObjectCulture = Y.StatisticsObjectCulture
 
 GROUP BY X.Name
 ORDER BY [{$om.total$}] Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>665</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d1ea1daf-3d30-4e07-a47a-3148e928b7c3</TableGUID>
    <TableLastModified>2013-11-22T08:45:41.1839115+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>546</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

SELECT X.Name AS '{$mvtcombination.name$}',ISNULL (SUM(Y.Hits),0) AS '{$om.selectedperiod$}',
ISNULL(SUM(X.Hits),0) AS '{$om.total$}'
  FROM 
(
SELECT 
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsCount),0) AS Hits,StatisticsObjectCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON 
  MVTCombinationPageTemplateID IN ( SELECT 
   CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END   
  FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)   
  LEFT JOIN Analytics_HourHits ON StatisticsID = HitsStatisticsID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' 
 AND  @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY MVTCombinationName, StatisticsObjectCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X 
LEFT JOIN (SELECT SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)) AS MVTCombinationName, SUM(HitsCount) AS Hits,
StatisticsObjectCulture
 FROM Analytics_Statistics JOIN Analytics_HourHits ON HitsStatisticsID = StatisticsID 
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'mvtconversion;%'
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)   
  AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  GROUP BY SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)), StatisticsObjectCulture
 )
 AS Y ON X.MVTCombinationName = Y.MVTCombinationName AND X.StatisticsObjectCulture = Y.StatisticsObjectCulture
 
 GROUP BY X.Name
 ORDER BY [{$om.total$}] Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>666</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ccc50348-7ca6-4e89-84e1-08a3dd838f14</TableGUID>
    <TableLastModified>2013-11-22T08:45:41.2629194+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>547</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

SELECT X.Name AS '{$mvtcombination.name$}',ISNULL (SUM(Y.Hits),0) AS '{$om.selectedperiod$}',
ISNULL(SUM(X.Hits),0) AS '{$om.total$}'
  FROM 
(
SELECT 
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsCount),0) AS Hits,StatisticsObjectCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON 
  MVTCombinationPageTemplateID IN ( SELECT 
   CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END   
  FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)   
  LEFT JOIN Analytics_DayHits ON StatisticsID = HitsStatisticsID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' 
 AND  @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY MVTCombinationName, StatisticsObjectCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X 
LEFT JOIN (SELECT SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)) AS MVTCombinationName, SUM(HitsCount) AS Hits,
StatisticsObjectCulture
 FROM Analytics_Statistics JOIN Analytics_DayHits ON HitsStatisticsID = StatisticsID 
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'mvtconversion;%'
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)   
  AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  GROUP BY SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)), StatisticsObjectCulture
 )
 AS Y ON X.MVTCombinationName = Y.MVTCombinationName AND X.StatisticsObjectCulture = Y.StatisticsObjectCulture
 
 GROUP BY X.Name
 ORDER BY [{$om.total$}] Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>668</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1a1f5108-30ed-4e04-9d55-21b88b93682e</TableGUID>
    <TableLastModified>2013-11-22T08:45:41.3429274+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>548</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

SELECT X.Name AS '{$mvtcombination.name$}',ISNULL (SUM(Y.Hits),0) AS '{$om.selectedperiod$}',ISNULL(SUM(X.Hits),0) AS '{$om.total$}'  FROM 
(
SELECT 
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsValue),0) AS Hits,StatisticsObjectCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON 
  MVTCombinationPageTemplateID IN ( SELECT 
   CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END     
FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)   
  LEFT JOIN Analytics_YearHits ON StatisticsID = HitsStatisticsID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' 
 AND  @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY MVTCombinationName, StatisticsObjectCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X 
LEFT JOIN (SELECT SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)) AS MVTCombinationName, SUM(HitsValue) AS Hits,
StatisticsObjectCulture
 FROM Analytics_Statistics JOIN Analytics_YearHits ON HitsStatisticsID = StatisticsID 
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'mvtconversion;%'
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)   
  AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  GROUP BY SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)), StatisticsObjectCulture
 )
 AS Y ON X.MVTCombinationName = Y.MVTCombinationName AND X.StatisticsObjectCulture = Y.StatisticsObjectCulture
 
 
 GROUP BY X.Name
 ORDER BY [{$om.total$}] Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>669</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>cd689d46-6197-4bd0-9db3-fc36000bab12</TableGUID>
    <TableLastModified>2013-11-22T08:45:41.4539385+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>549</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

SELECT X.Name AS '{$mvtcombination.name$}',ISNULL (SUM(Y.Hits),0) AS '{$om.selectedperiod$}',ISNULL(SUM(X.Hits),0) AS '{$om.total$}'  FROM 
(
SELECT 
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsValue),0) AS Hits,StatisticsObjectCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON 
  MVTCombinationPageTemplateID IN ( SELECT 
   CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END     
FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)   
  LEFT JOIN Analytics_WeekHits ON StatisticsID = HitsStatisticsID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' 
 AND  @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY MVTCombinationName, StatisticsObjectCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X 
LEFT JOIN (SELECT SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)) AS MVTCombinationName, SUM(HitsValue) AS Hits,
StatisticsObjectCulture
 FROM Analytics_Statistics JOIN Analytics_WeekHits ON HitsStatisticsID = StatisticsID 
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'mvtconversion;%'
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)   
  AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  GROUP BY SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)), StatisticsObjectCulture
 )
 AS Y ON X.MVTCombinationName = Y.MVTCombinationName AND X.StatisticsObjectCulture = Y.StatisticsObjectCulture
 
 
 GROUP BY X.Name
 ORDER BY [{$om.total$}] Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>673</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>e2151c94-214b-48fb-94ce-5eaaf8e6b7e8</TableGUID>
    <TableLastModified>2013-11-22T08:45:41.5539485+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>550</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

SELECT X.Name AS '{$mvtcombination.name$}',ISNULL (SUM(Y.Hits),0) AS '{$om.selectedperiod$}',ISNULL(SUM(X.Hits),0) AS '{$om.total$}'  FROM 
(
SELECT 
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsValue),0) AS Hits,StatisticsObjectCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON 
  MVTCombinationPageTemplateID IN ( SELECT 
   CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END     
FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)   
  LEFT JOIN Analytics_MonthHits ON StatisticsID = HitsStatisticsID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' 
 AND  @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY MVTCombinationName, StatisticsObjectCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X 
LEFT JOIN (SELECT SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)) AS MVTCombinationName, SUM(HitsValue) AS Hits,
StatisticsObjectCulture
 FROM Analytics_Statistics JOIN Analytics_MonthHits ON HitsStatisticsID = StatisticsID 
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'mvtconversion;%'
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)   
  AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  GROUP BY SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)), StatisticsObjectCulture
 )
 AS Y ON X.MVTCombinationName = Y.MVTCombinationName AND X.StatisticsObjectCulture = Y.StatisticsObjectCulture
 
 
 GROUP BY X.Name
 ORDER BY [{$om.total$}] Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>672</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>314e9589-2213-4b90-86ab-5b84a27bfaa8</TableGUID>
    <TableLastModified>2013-11-22T08:45:41.6269558+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>551</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

SELECT X.Name AS '{$mvtcombination.name$}',ISNULL (SUM(Y.Hits),0) AS '{$om.selectedperiod$}',ISNULL(SUM(X.Hits),0) AS '{$om.total$}'  FROM 
(
SELECT 
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsValue),0) AS Hits,StatisticsObjectCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON 
  MVTCombinationPageTemplateID IN ( SELECT 
   CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END     
FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)   
  LEFT JOIN Analytics_HourHits ON StatisticsID = HitsStatisticsID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' 
 AND  @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY MVTCombinationName, StatisticsObjectCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X 
LEFT JOIN (SELECT SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)) AS MVTCombinationName, SUM(HitsValue) AS Hits,
StatisticsObjectCulture
 FROM Analytics_Statistics JOIN Analytics_HourHits ON HitsStatisticsID = StatisticsID 
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'mvtconversion;%'
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)   
  AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  GROUP BY SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)), StatisticsObjectCulture
 )
 AS Y ON X.MVTCombinationName = Y.MVTCombinationName AND X.StatisticsObjectCulture = Y.StatisticsObjectCulture
 
 
 GROUP BY X.Name
 ORDER BY [{$om.total$}] Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>671</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>bd7a29cd-8701-4975-a65d-87576f932017</TableGUID>
    <TableLastModified>2013-11-22T08:45:41.7729704+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>552</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

SELECT X.Name AS '{$mvtcombination.name$}',ISNULL (SUM(Y.Hits),0) AS '{$om.selectedperiod$}',ISNULL(SUM(X.Hits),0) AS '{$om.total$}'  FROM 
(
SELECT 
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsValue),0) AS Hits,StatisticsObjectCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON 
  MVTCombinationPageTemplateID IN ( SELECT 
   CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END     
FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)   
  LEFT JOIN Analytics_DayHits ON StatisticsID = HitsStatisticsID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' 
 AND  @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY MVTCombinationName, StatisticsObjectCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X 
LEFT JOIN (SELECT SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)) AS MVTCombinationName, SUM(HitsValue) AS Hits,
StatisticsObjectCulture
 FROM Analytics_Statistics JOIN Analytics_DayHits ON HitsStatisticsID = StatisticsID 
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'mvtconversion;%'
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)   
  AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  GROUP BY SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)), StatisticsObjectCulture
 )
 AS Y ON X.MVTCombinationName = Y.MVTCombinationName AND X.StatisticsObjectCulture = Y.StatisticsObjectCulture
 
 
 GROUP BY X.Name
 ORDER BY [{$om.total$}] Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>670</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d30682fc-df01-48fa-bfc1-75585c8fb517</TableGUID>
    <TableLastModified>2013-11-22T08:45:41.8639795+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>553</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>EXEC Proc_Analytics_RemoveTempTable 
 CREATE TABLE #AnalyticsTempTable (  
  Hits DECIMAL (15,2),
  Name NVARCHAR(300) COLLATE database_default,  
  Culture NVARCHAR(300) COLLATE database_default,   
  Page NVARCHAR(300) COLLATE database_default,
  DisplayName NVARCHAR(300) COLLATE database_default     
);

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

INSERT INTO #AnalyticsTempTable (DisplayName,Hits,Name,Page,Culture)
SELECT X.Name AS DisplayName, CAST (ISNULL(X.Hits,0) AS DECIMAL (15,2)) AS Hits, X.MVTCombinationName AS Name,X.MVTestPage AS Page,X.MVTestCulture AS Culture
FROM
(
SELECT
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsCount),0) AS Hits ,MVTestPage, MVTestCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON
  MVTCombinationPageTemplateID IN ( SELECT 
  CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END    
  FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)         
        AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  LEFT JOIN Analytics_YearHits ON StatisticsID = HitsStatisticsID  
  LEFT JOIN OM_MVTest ON MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' AND
 @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
 
 GROUP BY MVTCombinationName, MVTestPage, MVTestCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X
 
  UPDATE #AnalyticsTempTable SET Hits = Hits/
     (
   SELECT CAST (SUM (HitsCount) AS DECIMAL (15,2)) FROM Analytics_Statistics
   JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
   WHERE Analytics_Statistics.StatisticsCode = 'pageviews'  
   AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
   AND Analytics_Statistics.StatisticsObjectID IN
   (SELECT NodeID FROM View_CMS_Tree_Joined WHERE NodeAliasPath = Page AND NodeSiteID = @CMSContextCurrentSiteID)
    AND (StatisticsObjectCulture = Culture OR Culture IS NULL)    
   )
   *100    
   
   SELECT DisplayName AS '{$mvtcombination.name$}',
   CAST (CAST (ISNULL (Hits,0) AS DECIMAL (15,1)) AS NVARCHAR(15)) + '%' AS '{$om.selectedperiod$}' 
   FROM #AnalyticsTempTable
   ORDER BY Hits DESC
  
 EXEC Proc_Analytics_RemoveTempTable</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>674</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>03b25306-c49e-49ed-a9ad-04441dc381f8</TableGUID>
    <TableLastModified>2013-11-22T08:45:41.9609892+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>554</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>EXEC Proc_Analytics_RemoveTempTable 
 CREATE TABLE #AnalyticsTempTable (  
  Hits DECIMAL (15,2),
  Name NVARCHAR(300) COLLATE database_default,  
  Culture NVARCHAR(300) COLLATE database_default,   
  Page NVARCHAR(300) COLLATE database_default,
  DisplayName NVARCHAR(300) COLLATE database_default     
);

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

INSERT INTO #AnalyticsTempTable (DisplayName,Hits,Name,Page,Culture)
SELECT X.Name AS DisplayName, CAST (ISNULL(X.Hits,0) AS DECIMAL (15,2)) AS Hits, X.MVTCombinationName AS Name,X.MVTestPage AS Page,X.MVTestCulture AS Culture
FROM
(
SELECT
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsCount),0) AS Hits ,MVTestPage, MVTestCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON
  MVTCombinationPageTemplateID IN ( SELECT 
  CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END    
  FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)         
        AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  LEFT JOIN Analytics_WeekHits ON StatisticsID = HitsStatisticsID  
  LEFT JOIN OM_MVTest ON MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' AND
 @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
 
 GROUP BY MVTCombinationName, MVTestPage, MVTestCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X
 
  UPDATE #AnalyticsTempTable SET Hits = Hits/
     (
   SELECT CAST (SUM (HitsCount) AS DECIMAL (15,2)) FROM Analytics_Statistics
   JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
   WHERE Analytics_Statistics.StatisticsCode = 'pageviews'  
   AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
   AND Analytics_Statistics.StatisticsObjectID IN
   (SELECT NodeID FROM View_CMS_Tree_Joined WHERE NodeAliasPath = Page AND NodeSiteID = @CMSContextCurrentSiteID)
    AND (StatisticsObjectCulture = Culture OR Culture IS NULL)    
   )
   *100    
   
   SELECT DisplayName AS '{$mvtcombination.name$}',
   CAST (CAST (ISNULL (Hits,0) AS DECIMAL (15,1)) AS NVARCHAR(15)) + '%' AS '{$om.selectedperiod$}' 
   FROM #AnalyticsTempTable
   ORDER BY Hits DESC
  
 EXEC Proc_Analytics_RemoveTempTable</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>675</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>bbde24a8-646a-4f94-9c10-f0a276622f76</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.0559987+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>555</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>EXEC Proc_Analytics_RemoveTempTable 
 CREATE TABLE #AnalyticsTempTable (  
  Hits DECIMAL (15,2),
  Name NVARCHAR(300) COLLATE database_default,  
  Culture NVARCHAR(300) COLLATE database_default,   
  Page NVARCHAR(300) COLLATE database_default,
  DisplayName NVARCHAR(300) COLLATE database_default     
);

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

INSERT INTO #AnalyticsTempTable (DisplayName,Hits,Name,Page,Culture)
SELECT X.Name AS DisplayName, CAST (ISNULL(X.Hits,0) AS DECIMAL (15,2)) AS Hits, X.MVTCombinationName AS Name,X.MVTestPage AS Page,X.MVTestCulture AS Culture
FROM
(
SELECT
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsCount),0) AS Hits ,MVTestPage, MVTestCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON
  MVTCombinationPageTemplateID IN ( SELECT 
  CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END   
  FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)         
        AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  LEFT JOIN Analytics_MonthHits ON StatisticsID = HitsStatisticsID  
  LEFT JOIN OM_MVTest ON MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' AND
 @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
 
 GROUP BY MVTCombinationName, MVTestPage, MVTestCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X
 
  UPDATE #AnalyticsTempTable SET Hits = Hits/
     (
   SELECT CAST (SUM (HitsCount) AS DECIMAL (15,2)) FROM Analytics_Statistics
   JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
   WHERE Analytics_Statistics.StatisticsCode = 'pageviews'  
   AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
   AND Analytics_Statistics.StatisticsObjectID IN
   (SELECT NodeID FROM View_CMS_Tree_Joined WHERE NodeAliasPath = Page AND NodeSiteID = @CMSContextCurrentSiteID)
    AND (StatisticsObjectCulture = Culture OR Culture IS NULL)    
   )
   *100    
   
   SELECT DisplayName AS '{$mvtcombination.name$}',
   CAST (CAST (ISNULL (Hits,0) AS DECIMAL (15,1)) AS NVARCHAR(15)) + '%' AS '{$om.selectedperiod$}' 
   FROM #AnalyticsTempTable
   ORDER BY Hits DESC
  
 EXEC Proc_Analytics_RemoveTempTable</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>676</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ef81763b-d1a7-43e7-a14a-77d8b2e1fe53</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.1250056+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>556</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>EXEC Proc_Analytics_RemoveTempTable 
 CREATE TABLE #AnalyticsTempTable (  
  Hits DECIMAL (15,2),
  Name NVARCHAR(300) COLLATE database_default,  
  Culture NVARCHAR(300) COLLATE database_default,   
  Page NVARCHAR(300) COLLATE database_default,
  DisplayName NVARCHAR(300) COLLATE database_default     
);

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

INSERT INTO #AnalyticsTempTable (DisplayName,Hits,Name,Page,Culture)
SELECT X.Name AS DisplayName, CAST (ISNULL(X.Hits,0) AS DECIMAL (15,2)) AS Hits, X.MVTCombinationName AS Name,X.MVTestPage AS Page,X.MVTestCulture AS Culture
FROM
(
SELECT
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsCount),0) AS Hits ,MVTestPage, MVTestCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON
  MVTCombinationPageTemplateID IN ( SELECT 
  CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END   
  FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)         
        AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  LEFT JOIN Analytics_HourHits ON StatisticsID = HitsStatisticsID  
  LEFT JOIN OM_MVTest ON MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' AND
 @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
 
 GROUP BY MVTCombinationName, MVTestPage, MVTestCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X
 
  UPDATE #AnalyticsTempTable SET Hits = Hits/
     (
   SELECT CAST (SUM (HitsCount) AS DECIMAL (15,2)) FROM Analytics_Statistics
   JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
   WHERE Analytics_Statistics.StatisticsCode = 'pageviews'  
   AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
   AND Analytics_Statistics.StatisticsObjectID IN
   (SELECT NodeID FROM View_CMS_Tree_Joined WHERE NodeAliasPath = Page AND NodeSiteID = @CMSContextCurrentSiteID)
    AND (StatisticsObjectCulture = Culture OR Culture IS NULL)    
   )
   *100    
   
   SELECT DisplayName AS '{$mvtcombination.name$}',
   CAST (CAST (ISNULL (Hits,0) AS DECIMAL (15,1)) AS NVARCHAR(15)) + '%' AS '{$om.selectedperiod$}' 
   FROM #AnalyticsTempTable
   ORDER BY Hits DESC
  
 EXEC Proc_Analytics_RemoveTempTable</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>677</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>21784c11-b91f-4cc1-88c3-8119ef9552de</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.1940125+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>557</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>EXEC Proc_Analytics_RemoveTempTable 
 CREATE TABLE #AnalyticsTempTable (  
  Hits DECIMAL (15,2),
  Name NVARCHAR(300) COLLATE database_default,  
  Culture NVARCHAR(300) COLLATE database_default,   
  Page NVARCHAR(300) COLLATE database_default,
  DisplayName NVARCHAR(300) COLLATE database_default     
);

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

INSERT INTO #AnalyticsTempTable (DisplayName,Hits,Name,Page,Culture)
SELECT X.Name AS DisplayName, CAST (ISNULL(X.Hits,0) AS DECIMAL (15,2)) AS Hits, X.MVTCombinationName AS Name,X.MVTestPage AS Page,X.MVTestCulture AS Culture
FROM
(
SELECT
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END   
    AS Name,MVTCombinationName, ISNULL(SUM (HitsCount),0) AS Hits ,MVTestPage, MVTestCulture
 FROM Analytics_Statistics
 INNER JOIN OM_MVTCombination ON
  MVTCombinationPageTemplateID IN ( SELECT 
     CASE 
	WHEN [NodeTemplateForAllCultures] = 1 AND NodeTemplateID &lt;&gt; 0  THEN NodeTemplateID
	ELSE [DocumentPageTemplateID]
   END   
  FROM View_CMS_Tree_Joined WHERE NodeSiteID = @CMSContextCurrentSiteID
        AND NodeAliasPath IN(SELECT MVTestPage FROM OM_MVTest WHERE MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID)                        
        AND DocumentCulture = StatisticsObjectCulture)         
        AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
  LEFT JOIN Analytics_DayHits ON StatisticsID = HitsStatisticsID  
  LEFT JOIN OM_MVTest ON MVTestName = @MVTestName AND MVTestSiteID = @CMSContextCurrentSiteID

 WHERE   (StatisticsSiteID = @CMSContextCurrentSiteID ) AND StatisticsCode LIKE 'mvtconversion;%' AND
 @MVTestName = SUBSTRING(StatisticsCode, 15, CHARINDEX(';',StatisticsCode,15)-15) AND
 MVTCombinationName = (SUBSTRING(StatisticsCode,LEN ('mvtconversion;'+@MVTestName+';')+1,LEN (StatisticsCode)))
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
 
 GROUP BY MVTCombinationName, MVTestPage, MVTestCulture,
   CASE
      WHEN MVTCombinationCustomName  IS NULL OR MVTCombinationCustomName='' THEN MVTCombinationName
      ELSE MVTCombinationCustomName
    END
) AS X
 
  UPDATE #AnalyticsTempTable SET Hits = Hits/
     (
   SELECT CAST (SUM (HitsCount) AS DECIMAL (15,2)) FROM Analytics_Statistics
   JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
   WHERE Analytics_Statistics.StatisticsCode = 'pageviews'  
   AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
   AND Analytics_Statistics.StatisticsObjectID IN
   (SELECT NodeID FROM View_CMS_Tree_Joined WHERE NodeAliasPath = Page AND NodeSiteID = @CMSContextCurrentSiteID)
    AND (StatisticsObjectCulture = Culture OR Culture IS NULL)    
   )
   *100    
   
   SELECT DisplayName AS '{$mvtcombination.name$}',
   CAST (CAST (ISNULL (Hits,0) AS DECIMAL (15,1)) AS NVARCHAR(15)) + '%' AS '{$om.selectedperiod$}' 
   FROM #AnalyticsTempTable
   ORDER BY Hits DESC
  
 EXEC Proc_Analytics_RemoveTempTable</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>678</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>df7c242b-4c45-48c2-a171-bf040143e844</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.2610192+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>559</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

SELECT X.Name AS '{$om.variant.tabletitle$}',ISNULL (Y.Hits,0) AS '{$om.selectedperiod$}',
ISNULL(X.Hits,0) AS '{$om.total$}'  FROM
(
SELECT ABVariantDisplayName AS Name, ISNULL(SUM (HitsCount),0) AS Hits,ABVariantName FROM Analytics_Statistics
  LEFT JOIN OM_ABVariant ON ABVariantSiteID = @CMSContextCurrentSiteID AND
    ABVariantName = SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
  LEFT JOIN Analytics_WeekHits ON StatisticsID = HitsSTatisticsID    

 WHERE   StatisticsSiteID = @CMSContextCurrentSiteID AND StatisticsCode LIKE 'abconversion;%' AND
 @TestName = SUBSTRING(StatisticsCode, 14, CHARINDEX(';',StatisticsCode,14)-14) AND
 ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY ABVariantDisplayName,ABVariantName
)
 AS X
LEFT JOIN (SELECT
  SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode)) AS ABVariantName, SUM(HitsCount) AS Hits FROM Analytics_Statistics
  LEFT JOIN Analytics_WeekHits ON HitsStatisticsID = StatisticsID
  
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'abconversion;%'
    AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
    AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
     
  GROUP BY SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
)
AS Y ON X.ABVariantName = Y.ABVariantName

 
ORDER BY X.Hits Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>432</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>f214eaa6-c963-4ad8-b415-40735d8565cd</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.3420273+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>560</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>
SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

SELECT X.Name AS '{$om.variant.tabletitle$}',ISNULL (Y.Hits,0) AS '{$om.selectedperiod$}',
ISNULL(X.Hits,0) AS '{$om.total$}'  FROM
(
SELECT ABVariantDisplayName AS Name, ISNULL(SUM (HitsCount),0) AS Hits,ABVariantName FROM Analytics_Statistics
  LEFT JOIN OM_ABVariant ON ABVariantSiteID = @CMSContextCurrentSiteID AND
    ABVariantName = SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
  LEFT JOIN Analytics_MonthHits ON StatisticsID = HitsSTatisticsID    

 WHERE   StatisticsSiteID = @CMSContextCurrentSiteID AND StatisticsCode LIKE 'abconversion;%' AND
 @TestName = SUBSTRING(StatisticsCode, 14, CHARINDEX(';',StatisticsCode,14)-14) AND
 ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY ABVariantDisplayName,ABVariantName
)
 AS X
LEFT JOIN (SELECT
  SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode)) AS ABVariantName, SUM(HitsCount) AS Hits FROM Analytics_Statistics
  LEFT JOIN Analytics_MonthHits ON HitsStatisticsID = StatisticsID
  
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'abconversion;%'
    AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
    AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
     
  GROUP BY SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
)
AS Y ON X.ABVariantName = Y.ABVariantName

 
ORDER BY X.Hits Desc</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>431</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d887e5ae-ef38-4941-9a3c-8c0a622e04fd</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.4210352+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>562</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>
SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

SELECT X.Name AS '{$om.variant.tabletitle$}',ISNULL (Y.Hits,0) AS '{$om.selectedperiod$}',
ISNULL(X.Hits,0) AS '{$om.total$}'  FROM
(
SELECT ABVariantDisplayName AS Name, ISNULL(SUM (HitsCount),0) AS Hits,ABVariantName FROM Analytics_Statistics
  LEFT JOIN OM_ABVariant ON ABVariantSiteID = @CMSContextCurrentSiteID AND
    ABVariantName = SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
  LEFT JOIN Analytics_DayHits ON StatisticsID = HitsSTatisticsID    

 WHERE   StatisticsSiteID = @CMSContextCurrentSiteID AND StatisticsCode LIKE 'abconversion;%' AND
 @TestName = SUBSTRING(StatisticsCode, 14, CHARINDEX(';',StatisticsCode,14)-14) AND
 ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY ABVariantDisplayName,ABVariantName
)
 AS X
LEFT JOIN (SELECT
  SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode)) AS ABVariantName, SUM(HitsCount) AS Hits FROM Analytics_Statistics
  LEFT JOIN Analytics_DayHits ON HitsStatisticsID = StatisticsID
  
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'abconversion;%'
    AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
    AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
     
  GROUP BY SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
)
AS Y ON X.ABVariantName = Y.ABVariantName

 
ORDER BY X.Hits Desc
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>434</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>7b06c7c2-357f-4387-b652-5cc04207f2db</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.5060437+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>563</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>
SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

SELECT X.Name AS '{$om.variant.tabletitle$}',ISNULL (Y.Hits,0) AS '{$om.selectedperiod$}',
ISNULL(X.Hits,0) AS '{$om.total$}'  FROM
(
SELECT ABVariantDisplayName AS Name, ISNULL(SUM (HitsValue),0) AS Hits,ABVariantName FROM Analytics_Statistics
  LEFT JOIN OM_ABVariant ON ABVariantSiteID = @CMSContextCurrentSiteID AND
    ABVariantName = SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
  LEFT JOIN Analytics_DayHits ON StatisticsID = HitsSTatisticsID    

 WHERE   StatisticsSiteID = @CMSContextCurrentSiteID AND StatisticsCode LIKE 'abconversion;%' AND
 @TestName = SUBSTRING(StatisticsCode, 14, CHARINDEX(';',StatisticsCode,14)-14) AND
 ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY ABVariantDisplayName,ABVariantName
)
 AS X
LEFT JOIN (SELECT
  SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode)) AS ABVariantName, SUM(HitsValue) AS Hits FROM Analytics_Statistics
  LEFT JOIN Analytics_DayHits ON HitsStatisticsID = StatisticsID
  
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'abconversion;%'
    AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
    AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
     
  GROUP BY SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
)
AS Y ON X.ABVariantName = Y.ABVariantName

 
ORDER BY X.Hits Desc
</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>440</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ca18bb54-9c89-496e-9c16-d7dca4880b0d</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.6130544+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>564</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>
SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

SELECT X.Name AS '{$om.variant.tabletitle$}',ISNULL (Y.Hits,0) AS '{$om.selectedperiod$}',
ISNULL(X.Hits,0) AS '{$om.total$}'  FROM
(
SELECT ABVariantDisplayName AS Name, ISNULL(SUM (HitsValue),0) AS Hits,ABVariantName FROM Analytics_Statistics
  LEFT JOIN OM_ABVariant ON ABVariantSiteID = @CMSContextCurrentSiteID AND
    ABVariantName = SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
  LEFT JOIN Analytics_MonthHits ON StatisticsID = HitsSTatisticsID    

 WHERE   StatisticsSiteID = @CMSContextCurrentSiteID AND StatisticsCode LIKE 'abconversion;%' AND
 @TestName = SUBSTRING(StatisticsCode, 14, CHARINDEX(';',StatisticsCode,14)-14) AND
 ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY ABVariantDisplayName,ABVariantName
)
 AS X
LEFT JOIN (SELECT
  SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode)) AS ABVariantName, SUM(HitsValue) AS Hits FROM Analytics_Statistics
  LEFT JOIN Analytics_MonthHits ON HitsStatisticsID = StatisticsID
  
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'abconversion;%'
    AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
    AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
     
  GROUP BY SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
)
AS Y ON X.ABVariantName = Y.ABVariantName

 
ORDER BY X.Hits Desc

</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>438</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>8766c510-cdac-4d42-a40a-c51563d343f3</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.6770608+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>565</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>
SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

SELECT X.Name AS '{$om.variant.tabletitle$}',ISNULL (Y.Hits,0) AS '{$om.selectedperiod$}',
ISNULL(X.Hits,0) AS '{$om.total$}'  FROM
(
SELECT ABVariantDisplayName AS Name, ISNULL(SUM (HitsValue),0) AS Hits,ABVariantName FROM Analytics_Statistics
  LEFT JOIN OM_ABVariant ON ABVariantSiteID = @CMSContextCurrentSiteID AND
    ABVariantName = SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
  LEFT JOIN Analytics_WeekHits ON StatisticsID = HitsSTatisticsID    

 WHERE   StatisticsSiteID = @CMSContextCurrentSiteID AND StatisticsCode LIKE 'abconversion;%' AND
 @TestName = SUBSTRING(StatisticsCode, 14, CHARINDEX(';',StatisticsCode,14)-14) AND
 ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY ABVariantDisplayName,ABVariantName
)
 AS X
LEFT JOIN (SELECT
  SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode)) AS ABVariantName, SUM(HitsValue) AS Hits FROM Analytics_Statistics
  LEFT JOIN Analytics_WeekHits ON HitsStatisticsID = StatisticsID
  
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND StatisticsCode LIKE 'abconversion;%'
    AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
    AND ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
     
  GROUP BY SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))
)
AS Y ON X.ABVariantName = Y.ABVariantName

 
ORDER BY X.Hits Desc

</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>439</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a2fca359-0eec-4ca1-aea8-419844e8ed2b</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.7470678+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>569</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>
EXEC Proc_Analytics_RemoveTempTable 
 CREATE TABLE #AnalyticsTempTable (  
  Hits DECIMAL(15,2),
  Name NVARCHAR(300) COLLATE database_default,  
  Culture NVARCHAR(300) COLLATE database_default,   
  Page NVARCHAR(300) COLLATE database_default   
);

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

INSERT INTO #AnalyticsTempTable (Name,Hits,Page,Culture)
SELECT X.Name AS Name,CAST (ISNULL (X.Hits,0) AS DECIMAL (15,2)) AS Hits, X.Page AS Page,X.Culture AS Culture  FROM
(
SELECT ABVariantDisplayName AS Name, ISNULL(SUM (HitsCount),0) AS Hits,ABVariantName,ABVariantPath AS Page, ABTestCulture AS Culture FROM Analytics_Statistics
  LEFT JOIN OM_ABVariant ON ABVariantSiteID = @CMSContextCurrentSiteID AND
    ABVariantName = SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))         
  LEFT JOIN Analytics_WeekHits ON StatisticsID = HitsSTatisticsID    
  LEFT JOIN OM_ABTest ON ABTestSiteID = @CMSContextCurrentSiteID AND ABTestName = @TestName AND ABVariantTestID = ABTestID

 WHERE   StatisticsSiteID = @CMSContextCurrentSiteID AND StatisticsCode LIKE 'abconversion;%' AND
 @TestName = SUBSTRING(StatisticsCode, 14, CHARINDEX(';',StatisticsCode,14)-14)
 AND HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate   
 AND  ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY ABVariantDisplayName,ABVariantName,ABVariantPath, ABTestCulture
)
 AS X

ORDER BY X.Hits Desc

 UPDATE #AnalyticsTempTable SET Hits = ISNULL (Hits/
 (
   SELECT CAST (SUM (HitsCount) AS DECIMAL (10,2)) FROM Analytics_Statistics
   JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
   WHERE Analytics_Statistics.StatisticsCode = 'pageviews'  
   AND HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate   
   AND Analytics_Statistics.StatisticsObjectID IN
  (SELECT NodeID FROM View_CMS_Tree_Joined WHERE NodeAliasPath = Page AND NodeSiteID = @CMSContextCurrentSiteID AND (DocumentCulture = StatisticsObjectCulture OR StatisticsObjectCulture IS NULL))
     /*culture */
     AND (StatisticsObjectCulture IS NULL OR StatisticsObjectCulture = Culture OR Culture IS NULL)    
   )
  *100  ,0)
  
SELECT Name AS '{$om.variant.tabletitle$}',
   CAST (CAST (ISNULL (Hits,0) AS DECIMAL (15,1)) AS NVARCHAR(15)) + '%' AS '{$om.selectedperiod$}'  
 FROM #AnalyticsTempTable ORDER BY Hits DESC

EXEC Proc_Analytics_RemoveTempTable

</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>445</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>eb90b678-c683-42d6-90db-4b0f8e2e0a6d</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.8180749+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>570</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>
EXEC Proc_Analytics_RemoveTempTable 
 CREATE TABLE #AnalyticsTempTable (  
  Hits DECIMAL(15,2),
  Name NVARCHAR(300) COLLATE database_default,  
  Culture NVARCHAR(300) COLLATE database_default,   
  Page NVARCHAR(300) COLLATE database_default   
);

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

INSERT INTO #AnalyticsTempTable (Name,Hits,Page,Culture)
SELECT X.Name AS Name,CAST (ISNULL (X.Hits,0) AS DECIMAL (15,2)) AS Hits, X.Page AS Page,X.Culture AS Culture  FROM
(
SELECT ABVariantDisplayName AS Name, ISNULL(SUM (HitsCount),0) AS Hits,ABVariantName,ABVariantPath AS Page, ABTestCulture AS Culture FROM Analytics_Statistics
  LEFT JOIN OM_ABVariant ON ABVariantSiteID = @CMSContextCurrentSiteID AND
    ABVariantName = SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))         
  LEFT JOIN Analytics_MonthHits ON StatisticsID = HitsSTatisticsID    
  LEFT JOIN OM_ABTest ON ABTestSiteID = @CMSContextCurrentSiteID AND ABTestName = @TestName AND ABVariantTestID = ABTestID

 WHERE   StatisticsSiteID = @CMSContextCurrentSiteID AND StatisticsCode LIKE 'abconversion;%' AND
 @TestName = SUBSTRING(StatisticsCode, 14, CHARINDEX(';',StatisticsCode,14)-14)
 AND HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate   
 AND  ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY ABVariantDisplayName,ABVariantName,ABVariantPath, ABTestCulture
)
 AS X

ORDER BY X.Hits Desc

 UPDATE #AnalyticsTempTable SET Hits = ISNULL (Hits/
 (
   SELECT CAST (SUM (HitsCount) AS DECIMAL (10,2)) FROM Analytics_Statistics
   JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
   WHERE Analytics_Statistics.StatisticsCode = 'pageviews'  
   AND HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate   
   AND Analytics_Statistics.StatisticsObjectID IN
  (SELECT NodeID FROM View_CMS_Tree_Joined WHERE NodeAliasPath = Page AND NodeSiteID = @CMSContextCurrentSiteID AND (DocumentCulture = StatisticsObjectCulture OR StatisticsObjectCulture IS NULL))
     /*culture */
     AND (StatisticsObjectCulture IS NULL OR StatisticsObjectCulture = Culture OR Culture IS NULL)    
   )
  *100  ,0)
  
SELECT Name AS '{$om.variant.tabletitle$}',
   CAST (CAST (ISNULL (Hits,0) AS DECIMAL (15,1)) AS NVARCHAR(15)) + '%' AS '{$om.selectedperiod$}'  
 FROM #AnalyticsTempTable ORDER BY Hits DESC

EXEC Proc_Analytics_RemoveTempTable

</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>444</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>82733e5b-6e8b-42f2-b248-3689431e0a68</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.8960827+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>572</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>
EXEC Proc_Analytics_RemoveTempTable 
 CREATE TABLE #AnalyticsTempTable (  
  Hits DECIMAL(15,2),
  Name NVARCHAR(300) COLLATE database_default,  
  Culture NVARCHAR(300) COLLATE database_default,   
  Page NVARCHAR(300) COLLATE database_default   
);

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

INSERT INTO #AnalyticsTempTable (Name,Hits,Page,Culture)
SELECT X.Name AS Name,CAST (ISNULL (X.Hits,0) AS DECIMAL (15,2)) AS Hits, X.Page AS Page,X.Culture AS Culture  FROM
(
SELECT ABVariantDisplayName AS Name, ISNULL(SUM (HitsCount),0) AS Hits,ABVariantName,ABVariantPath AS Page, ABTestCulture AS Culture FROM Analytics_Statistics
  LEFT JOIN OM_ABVariant ON ABVariantSiteID = @CMSContextCurrentSiteID AND
    ABVariantName = SUBSTRING(StatisticsCode, CHARINDEX(';',StatisticsCode,14)+1,LEN (StatisticsCode))         
  LEFT JOIN Analytics_DayHits ON StatisticsID = HitsSTatisticsID    
  LEFT JOIN OM_ABTest ON ABTestSiteID = @CMSContextCurrentSiteID AND ABTestName = @TestName AND ABVariantTestID = ABTestID

 WHERE   StatisticsSiteID = @CMSContextCurrentSiteID AND StatisticsCode LIKE 'abconversion;%' AND
 @TestName = SUBSTRING(StatisticsCode, 14, CHARINDEX(';',StatisticsCode,14)-14)
 AND HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate   
 AND  ISNULL(@ConversionName,'') IN ('',StatisticsObjectName)
 
 GROUP BY ABVariantDisplayName,ABVariantName,ABVariantPath, ABTestCulture
)
 AS X

ORDER BY X.Hits Desc

 UPDATE #AnalyticsTempTable SET Hits = ISNULL (Hits/
 (
   SELECT CAST (SUM (HitsCount) AS DECIMAL (10,2)) FROM Analytics_Statistics
   JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
   WHERE Analytics_Statistics.StatisticsCode = 'pageviews'  
   AND HitsStartTime &gt;= @FromDate AND HitsEndTime &lt;= @ToDate   
   AND Analytics_Statistics.StatisticsObjectID IN
  (SELECT NodeID FROM View_CMS_Tree_Joined WHERE NodeAliasPath = Page AND NodeSiteID = @CMSContextCurrentSiteID AND (DocumentCulture = StatisticsObjectCulture OR StatisticsObjectCulture IS NULL))
     /*culture */
     AND (StatisticsObjectCulture IS NULL OR StatisticsObjectCulture = Culture OR Culture IS NULL)    
   )
  *100  ,0)
  
SELECT Name AS '{$om.variant.tabletitle$}',
   CAST (CAST (ISNULL (Hits,0) AS DECIMAL (15,1)) AS NVARCHAR(15)) + '%' AS '{$om.selectedperiod$}'  
 FROM #AnalyticsTempTable ORDER BY Hits DESC

EXEC Proc_Analytics_RemoveTempTable

</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>446</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>639182ae-112b-4ce9-be1c-646f1e432b13</TableGUID>
    <TableLastModified>2013-11-22T08:45:42.9800911+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>580</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100 StatisticsObjectName AS '{$reports_countries.name_header$}', SUM(HitsCount) AS '{$reports_countries.hits_header$}' FROM 
Analytics_Statistics, Analytics_YearHits WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (StatisticsCode=@CodeName) AND (StatisticsID = HitsStatisticsID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>749</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>255b0e32-1ab5-4b2c-b358-37c8fcf42b3f</TableGUID>
    <TableLastModified>2013-11-22T08:45:43.1011032+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>581</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Trims the value of @FromDate to be able to display years in the table. */
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
/* Selects the number of orders created in the given years. */
SELECT 
   DATEPART(YEAR,[Date]) AS '{$ecommerce.report_year$}', 
   COUNT(OrderDate) AS '{$ecommerce.report_numberoforders$}'  
FROM
   -- returns a column of dates, each year in a new row
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'year') AS Dates
   LEFT JOIN COM_Order  
      ON ([Date] &lt;= OrderDate  AND  DATEADD(YEAR,1,[Date]) &gt; OrderDate) 
      AND OrderSiteID = @CMSContextCurrentSiteID
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>752</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5f0ffe41-93ba-4e5e-b2ed-24eeb431da44</TableGUID>
    <TableLastModified>2013-11-22T08:45:43.209114+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>582</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Trims the value of @FromDate to be able to display months in the table. */
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
/* Selects the number of orders created in the given months. */
SELECT 
   DATENAME(MONTH,[Date])+', '+ DATENAME(YEAR, [Date])  AS '{$ecommerce.report_month$}', 
   COUNT(OrderDate) AS '{$ecommerce.report_numberoforders$}'  
FROM
   -- returns a column of dates, each month in a new row
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'month') AS Dates
   LEFT JOIN COM_Order  
      ON ([Date] &lt;= OrderDate  AND  DATEADD(MONTH,1,[Date]) &gt; OrderDate) 
      AND OrderSiteID = @CMSContextCurrentSiteID
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>753</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0a09d488-a5e2-4a9c-b4c9-5a8bc91023e1</TableGUID>
    <TableLastModified>2013-11-22T08:45:43.2961227+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>583</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Trims the value of @FromDate to be able to display days in the table. */
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day')

/* Selects the number of orders created in the given days. */ 
SELECT 
   [Date] AS '{$ecommerce.report_day$}', 
   COUNT(OrderDate) AS '{$ecommerce.report_numberoforders$}' 
FROM 
   -- returns a column of dates, each day in a new row 
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'day') AS Dates
   LEFT JOIN COM_Order  
      ON ([Date] &lt;= OrderDate  AND  DATEADD(DAY,1,[Date]) &gt; OrderDate) 
      AND OrderSiteID = @CMSContextCurrentSiteID
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>754</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2c56c9a0-1048-46e0-bbd5-c9ace9b35be9</TableGUID>
    <TableLastModified>2014-06-09T14:49:20.5207977+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>587</TableID>
    <TableName>TopNContacts</TableName>
    <TableDisplayName>Top N Contacts</TableDisplayName>
    <TableQuery>SELECT TOP (@SelectTopN) 
	SUM(OM_ScoreContactRule.Value) as [{$om.score$}],
	ContactFirstName as [{$om.contact.firstname$}], 
	ContactLastName as [{$om.contact.lastname$}], 
        ContactEmail as [{$general.email$}],
        ContactIsAnonymous as [{$om.contact.isanonymous$}],
        ContactStatusName as [{$om.contactstatus$}]

FROM OM_Contact
LEFT JOIN OM_ContactStatus ON OM_Contact.ContactStatusID = OM_ContactStatus.ContactStatusID
INNER JOIN OM_ScoreContactRule ON OM_Contact.ContactID = OM_ScoreContactRule.ContactID
INNER JOIN OM_Score ON OM_ScoreContactRule.ScoreID = OM_Score.ScoreID
INNER JOIN OM_Rule ON OM_ScoreContactRule.RuleID = OM_Rule.RuleID

WHERE
  OM_Score.ScoreEnabled = 1
  AND
  OM_Score.ScoreBelongsToPersona = 0
  AND
  (@ScoreID = -1 OR OM_Score.ScoreID = @ScoreID)
  AND
  OM_Score.ScoreSiteID = @CMSContextCurrentSiteID

GROUP BY OM_Contact.ContactID, ContactFirstName, ContactLastName, ContactIsAnonymous, ContactEmail, ContactStatusName
ORDER BY [{$om.score$}] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>757</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0a00506e-8929-4f8f-81bf-ed23f3dc786b</TableGUID>
    <TableLastModified>2014-02-11T16:44:29.4329877+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>588</TableID>
    <TableName>ContactsWithScoreHigherThanN</TableName>
    <TableDisplayName>Contacts with score higher than N</TableDisplayName>
    <TableQuery>SELECT
	SUM(OM_ScoreContactRule.Value) as [{$om.score$}],
	ContactFirstName as [{$om.contact.firstname$}], 
	ContactLastName as [{$om.contact.lastname$}], 
        ContactEmail as [{$general.email$}],
        ContactIsAnonymous as [{$om.contact.isanonymous$}],
        ContactStatusName as [{$om.contactstatus$}]

FROM OM_Contact
LEFT JOIN OM_ContactStatus ON OM_Contact.ContactStatusID = OM_ContactStatus.ContactStatusID
INNER JOIN OM_ScoreContactRule ON OM_Contact.ContactID = OM_ScoreContactRule.ContactID
INNER JOIN OM_Score ON OM_ScoreContactRule.ScoreID = OM_Score.ScoreID
INNER JOIN OM_Rule ON OM_ScoreContactRule.RuleID = OM_Rule.RuleID

WHERE
  OM_Score.ScoreEnabled = 1
  AND
  OM_Score.ScoreBelongsToPersona = 0
  AND
  (@ScoreID = -1 OR OM_Score.ScoreID = @ScoreID)
  AND
  OM_Score.ScoreSiteID = @CMSContextCurrentSiteID

GROUP BY OM_Contact.ContactID, ContactFirstName, ContactLastName, ContactIsAnonymous, ContactEmail, ContactStatusName
HAVING SUM(OM_ScoreContactRule.Value) &gt;= @MinimalScore
ORDER BY [{$om.score$}] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>758</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>741b6c81-1266-43ba-a180-b80b32d069e1</TableGUID>
    <TableLastModified>2014-02-11T16:45:50.604104+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>589</TableID>
    <TableName>TopPctContacts</TableName>
    <TableDisplayName>Top % Contacts</TableDisplayName>
    <TableQuery>SELECT TOP (@SelectTopNPct) PERCENT 
	SUM(OM_ScoreContactRule.Value) as [{$om.score$}],
	ContactFirstName as [{$om.contact.firstname$}], 
	ContactLastName as [{$om.contact.lastname$}], 
        ContactEmail as [{$general.email$}],
        ContactIsAnonymous as [{$om.contact.isanonymous$}],
        ContactStatusName as [{$om.contactstatus$}]

FROM OM_Contact
LEFT JOIN OM_ContactStatus ON OM_Contact.ContactStatusID = OM_ContactStatus.ContactStatusID
INNER JOIN OM_ScoreContactRule ON OM_Contact.ContactID = OM_ScoreContactRule.ContactID
INNER JOIN OM_Score ON OM_ScoreContactRule.ScoreID = OM_Score.ScoreID
INNER JOIN OM_Rule ON OM_ScoreContactRule.RuleID = OM_Rule.RuleID

WHERE
  OM_Score.ScoreEnabled = 1
  AND
  OM_Score.ScoreBelongsToPersona = 0
  AND
  (@ScoreID = -1 OR OM_Score.ScoreID = @ScoreID)
  AND
  OM_Score.ScoreSiteID = @CMSContextCurrentSiteID

GROUP BY OM_Contact.ContactID, ContactFirstName, ContactLastName, ContactIsAnonymous, ContactEmail, ContactStatusName
ORDER BY [{$om.score$}] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>759</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ceb31edd-8103-4a30-9dd4-3accde62c4e0</TableGUID>
    <TableLastModified>2014-02-11T16:46:05.0035438+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>590</TableID>
    <TableName>DocumentAliasesTable</TableName>
    <TableDisplayName>Page aliases table</TableDisplayName>
    <TableQuery>SELECT NodeName, NodeAliasPath, AliasUrlPath, AliasCulture, AliasExtensions  
FROM CMS_DocumentAlias LEFT JOIN CMS_Tree 
ON AliasNodeID = NodeID 
WHERE NodeSiteID = {% CMSContext.CurrentSiteID |(user)administrator|(hash)a90a108271dd664de821e19c78137b0f3270c681a6abdcd21f9c08d80a99cf1a%}
ORDER BY NodeAliasPath</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>760</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;20&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ead70440-74db-4375-a13d-dfd0caa4a543</TableGUID>
    <TableLastModified>2014-06-23T09:55:05.6502651+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>592</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @PaveViews TABLE
(
  DocumentNamePath NVARCHAR(500),
  Pageviews INT,
  Percents DECIMAL(10,2)  
)

DECLARE @Sum DECIMAL;

SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

SELECT @Sum =   
  SUM(HitsCount) 
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
  LEFT JOIN View_CMS_Tree_Joined ON View_CMS_Tree_Joined.NodeID = Analytics_Statistics.StatisticsObjectID AND DocumentCulture = StatisticsObjectCulture
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
 AND (HitsEndTime &lt;= @ToDate)

INSERT INTO @PaveViews (DocumentNamePath,pageViews,percents)
SELECT TOP 10
 CASE
  WHEN DocumentNamePath LIKE '' OR DocumentNamePath IS NULL THEN StatisticsObjectName
  ELSE DocumentNamePath
 END , SUM(HitsCount), (SUM(HitsCount)/@Sum)*100
 FROM Analytics_Statistics
 INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
 LEFT JOIN View_CMS_Tree_Joined ON Analytics_Statistics.StatisticsObjectID = View_CMS_Tree_Joined.NodeID AND DocumentCulture = StatisticsObjectCulture
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
 AND (StatisticsCode=@CodeName)
 GROUP BY DocumentNamePath, StatisticsObjectName
 ORDER BY SUM(HitsCount) DESC
 
  
 SELECT DocumentNamePath AS '{$reports_landingpage_Day.path_header$}',pageviews AS  '{$reports_landingpage_Day.hits_header$}',
   CAST (Percents AS NVARCHAR(10))+'%' AS '{$reports_landingpage_Day.hits_percent_header$}'
   FROM @PaveViews ORDER BY PageViews DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>761</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>24dd4953-f8fa-4c83-a4ce-00504c72b6b0</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.1102041+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>597</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchcrawler.name_header$}',
 SUM(HitsCount) AS '{$reports_searchcrawler.hits_header$}',
  (SELECT MAX(HitsStartTime) FROM Analytics_HourHits INNER JOIN Analytics_Statistics ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)) AS '{$reports_searchcrawler.lastvisit_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>770</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5ab34a40-a7fa-43ac-b31f-571dce4dd46f</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.189212+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>598</TableID>
    <TableName>Crawlers</TableName>
    <TableDisplayName>Crawlers</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'{%if (Interval == null) { "Year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'{%if (Interval == null) { "Year" } else { Interval }|(user)administrator|(hash)f55ca46c09e07631867db5e60b21e7c29f0f7043bea4ef0fda9c62023729f77f%}');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchcrawler.name_header$}',
 SUM(HitsCount) AS '{$reports_searchcrawler.hits_detail_header$}',
  (SELECT MAX(HitsStartTime) FROM Analytics_HourHits INNER JOIN Analytics_Statistics ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode='referringsite_search')
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)) AS '{$reports_searchcrawler.lastvisit_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=N'crawler')
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) AND (StatisticsObjectID = @NodeID)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>584</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>8880269e-cf21-4874-ba72-a6bff0f1bea1</TableGUID>
    <TableLastModified>2014-06-14T10:19:15.8882863+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>599</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchcrawler.name_header$}',
 SUM(HitsCount) AS '{$reports_searchcrawler.hits_header$}',
  (SELECT MAX(HitsStartTime) FROM Analytics_HourHits INNER JOIN Analytics_Statistics ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)) AS '{$reports_searchcrawler.lastvisit_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>771</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b2528806-a927-4fa1-a4f6-7c91b46f7b00</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.3912322+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>600</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchcrawler.name_header$}',
 SUM(HitsCount) AS '{$reports_searchcrawler.hits_header$}',
  (SELECT MAX(HitsStartTime) FROM Analytics_HourHits INNER JOIN Analytics_Statistics ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)) AS '{$reports_searchcrawler.lastvisit_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>772</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2e0e85da-087e-49e0-99f0-bf76955d775a</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.4672398+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>601</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchcrawler.name_header$}',
 SUM(HitsCount) AS '{$reports_searchcrawler.hits_header$}',
  (SELECT MAX(HitsStartTime) FROM Analytics_HourHits INNER JOIN Analytics_Statistics ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)) AS '{$reports_searchcrawler.lastvisit_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>773</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5346d068-4138-4f7e-9bd8-8b885899cc1a</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.5182449+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>602</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100
StatisticsObjectName  AS '{$reports_searchcrawler.name_header$}',
 SUM(HitsCount) AS '{$reports_searchcrawler.hits_header$}',
  (SELECT MAX(HitsStartTime) FROM Analytics_HourHits INNER JOIN Analytics_Statistics ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)) AS '{$reports_searchcrawler.lastvisit_header$}'
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID = @CMSContextCurrentSiteID)
  AND (StatisticsCode=@CodeName)
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)
  GROUP BY StatisticsObjectName
  ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>774</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ca772bb2-fac7-4327-8f93-225af32e2692</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.5802511+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>605</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_mobiledevice.name_header$}', 
 SUM(HitsCount) AS '{$reports_mobiledevice.count_header$}', 
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount) 
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) 
 AS VARCHAR)+'%' AS '{$reports_mobiledevice.percent_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>776</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>8ac2ea96-6683-49b6-9f30-e37c9c21557e</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.7462677+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>606</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_mobiledevice.name_header$}', 
 SUM(HitsCount) AS '{$reports_mobiledevice.count_header$}', 
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount) 
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) 
 AS VARCHAR)+'%' AS '{$reports_mobiledevice.percent_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>777</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>fb91687d-fc5b-4f54-968d-1c303091b72d</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.7942725+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>607</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_mobiledevice.name_header$}', 
 SUM(HitsCount) AS '{$reports_mobiledevice.count_header$}', 
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount) 
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) 
 AS VARCHAR)+'%' AS '{$reports_mobiledevice.percent_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>778</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;No data found.&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0ae10d49-bacd-403e-aed1-38d1a391e012</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.859279+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>608</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_mobiledevice.name_header$}', 
 SUM(HitsCount) AS '{$reports_mobiledevice.count_header$}', 
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount) 
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) 
 AS VARCHAR)+'%' AS '{$reports_mobiledevice.percent_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>779</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;No data found.&lt;/querynorecordtext&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a099aa9f-3a26-410f-a60c-8759c502d828</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.9152846+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>609</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');
SELECT TOP 100 
 StatisticsObjectName AS '{$reports_mobiledevice.name_header$}', 
 SUM(HitsCount) AS '{$reports_mobiledevice.count_header$}', 
 CAST(CAST(100*CAST(SUM(HitsCount) AS float)/NULLIF((
  SELECT SUM(HitsCount) 
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID) 
  AND (StatisticsCode=@CodeName) 
  AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate)), 0) AS decimal(5,2)) 
 AS VARCHAR)+'%' AS '{$reports_mobiledevice.percent_header$}' 
 FROM Analytics_Statistics
 INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
 WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) 
 AND (StatisticsCode=@CodeName) 
 AND (HitsStartTime &gt;= @FromDate) AND (HitsEndTime &lt;= @ToDate) 
 GROUP BY StatisticsObjectName ORDER BY SUM(HitsCount) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>780</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d1cbf70e-30e5-4dde-ba12-3f267a270624</TableGUID>
    <TableLastModified>2013-11-22T08:45:44.9732904+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>610</TableID>
    <TableName>TableYearConversion</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day'); 
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day'); 

IF (@ConversionName IS NULL OR @ConversionName = '')
BEGIN

SELECT TOP 100 ConversionDisplayName AS '{$reports_conversion.name_header$}', SUM(HitsCount) AS
'{$reports_conversion.hits_header$}',SUM(HitsValue) AS '{$reports_conversion.value_header$}'  FROM
Analytics_Statistics 
JOIN Analytics_DayHits  ON HitsStatisticsID = StatisticsID
JOIN Analytics_Conversion ON ConversionName  = StatisticsObjectName AND ConversionSiteID = @CMSContextCurrentSiteID
WHERE (StatisticsSiteID = @CMSContextCurrentSiteID) AND
(StatisticsCode=N'conversion') AND (StatisticsID = HitsStatisticsID) 
AND (@FromDate IS NULL OR @FromDate &lt;= HitsStartTime) AND (@ToDate IS NULL OR @ToDate &gt;= HitsStartTime)	
 GROUP BY ConversionDisplayName ORDER BY SUM(HitsCount) DESC
END

ELSE
BEGIN

SELECT
 ISNULL(CampaignDisplayName,'-') AS '{$campaign.campaign.list$}',
 ISNULL(SUM(HitsCount),0) AS '{$conversion.conversion.list$}',
 ISNULL(SUM (HitsValue),0) AS '{$conversions.value$}',
 ISNULL(CAST (CAST (CAST (SUM(HitsCount) AS DECIMAL (15,2)) / Visits * 100 AS DECIMAL(15,1)) AS NVARCHAR(20))+'%','0.0%') AS '{$abtesting.conversionsrate$}', 
 ISNULL(ROUND (SUM (HitsValue)  / NULLIF (Visits,0), 1),0) AS '{$conversions.valuepervisit$}',
 ISNULL(Visits,0) AS '{$analytics_codename.visits$}'
 
FROM Analytics_Statistics JOIN Analytics_DayHits ON HitsStatisticsID = StatisticsID
LEFT JOIN 
(SELECT CampaignDisplayName,CampaignUTMCode,CampaignSiteID, SUM (HitsCount) AS Visits FROM Analytics_Campaign 
	LEFT JOIN Analytics_Statistics ON StatisticsCode = 'campaign' AND StatisticsObjectName = CampaignUTMCode  AND CampaignSiteID = StatisticsSiteID 
	LEFT JOIN Analytics_DayHits ON HitsStatisticsID = StatisticsID
	WHERE CampaignSiteID = @CMSContextCurrentSiteID
	AND (@FromDate IS NULL OR @FromDate &lt;= HitsStartTime) AND (@ToDate IS NULL OR @ToDate &gt;= HitsStartTime)	
	GROUP BY CampaignDisplayName,CampaignUTMCode,CampaignSiteID)
 AS Campaigns 
ON Campaigns.CampaignUTMCode = SUBSTRING(StatisticsCode,16,LEN(StatisticsCode)) AND Campaigns.CampaignSiteID = StatisticsSiteID

WHERE StatisticsObjectName = @ConversionName AND StatisticsSiteID = @CMSContextCurrentSiteID AND 
(StatisticsCode=N'conversion' OR StatisticsCode LIKE N'campconversion;%')
AND (@FromDate IS NULL OR @FromDate &lt;= HitsStartTime) AND (@ToDate IS NULL OR @ToDate &gt;= HitsStartTime)	
GROUP BY CampaignDisplayName,Visits
ORDER BY SUM(HitsValue) DESC, CampaignDisplayName

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>781</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>f95992d3-ebeb-44c2-9b58-82a6523367ed</TableGUID>
    <TableLastModified>2015-09-08T08:21:17.1464891+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>615</TableID>
    <TableName>Table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>--DECLARE @FromDate DATETIME
--SET @FromDate = '1/1/2011 12:00:00 AM'
--DECLARE @ToDate DATETIME
--SET @ToDate = '1/1/2012 12:00:00 AM'
--DECLARE @CodeName NVARCHAR(60)
--SET @CodeName = 'bannerclick'

--DECLARE @CMSContextCurrentSiteID INT
--SET @CMSContextCurrentSiteID = 1



SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

SELECT BannerID AS '{$banner.reports.bannerid$}', BannerName AS '{$banner.reports.bannername$}', BannerCategoryName AS '{$banner.reports.bannercategoryname$}', SUM(HitsCount) AS '{$banner.reports.numberofclicks$}'
FROM Analytics_Statistics
INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
LEFT JOIN CMS_Banner ON Analytics_Statistics.StatisticsObjectID = CMS_Banner.BannerID
LEFT JOIN CMS_BannerCategory ON CMS_BannerCategory.BannerCategoryID = CMS_Banner.BannerCategoryID
WHERE (StatisticsCode = @CodeName)
AND (HitsStartTime &gt;= @FromDate)
AND (HitsEndTime &lt;= @ToDate)
AND (StatisticsObjectID = BannerID)
AND (StatisticsSiteID = @CMSContextCurrentSiteID)
GROUP BY BannerID, BannerName, BannerCategoryName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>791</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>cb0e0d79-8580-4d1d-b4a5-4eb1682be6c5</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.1003031+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>616</TableID>
    <TableName>Table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>--DECLARE @FromDate DATETIME
--SET @FromDate = '1/1/2011 12:00:00 AM'
--DECLARE @ToDate DATETIME
--SET @ToDate = '1/1/2012 12:00:00 AM'
--DECLARE @CodeName NVARCHAR(60)
--SET @CodeName = 'bannerclick'

--DECLARE @CMSContextCurrentSiteID INT
--SET @CMSContextCurrentSiteID = 1



SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

SELECT BannerID AS '{$banner.reports.bannerid$}', BannerName AS '{$banner.reports.bannername$}', BannerCategoryName AS '{$banner.reports.bannercategoryname$}', SUM(HitsCount) AS '{$banner.reports.numberofclicks$}'
FROM Analytics_Statistics
INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
LEFT JOIN CMS_Banner ON Analytics_Statistics.StatisticsObjectID = CMS_Banner.BannerID
LEFT JOIN CMS_BannerCategory ON CMS_BannerCategory.BannerCategoryID = CMS_Banner.BannerCategoryID
WHERE (StatisticsCode = @CodeName)
AND (HitsStartTime &gt;= @FromDate)
AND (HitsEndTime &lt;= @ToDate)
AND (StatisticsObjectID = BannerID)
AND (StatisticsSiteID = @CMSContextCurrentSiteID)
GROUP BY BannerID, BannerName, BannerCategoryName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>792</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>f3e4e047-e689-48a7-abf8-d5ffb51c7446</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.1813112+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>617</TableID>
    <TableName>Table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>--DECLARE @FromDate DATETIME
--SET @FromDate = '1/1/2011 12:00:00 AM'
--DECLARE @ToDate DATETIME
--SET @ToDate = '1/1/2012 12:00:00 AM'
--DECLARE @CodeName NVARCHAR(60)
--SET @CodeName = 'bannerclick'

--DECLARE @CMSContextCurrentSiteID INT
--SET @CMSContextCurrentSiteID = 1



SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

SELECT BannerID AS '{$banner.reports.bannerid$}', BannerName AS '{$banner.reports.bannername$}', BannerCategoryName AS '{$banner.reports.bannercategoryname$}', SUM(HitsCount) AS '{$banner.reports.numberofclicks$}'
FROM Analytics_Statistics
INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
LEFT JOIN CMS_Banner ON Analytics_Statistics.StatisticsObjectID = CMS_Banner.BannerID
LEFT JOIN CMS_BannerCategory ON CMS_BannerCategory.BannerCategoryID = CMS_Banner.BannerCategoryID
WHERE (StatisticsCode = @CodeName)
AND (HitsStartTime &gt;= @FromDate)
AND (HitsEndTime &lt;= @ToDate)
AND (StatisticsObjectID = BannerID)
AND (StatisticsSiteID = @CMSContextCurrentSiteID)
GROUP BY BannerID, BannerName, BannerCategoryName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>793</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>3070eda4-3101-4e3d-b691-5844399ddce3</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.2533184+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>618</TableID>
    <TableName>Table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>--DECLARE @FromDate DATETIME
--SET @FromDate = '1/1/2011 12:00:00 AM'
--DECLARE @ToDate DATETIME
--SET @ToDate = '1/1/2012 12:00:00 AM'
--DECLARE @CodeName NVARCHAR(60)
--SET @CodeName = 'bannerclick'

--DECLARE @CMSContextCurrentSiteID INT
--SET @CMSContextCurrentSiteID = 1



SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

SELECT BannerID AS '{$banner.reports.bannerid$}', BannerName AS '{$banner.reports.bannername$}', BannerCategoryName AS '{$banner.reports.bannercategoryname$}', SUM(HitsCount) AS '{$banner.reports.numberofclicks$}'
FROM Analytics_Statistics
INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
LEFT JOIN CMS_Banner ON Analytics_Statistics.StatisticsObjectID = CMS_Banner.BannerID
LEFT JOIN CMS_BannerCategory ON CMS_BannerCategory.BannerCategoryID = CMS_Banner.BannerCategoryID
WHERE (StatisticsCode = @CodeName)
AND (HitsStartTime &gt;= @FromDate)
AND (HitsEndTime &lt;= @ToDate)
AND (StatisticsObjectID = BannerID)
AND (StatisticsSiteID = @CMSContextCurrentSiteID)
GROUP BY BannerID, BannerName, BannerCategoryName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>794</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b0f373a7-2324-4105-98ce-0a7442ad7139</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.3313262+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>619</TableID>
    <TableName>Table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>--DECLARE @FromDate DATETIME
--SET @FromDate = '1/1/2011 12:00:00 AM'
--DECLARE @ToDate DATETIME
--SET @ToDate = '1/1/2012 12:00:00 AM'
--DECLARE @CodeName NVARCHAR(60)
--SET @CodeName = 'bannerclick'

--DECLARE @CMSContextCurrentSiteID INT
--SET @CMSContextCurrentSiteID = 1



SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

SELECT BannerID AS '{$banner.reports.bannerid$}', BannerName AS '{$banner.reports.bannername$}', BannerCategoryName AS '{$banner.reports.bannercategoryname$}', SUM(HitsCount) AS '{$banner.reports.numberofclicks$}'
FROM Analytics_Statistics
INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
LEFT JOIN CMS_Banner ON Analytics_Statistics.StatisticsObjectID = CMS_Banner.BannerID
LEFT JOIN CMS_BannerCategory ON CMS_BannerCategory.BannerCategoryID = CMS_Banner.BannerCategoryID
WHERE (StatisticsCode = @CodeName)
AND (HitsStartTime &gt;= @FromDate)
AND (HitsEndTime &lt;= @ToDate)
AND (StatisticsObjectID = BannerID)
AND (StatisticsSiteID = @CMSContextCurrentSiteID)
GROUP BY BannerID, BannerName, BannerCategoryName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>795</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>404ded1f-0d1c-40df-8ba0-85738477aa02</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.3903321+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>620</TableID>
    <TableName>table</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>--DECLARE @FromDate DATETIME
--SET @FromDate = '1/1/2011 12:00:00 AM'
--DECLARE @ToDate DATETIME
--SET @ToDate = '1/1/2012 12:00:00 AM'
--DECLARE @CodeName NVARCHAR(60)
--SET @CodeName = 'bannerclick'

--DECLARE @CMSContextCurrentSiteID INT
--SET @CMSContextCurrentSiteID = 1



SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

SELECT BannerID AS '{$banner.reports.bannerid$}', BannerName AS '{$banner.reports.bannername$}', BannerCategoryName AS '{$banner.reports.bannercategoryname$}', SUM(HitsCount) AS '{$banner.reports.numberofhits$}'
FROM Analytics_Statistics
INNER JOIN Analytics_DayHits ON Analytics_DayHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
LEFT JOIN CMS_Banner ON Analytics_Statistics.StatisticsObjectID = CMS_Banner.BannerID
LEFT JOIN CMS_BannerCategory ON CMS_BannerCategory.BannerCategoryID = CMS_Banner.BannerCategoryID
WHERE (StatisticsCode = @CodeName)
AND (HitsStartTime &gt;= @FromDate)
AND (HitsEndTime &lt;= @ToDate)
AND (StatisticsObjectID = BannerID)
AND (StatisticsSiteID = @CMSContextCurrentSiteID)
GROUP BY BannerID, BannerName, BannerCategoryName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>796</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>645d7c4d-fe65-4588-aa69-2c0413d17dab</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.4373368+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>621</TableID>
    <TableName>table</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>--DECLARE @FromDate DATETIME
--SET @FromDate = '1/1/2011 12:00:00 AM'
--DECLARE @ToDate DATETIME
--SET @ToDate = '1/1/2012 12:00:00 AM'
--DECLARE @CodeName NVARCHAR(60)
--SET @CodeName = 'bannerclick'

--DECLARE @CMSContextCurrentSiteID INT
--SET @CMSContextCurrentSiteID = 1



SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'hour');

SELECT BannerID AS '{$banner.reports.bannerid$}', BannerName AS '{$banner.reports.bannername$}', BannerCategoryName AS '{$banner.reports.bannercategoryname$}', SUM(HitsCount) AS '{$banner.reports.numberofhits$}'
FROM Analytics_Statistics
INNER JOIN Analytics_HourHits ON Analytics_HourHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
LEFT JOIN CMS_Banner ON Analytics_Statistics.StatisticsObjectID = CMS_Banner.BannerID
LEFT JOIN CMS_BannerCategory ON CMS_BannerCategory.BannerCategoryID = CMS_Banner.BannerCategoryID
WHERE (StatisticsCode = @CodeName)
AND (HitsStartTime &gt;= @FromDate)
AND (HitsEndTime &lt;= @ToDate)
AND (StatisticsObjectID = BannerID)
AND (StatisticsSiteID = @CMSContextCurrentSiteID)
GROUP BY BannerID, BannerName, BannerCategoryName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>797</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>23acad3e-63f3-46e8-a15b-f842e3017b1e</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.5003431+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>622</TableID>
    <TableName>table</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>--DECLARE @FromDate DATETIME
--SET @FromDate = '1/1/2011 12:00:00 AM'
--DECLARE @ToDate DATETIME
--SET @ToDate = '1/1/2012 12:00:00 AM'
--DECLARE @CodeName NVARCHAR(60)
--SET @CodeName = 'bannerclick'

--DECLARE @CMSContextCurrentSiteID INT
--SET @CMSContextCurrentSiteID = 1



SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'month');

SELECT BannerID AS '{$banner.reports.bannerid$}', BannerName AS '{$banner.reports.bannername$}', BannerCategoryName AS '{$banner.reports.bannercategoryname$}', SUM(HitsCount) AS '{$banner.reports.numberofhits$}'
FROM Analytics_Statistics
INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
LEFT JOIN CMS_Banner ON Analytics_Statistics.StatisticsObjectID = CMS_Banner.BannerID
LEFT JOIN CMS_BannerCategory ON CMS_BannerCategory.BannerCategoryID = CMS_Banner.BannerCategoryID
WHERE (StatisticsCode = @CodeName)
AND (HitsStartTime &gt;= @FromDate)
AND (HitsEndTime &lt;= @ToDate)
AND (StatisticsObjectID = BannerID)
AND (StatisticsSiteID = @CMSContextCurrentSiteID)
GROUP BY BannerID, BannerName, BannerCategoryName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>798</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>e9b722c3-5a6e-41fd-92b4-413ee84620a4</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.589352+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>623</TableID>
    <TableName>table</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>--DECLARE @FromDate DATETIME
--SET @FromDate = '1/1/2011 12:00:00 AM'
--DECLARE @ToDate DATETIME
--SET @ToDate = '1/1/2012 12:00:00 AM'
--DECLARE @CodeName NVARCHAR(60)
--SET @CodeName = 'bannerclick'

--DECLARE @CMSContextCurrentSiteID INT
--SET @CMSContextCurrentSiteID = 1



SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'week');

SELECT BannerID AS '{$banner.reports.bannerid$}', BannerName AS '{$banner.reports.bannername$}', BannerCategoryName AS '{$banner.reports.bannercategoryname$}', SUM(HitsCount) AS '{$banner.reports.numberofhits$}'
FROM Analytics_Statistics
INNER JOIN Analytics_WeekHits ON Analytics_WeekHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
LEFT JOIN CMS_Banner ON Analytics_Statistics.StatisticsObjectID = CMS_Banner.BannerID
LEFT JOIN CMS_BannerCategory ON CMS_BannerCategory.BannerCategoryID = CMS_Banner.BannerCategoryID
WHERE (StatisticsCode = @CodeName)
AND (HitsStartTime &gt;= @FromDate)
AND (HitsEndTime &lt;= @ToDate)
AND (StatisticsObjectID = BannerID)
AND (StatisticsSiteID = @CMSContextCurrentSiteID)
GROUP BY BannerID, BannerName, BannerCategoryName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>799</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ba43cce3-a82a-4828-815d-a0a6d474a62e</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.6543585+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>624</TableID>
    <TableName>table</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>--DECLARE @FromDate DATETIME
--SET @FromDate = '1/1/2011 12:00:00 AM'
--DECLARE @ToDate DATETIME
--SET @ToDate = '1/1/2012 12:00:00 AM'
--DECLARE @CodeName NVARCHAR(60)
--SET @CodeName = 'bannerclick'

--DECLARE @CMSContextCurrentSiteID INT
--SET @CMSContextCurrentSiteID = 1



SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');
SET @ToDate = {%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'year');

SELECT BannerID AS '{$banner.reports.bannerid$}', BannerName AS '{$banner.reports.bannername$}', BannerCategoryName AS '{$banner.reports.bannercategoryname$}', SUM(HitsCount) AS '{$banner.reports.numberofhits$}'
FROM Analytics_Statistics
INNER JOIN Analytics_YearHits ON Analytics_YearHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
LEFT JOIN CMS_Banner ON Analytics_Statistics.StatisticsObjectID = CMS_Banner.BannerID
LEFT JOIN CMS_BannerCategory ON CMS_BannerCategory.BannerCategoryID = CMS_Banner.BannerCategoryID
WHERE (StatisticsCode = @CodeName)
AND (HitsStartTime &gt;= @FromDate)
AND (HitsEndTime &lt;= @ToDate)
AND (StatisticsObjectID = BannerID)
AND (StatisticsSiteID = @CMSContextCurrentSiteID)
GROUP BY BannerID, BannerName, BannerCategoryName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>800</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;False&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ebc40377-a079-4ec6-b28a-650bcc015312</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.7283659+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>625</TableID>
    <TableName>table</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>DECLARE @FromDateTrimmed DATETIME;
DECLARE @ToDateTrimmed DATETIME;
DECLARE @ToDateCompare AS DATETIME;

SET @FromDateTrimmed = DATEADD(m, DATEDIFF(m, 0, CAST(@FromDate AS DATETIME)), 0);
SET @ToDateTrimmed = DATEADD(m, DATEDIFF(m, 0, CAST(@ToDate AS DATETIME)), 0);
SET @ToDateTrimmed = DATEADD(s, -31, @ToDateTrimmed);
SET @ToDateCompare = CAST(@ToDate AS DATETIME);

WITH daysseq AS
(
   SELECT @FromDateTrimmed AS DateValue
   UNION ALL
   SELECT DATEADD(m, 1, DateValue)
   FROM    daysseq   
   WHERE   DateValue &lt; @ToDateTrimmed
)
SELECT CONVERT(CHAR(3), daysseq.DateValue, 101) + CONVERT(CHAR(4), daysseq.DateValue, 120), T3.clicks, T3.hits
FROM daysseq
LEFT JOIN
(
	SELECT T1.HitsStartTime, T2.hits, T1.clicks
	FROM
		(SELECT HitsStartTime, HitsCount AS clicks
		FROM Analytics_Statistics
		INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		WHERE (Analytics_Statistics.StatisticsObjectID = @BannerID) 
			AND (@FromDateTrimmed IS NULL OR HitsStartTime &gt;= @FromDateTrimmed)
			AND (@ToDateCompare IS NULL OR HitsStartTime &lt;= @ToDateCompare)
			AND (StatisticsCode = 'bannerclick')
		) AS T1
	INNER JOIN 
		(SELECT HitsStartTime, HitsCount AS hits
		FROM Analytics_Statistics
		INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		WHERE (Analytics_Statistics.StatisticsObjectID = @BannerID) 
			AND (@FromDateTrimmed IS NULL OR HitsStartTime &gt;= @FromDateTrimmed) 
			AND (@ToDateCompare IS NULL OR HitsStartTime &lt;= @ToDateCompare) 
			AND (StatisticsCode = 'bannerhit')
		) AS T2  
	ON T1.HitsStartTime = T2.HitsStartTime
 ) AS T3
ON daysseq.DateValue = HitsStartTime
OPTION (MAXRECURSION 0)</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>802</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>60c48c5a-e705-42c8-a53e-e4474020d599</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.7843715+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>626</TableID>
    <TableName>hitsandclicks</TableName>
    <TableDisplayName>Hits and clicks</TableDisplayName>
    <TableQuery>IF @BannerCategoryID IS NULL
BEGIN
  SELECT '{$bannermanagement.reportnotavailable.description$}' AS '{$bannermanagement.reportnotavailable.caption$}'
END
ELSE
BEGIN

SELECT BannerDisplayName AS '{$banner.reports.bannername$}',
	HitsCount AS '{$banner.reports.numberofhits$}',
	ClicksCount AS '{$banner.reports.numberofclicks$}',
	CASE HitsCount
		WHEN 0 THEN
			'N/A'
		ELSE
			CAST(CAST(ROUND(100.0 * ClicksCount / HitsCount, 2) AS NUMERIC(10,2)) AS VARCHAR) + '%'
	END
		AS '{$banner.reports.clickshitsratio$}'
FROM
	(SELECT BannerDisplayName,
		(SELECT ISNULL(SUM(AHHHits.HitsCount), 0) AS HitsCountInner
		FROM Analytics_Statistics AS AStats
		LEFT JOIN Analytics_HourHits AS AHHHits ON AStats.StatisticsID = AHHHits.HitsStatisticsID
		WHERE AStats.StatisticsCode = 'bannerhit'
			AND StatisticsObjectID = BannerID
			AND (@FromDate IS NULL OR AHHHits.HitsEndTime &gt;= @FromDate)
			AND (@ToDate IS NULL OR AHHHits.HitsStartTime &lt;= @ToDate)
		) AS HitsCount,
		(SELECT ISNULL(SUM(AHHClicks.HitsCount), 0) AS ClicksCountInner
		FROM Analytics_Statistics AS AStats
		LEFT JOIN Analytics_HourHits AS AHHClicks ON AStats.StatisticsID = AHHClicks.HitsStatisticsID
		WHERE AStats.StatisticsCode = 'bannerclick'
			AND StatisticsObjectID = BannerID
			AND (@FromDate IS NULL OR AHHClicks.HitsEndTime &gt;= @FromDate)
			AND (@ToDate IS NULL OR AHHClicks.HitsStartTime &lt;= @ToDate)
		) AS ClicksCount
	FROM CMS_Banner
	WHERE BannerCategoryID = @BannerCategoryID) AS THitsClicks
ORDER BY BannerDisplayName

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>803</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>c327f4e4-cf95-4acb-bcc3-5713bd4e08f4</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.8673798+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>633</TableID>
    <TableName>table2</TableName>
    <TableDisplayName>table2</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

DECLARE @MobileVisits INT;
DECLARE @Visits INT;

SET @MobileVisits = ISNULL((SELECT SUM(HitsCount)
  FROM Analytics_Statistics INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode= @CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)),0);

SET @Visits = ISNULL((SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_DayHits ON Analytics_Statistics.StatisticsID = Analytics_DayHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode LIKE 'visit%')
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)),0);

IF (@Visits != 0)
BEGIN
SELECT
 '{$general.no$}' AS '{$reports_mobiledevice.ismobilevisit$}',
 @Visits - @MobileVisits AS '{$reports_mobiledevice.count_header$}',
 CAST(CAST(100*CAST(@Visits-@MobileVisits AS float)/NULLIF(@Visits, 0) AS decimal(15,2)) AS VARCHAR) + '%' AS '{$reports_flash.percent_header$}'
UNION ALL
SELECT
 '{$general.yes$}' AS '{$reports_mobiledevice.ismobilevisit$}', 
 @MobileVisits AS '{$reports_mobiledevice.count_header$}', 
 CAST(CAST(100*CAST(@MobileVisits AS float)/NULLIF(@Visits, 0) AS decimal(15,2)) AS VARCHAR) + '%' AS '{$reports_flash.percent_header$}'
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>776</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1a75e7ce-f122-4d49-805a-8a78654cddb0</TableGUID>
    <TableLastModified>2013-11-22T08:45:45.9583889+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>639</TableID>
    <TableName>table2</TableName>
    <TableDisplayName>table2</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

DECLARE @MobileVisits INT;
DECLARE @Visits INT;

SET @MobileVisits = ISNULL((SELECT SUM(HitsCount)
  FROM Analytics_Statistics INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode= @CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)),0);

SET @Visits = ISNULL((SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_HourHits ON Analytics_Statistics.StatisticsID = Analytics_HourHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode LIKE 'visit%')
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)),0);

IF (@Visits != 0)
BEGIN
SELECT
 '{$general.no$}' AS '{$reports_mobiledevice.ismobilevisit$}',
 @Visits - @MobileVisits AS '{$reports_mobiledevice.count_header$}',
 CAST(CAST(100*CAST(@Visits-@MobileVisits AS float)/NULLIF(@Visits, 0) AS decimal(15,2)) AS VARCHAR) + '%' AS '{$reports_flash.percent_header$}'
UNION ALL
SELECT
 '{$general.yes$}' AS '{$reports_mobiledevice.ismobilevisit$}', 
 @MobileVisits AS '{$reports_mobiledevice.count_header$}', 
 CAST(CAST(100*CAST(@MobileVisits AS float)/NULLIF(@Visits, 0) AS decimal(15,2)) AS VARCHAR) + '%' AS '{$reports_flash.percent_header$}'
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>777</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>e41c3e18-024d-48a0-bd3f-df04fbe34b0d</TableGUID>
    <TableLastModified>2013-11-22T08:45:46.2804211+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>640</TableID>
    <TableName>table2</TableName>
    <TableDisplayName>table2</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

DECLARE @MobileVisits INT;
DECLARE @Visits INT;

SET @MobileVisits = ISNULL((SELECT SUM(HitsCount)
  FROM Analytics_Statistics INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode= @CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)),0);

SET @Visits = ISNULL((SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_MonthHits ON Analytics_Statistics.StatisticsID = Analytics_MonthHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode LIKE 'visit%')
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)),0);

IF (@Visits != 0)
BEGIN
SELECT
 '{$general.no$}' AS '{$reports_mobiledevice.ismobilevisit$}',
 @Visits - @MobileVisits AS '{$reports_mobiledevice.count_header$}',
 CAST(CAST(100*CAST(@Visits-@MobileVisits AS float)/NULLIF(@Visits, 0) AS decimal(15,2)) AS VARCHAR) + '%' AS '{$reports_flash.percent_header$}'
UNION ALL
SELECT
 '{$general.yes$}' AS '{$reports_mobiledevice.ismobilevisit$}', 
 @MobileVisits AS '{$reports_mobiledevice.count_header$}', 
 CAST(CAST(100*CAST(@MobileVisits AS float)/NULLIF(@Visits, 0) AS decimal(15,2)) AS VARCHAR) + '%' AS '{$reports_flash.percent_header$}'
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>780</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>88a61fc1-aecd-4c91-9a03-d3f9e6f06767</TableGUID>
    <TableLastModified>2013-11-22T08:45:46.3774308+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>641</TableID>
    <TableName>table2</TableName>
    <TableDisplayName>table2</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

DECLARE @MobileVisits INT;
DECLARE @Visits INT;

SET @MobileVisits = ISNULL((SELECT SUM(HitsCount)
  FROM Analytics_Statistics INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode= @CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)),0);

SET @Visits = ISNULL((SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_WeekHits ON Analytics_Statistics.StatisticsID = Analytics_WeekHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode LIKE 'visit%')
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)),0);

IF (@Visits != 0)
BEGIN
SELECT
 '{$general.no$}' AS '{$reports_mobiledevice.ismobilevisit$}',
 @Visits - @MobileVisits AS '{$reports_mobiledevice.count_header$}',
 CAST(CAST(100*CAST(@Visits-@MobileVisits AS float)/NULLIF(@Visits, 0) AS decimal(15,2)) AS VARCHAR) + '%' AS '{$reports_flash.percent_header$}'
UNION ALL
SELECT
 '{$general.yes$}' AS '{$reports_mobiledevice.ismobilevisit$}', 
 @MobileVisits AS '{$reports_mobiledevice.count_header$}', 
 CAST(CAST(100*CAST(@MobileVisits AS float)/NULLIF(@Visits, 0) AS decimal(15,2)) AS VARCHAR) + '%' AS '{$reports_flash.percent_header$}'
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>778</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>3352ad4c-2d32-48f9-9a15-a72c3d0928f9</TableGUID>
    <TableLastModified>2013-11-22T08:45:46.4614392+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>642</TableID>
    <TableName>table2</TableName>
    <TableDisplayName>table2</TableDisplayName>
    <TableQuery>SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');
SET @ToDate ={%DatabaseSchema%}.Func_Analytics_EndDateTrim(@ToDate,'day');

DECLARE @MobileVisits INT;
DECLARE @Visits INT;

SET @MobileVisits = ISNULL((SELECT SUM(HitsCount)
  FROM Analytics_Statistics INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode= @CodeName)
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)),0);

SET @Visits = ISNULL((SELECT SUM(HitsCount)
  FROM Analytics_Statistics
  INNER JOIN Analytics_YearHits ON Analytics_Statistics.StatisticsID = Analytics_YearHits.HitsStatisticsID
  WHERE (StatisticsSiteID=@CMSContextCurrentSiteID)
  AND (StatisticsCode LIKE 'visit%')
  AND (HitsStartTime &gt;= @FromDate)
  AND (HitsEndTime &lt;= @ToDate)),0);

IF (@Visits != 0)
BEGIN
SELECT
 '{$general.no$}' AS '{$reports_mobiledevice.ismobilevisit$}',
 @Visits - @MobileVisits AS '{$reports_mobiledevice.count_header$}',
 CAST(CAST(100*CAST(@Visits-@MobileVisits AS float)/NULLIF(@Visits,0) AS decimal(15,2)) AS VARCHAR) + '%' AS '{$reports_flash.percent_header$}'
UNION ALL
SELECT
 '{$general.yes$}' AS '{$reports_mobiledevice.ismobilevisit$}', 
 @MobileVisits AS '{$reports_mobiledevice.count_header$}', 
 CAST(CAST(100*CAST(@MobileVisits AS float)/NULLIF(@Visits, 0) AS decimal(15,2)) AS VARCHAR) + '%' AS '{$reports_flash.percent_header$}'
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>779</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9becc584-b9ac-4ce6-b480-825c0805e66b</TableGUID>
    <TableLastModified>2013-11-22T08:45:46.5414472+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>643</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* The table stores the prices of donations in the main currency. */ 
DECLARE @medianTable TABLE(
   SumOfOrderItemTotalPrice float)
   
/* Variables used to calculate median value */
DECLARE @BottomHalf float; 
DECLARE @TopHalf float; 
DECLARE @median float;
  
INSERT INTO @medianTable(
   SumOfOrderItemTotalPrice)
   SELECT 
      ISNULL(OrderItemTotalPriceInMainCurrency,0) AS Sums 
   FROM 
     COM_OrderItem 
     LEFT JOIN COM_Order 
        ON OrderID = OrderItemOrderID
     LEFT JOIN COM_SKU AS SKUs
        ON SKUID = OrderItemSKUID
   WHERE 
      OrderSiteID = @CMSContextCurrentSiteID 
      AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid, 0) = 1)
      AND SKUProductType = 'DONATION'
      AND (Orderdate &gt;= @FromDate OR @FromDate IS NULL)
      AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
      
/* @BottomHalf and @TopHalf are middle numbers in value order, or in case of
   odd number of rows they are the same middle number. */                
SET @BottomHalf = (SELECT MAX(SumOfOrderItemTotalPrice) 
                   FROM (SELECT TOP 50 PERCENT SumOfOrderItemTotalPrice 
                         FROM @medianTable 
                         ORDER BY SumOfOrderItemTotalPrice) AS BottomHalf)
SET @TopHalf = (SELECT MIN(SumOfOrderItemTotalPrice) 
                FROM (SELECT TOP 50 PERCENT SumOfOrderItemTotalPrice 
                      FROM @medianTable 
                      ORDER BY SumOfOrderItemTotalPrice DESC) AS TopHalf)
SET @median = (@BottomHalf + @TopHalf)/2;

/* Selects average value of donations and median value of donations. */
SELECT 
   '{$com.resource.averagedonationamount$}' AS '{$rep.webparrts.parametername$}',
   CAST(ISNULL(AVG(SumOfOrderItemTotalPrice),0) AS DECIMAL(38,1)) AS '{$com.report.averagevalue$}',
   CAST(ISNULL(@median,0) AS DECIMAL(38,1)) AS '{$com.report.medianvalue$}'
FROM 
   @medianTable</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>820</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>21165ea0-95b5-499b-8c63-38a1249f18cb</TableGUID>
    <TableLastModified>2013-11-22T08:45:46.609454+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>644</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Variables used to calculate median value */
DECLARE @BottomHalf float
DECLARE @TopHalf float
DECLARE @median float

/* Table containing the numbers of items in orders. */
DECLARE @medianCountTable TABLE(
   SumOfOrderItemCount float
)

INSERT INTO @medianCountTable(
SumOfOrderItemCount)
   SELECT ISNULL(ROUND(ord.Average_,1),0) AS AVGs 
   FROM 
      COM_Order Orders 
      INNER JOIN (SELECT 
                     OrdeItem.OrderItemOrderID AS OrderItemOrderID,
                     Sum(OrderItemUnitCount) AS Average_ 
                  FROM COM_OrderItem OrdeItem 
                  GROUP BY OrderItemOrderId) ord 
      ON Orders.OrderID = ord.OrderItemOrderID 
   WHERE 
      Orders.OrderSiteID = @CMSContextCurrentSiteID 
      AND (Orders.Orderdate &gt;= @FromDate OR @FromDate IS NULL)
      AND (Orders.OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
      AND (ISNULL(@IsPaid,0) = 0 OR ISNULL(Orders.OrderIsPaid, 0) = 1)

SET @BottomHalf = (SELECT MAX(SumOfOrderItemCount) 
                   FROM (SELECT TOP 50 PERCENT SumOfOrderItemCount 
                         FROM @medianCountTable 
                         ORDER BY SumOfOrderItemCount) AS BottomHalf)
SET @TopHalf = (SELECT MIN(SumOfOrderItemCount) 
                FROM (SELECT TOP 50 PERCENT SumOfOrderItemCount 
                      FROM @medianCountTable 
                      ORDER BY SumOfOrderItemCount DESC) AS TopHalf)
SET @median = (@BottomHalf + @TopHalf)/2;   
        
/* Selects the average number of items per order and median value of the numbers of items per order */	
SELECT '{$com.resource.OrderItemCount$}' AS '{$rep.webparrts.parametername$}',
	CAST(ISNULL(AVG(SumOfOrderItemCount),0) AS DECIMAL(38,1)) AS '{$com.report.averagevalue$}',
	CAST(ISNULL(@median,0) AS DECIMAL(38,1)) AS '{$com.report.medianvalue$}'
FROM @medianCountTable</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>821</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>3e93c19f-6811-4d78-b30c-24249d441e4b</TableGUID>
    <TableLastModified>2013-11-22T08:45:46.6934624+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>645</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Variables used to calculate the median value. */
DECLARE @BottomHalf float
DECLARE @TopHalf float
DECLARE @median float

/* Table with the number of orders per customer. */
DECLARE @medianOrderTable TABLE(
   CustomerID int,
   SumOfOrder float)
   
INSERT INTO @medianOrderTable(
   CustomerID, 
   SumOfOrder)
      SELECT
         CustomerID AS ID,
         COUNT(OrderID) AS TotalCount
      FROM
         COM_Order
         LEFT JOIN COM_Customer
            ON OrderCustomerID = CustomerID
      WHERE 
         OrderSiteID = @CMSContextCurrentSiteID
         AND (OrderIsPaid = 1 OR ISNULL(@OnlyPaid,0) = 0)
         AND (@FromDate IS NULL OR OrderDate &gt;= @FromDate)
         AND (@ToDate IS NULL OR OrderDate &lt;= DATEADD(day,1,@ToDate))
      GROUP BY CustomerID

SET @BottomHalf = (SELECT MAX(SumOfOrder) FROM (SELECT TOP 50 PERCENT SumOfOrder FROM @medianOrderTable ORDER BY SumOfOrder) AS BottomHalf)
SET @TopHalf = (SELECT MIN(SumOfOrder) FROM (SELECT TOP 50 PERCENT SumOfOrder FROM @medianOrderTable ORDER BY SumOfOrder DESC) AS TopHalf)
SET @median = (@BottomHalf + @TopHalf)/2

SELECT 
   '{$com.report.averagecustomernumberoforders$}' AS '{$rep.webparrts.parametername$}',
   CAST(ISNULL(AVG(SumOfOrder),0) AS DECIMAL(38,1)) AS '{$com.report.averagevalue$}',
   CAST(ISNULL(@median,0) AS decimal(38,1)) AS '{$com.report.medianvalue$}'
FROM
   @medianOrderTable</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>822</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ac51249a-d988-4069-85da-1471e5ad64bc</TableGUID>
    <TableLastModified>2013-11-22T08:45:46.7664697+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>646</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Variables used to calculate median value. */
DECLARE @BottomHalf float
DECLARE @TopHalf float
DECLARE @median float

/* Table of sales per customer. */
DECLARE @medianCustomerTable TABLE(
   CustomerID int,
   SumOfOrderTotalPrice float)
   
INSERT INTO @medianCustomerTable(
   CustomerID, 
   SumOfOrderTotalPrice)
      SELECT 
         CustomerID AS ID,
         SUM(OrderTotalPriceInMainCurrency) AS TotalSum
      FROM
         COM_Order
         LEFT JOIN COM_Customer 
            ON OrderCustomerID = CustomerID
      WHERE 
         OrderSiteID = @CMSContextCurrentSiteID
         AND (CustomerEnabled = 1 OR CustomerID IN (SELECT OrderCustomerID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
         AND (ISNULL(OrderIsPaid,0) = 1 OR ISNULL(@OnlyPaid,0) = 0)
         AND (Orderdate &gt;= @FromDate OR @FromDate IS NULL)
         AND (OrderDate &lt;= DATEADD(day,1,@ToDate)  OR @ToDate IS NULL)
      GROUP BY CustomerID
      
SET @BottomHalf = (SELECT MAX(SumOfOrderTotalPrice) 
                   FROM (SELECT TOP 50 PERCENT SumOfOrderTotalPrice 
                         FROM @medianCustomerTable 
                         ORDER BY SumOfOrderTotalPrice) AS BottomHalf)
SET @TopHalf = (SELECT MIN(SumOfOrderTotalPrice) 
                FROM (SELECT TOP 50 PERCENT SumOfOrderTotalPrice 
                      FROM @medianCustomerTable 
                      ORDER BY SumOfOrderTotalPrice DESC) AS TopHalf)
SET @median = (@BottomHalf + @TopHalf)/2    
	
SELECT
   '{$com.report.averagecustomervolumeofsales$}' AS '{$rep.webparrts.parametername$}',
   CAST(ISNULL(AVG(SumOfOrderTotalPrice),0) AS DECIMAL(38,1)) AS '{$com.report.averagevalue$}',
   CAST(ISNULL(@median,0) AS DECIMAL(38,1)) AS '{$com.report.medianvalue$}'
FROM
   @medianCustomerTable</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>823</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>58bcae7a-95d4-4865-a936-66ec914b33b1</TableGUID>
    <TableLastModified>2013-11-22T08:45:46.849478+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>647</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Variables used to calculate median value. */
DECLARE @BottomHalf float
DECLARE @TopHalf float
DECLARE @median float

/* Table with the sales per order. */
DECLARE @medianPriceTable TABLE(
   SumOfOrderTotalPrice float
)

INSERT INTO @medianPriceTable(
   SumOfOrderTotalPrice)
      SELECT ISNULL(ROUND(OrderTotalPriceInMainCurrency,1),0) AS AVGs
      FROM Com_Order 
      WHERE 
         OrderSiteID = @CMSContextCurrentSiteID 
         AND (Orderdate &gt;= @FromDate OR @FromDate IS NULL)
         AND (OrderDate &lt;= DATEADD(day,1,@ToDate)  OR @ToDate IS NULL)
         AND (ISNULL(@IsPaid,0) = 0 OR ISNULL(OrderIsPaid, 0) = 1)
         
SET @BottomHalf = (SELECT MAX(SumOfOrderTotalPrice) 
                   FROM (SELECT TOP 50 PERCENT SumOfOrderTotalPrice 
                         FROM @medianPriceTable 
                         ORDER BY SumOfOrderTotalPrice) AS BottomHalf)
SET @TopHalf = (SELECT MIN(SumOfOrderTotalPrice) 
                FROM (SELECT TOP 50 PERCENT SumOfOrderTotalPrice 
                      FROM @medianPriceTable 
                      ORDER BY SumOfOrderTotalPrice DESC) AS TopHalf)
SET @median = (@BottomHalf + @TopHalf)/2

SELECT 
   '{$com.resource.OrderTotalPrice$}' AS '{$rep.webparrts.parametername$}',
   CAST(ISNULL(AVG(SumOfOrderTotalPrice),0) AS DECIMAL(38,1)) AS 'Average value',
   CAST(ISNULL(@median,0) AS DECIMAL(38,1)) AS 'Median value'
FROM @medianPriceTable</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>824</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>c2a93274-9328-45e9-b4ea-5b21bd227920</TableGUID>
    <TableLastModified>2013-11-22T08:45:46.9074838+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>648</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>-- trims the parameter @FromDate to be able to display weeks in the table
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'week');

/* Selects the sum of donations donated in the given weeks. */
SELECT 
   CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+'/'+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS '{$ecommerce.report_week$}', 
   CAST(ROUND(SUM(ISNULL(OrderItemTotalPriceInMainCurrency,0)),1) AS DECIMAL(38,1)) AS '{$com.report_donationamount$}' 
FROM
   -- returns a column of dates - the first days of weeks
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'week') AS Dates
   LEFT JOIN   
   (SELECT OrderItemTotalPriceInMainCurrency, OrderDate 
    FROM  
      COM_OrderItem    
      LEFT JOIN COM_Order
         ON OrderItemOrderID = OrderID        
      LEFT JOIN COM_SKU
         ON OrderItemSKUID = SKUID                
    WHERE (SKUProductType = 'DONATION')   
       AND (OrderSiteID = @CMSContextCurrentSiteID)) AS OIs  
   ON ([Date] &lt;= OrderDate  AND  DATEADD(WEEK,1,[Date]) &gt; OrderDate) 
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>825</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>987bab65-f483-4e98-afc0-842f23679a73</TableGUID>
    <TableLastModified>2013-11-22T08:45:46.9684899+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>649</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>-- trims the parameter @FromDate to be able to display years in the table
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

/* Selects the sum of donations donated in the given years. */
SELECT 
   DATEPART(YEAR,[Date]) AS '{$ecommerce.report_year$}', 
   CAST(ROUND(SUM(ISNULL(OrderItemTotalPriceInMainCurrency,0)),1) AS DECIMAL(38,1)) AS '{$com.report_donationamount$}' 
FROM
-- returns a column of dates - the first days of years
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'year') AS Dates
   LEFT JOIN   
   (SELECT OrderItemTotalPriceInMainCurrency, OrderDate 
    FROM  
      COM_OrderItem    
      LEFT JOIN COM_Order
         ON OrderItemOrderID = OrderID        
      LEFT JOIN COM_SKU
         ON OrderItemSKUID = SKUID
    WHERE 
       (SKUProductType = 'DONATION')  
       AND (OrderSiteID = @CMSContextCurrentSiteID)) AS OIs  
    ON ([Date] &lt;= OrderDate  AND  DATEADD(YEAR,1,[Date]) &gt; OrderDate) 
GROUP BY [Date] 
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>826</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>17bc5e7d-0807-4d0e-9b6d-6ed7f7310cff</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.0504981+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>650</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>-- trims the parameter @FromDate to be able to display days in the table
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

/* Selects the sum of donations donated in the given day. */
SELECT 
   [Date] AS '{$ecommerce.report_day$}', 
   CAST(ROUND(SUM(ISNULL(OrderItemTotalPriceInMainCurrency,0)),1) AS DECIMAL(38,1)) AS '{$com.report_donationamount$}' 
FROM
   -- returns a column of dates, each day in the new row
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'day') AS Dates
   LEFT JOIN      
   (SELECT OrderItemTotalPriceInMainCurrency, OrderDate 
    FROM  
      COM_OrderItem    
      LEFT JOIN COM_Order
         ON OrderItemOrderID = OrderID       
      LEFT JOIN COM_SKU
         ON OrderItemSKUID = SKUID
    WHERE (SKUProductType = 'DONATION')  
      AND (OrderSiteID = @CMSContextCurrentSiteID)) AS OIs  
   ON ([Date] &lt;= OrderDate  AND  DATEADD(DAY,1,[Date]) &gt; OrderDate) 
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>827</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2223fa21-d5cc-4de9-81ba-b101a98965f6</TableGUID>
    <TableLastModified>2014-06-09T14:50:06.4933945+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>651</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>-- trims the parameter @FromDate to be able to display hours in the table
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'hour');
/* Selects the sum of donations donated in the given hour. */
SELECT 
   [Date] AS '{$ecommerce.report_hour$}', 
   CAST(ROUND(SUM(ISNULL(OrderItemTotalPriceInMainCurrency,0)),1) AS DECIMAL(38,1)) AS '{$com.report_donationamount$}' 
FROM
   -- returns a column of dates - each hour in the new row
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'hour') AS Dates
   LEFT JOIN   
   (SELECT OrderItemTotalPriceInMainCurrency, OrderDate 
    FROM  
      COM_OrderItem    
      LEFT JOIN COM_Order
         ON OrderItemOrderID = OrderID        
      LEFT JOIN COM_SKU
         ON OrderItemSKUID = SKUID
   WHERE (SKUProductType = 'DONATION')  
      AND (OrderSiteID = @CMSContextCurrentSiteID)) AS OIs  
  ON ([Date] &lt;= OrderDate  AND  DATEADD(HOUR,1,[Date]) &gt; OrderDate) 
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>828</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b8ba343a-f6c5-4b96-a4ea-b541f255941f</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.1655096+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>652</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>-- trims the parameter @FromDate to be able to display months in the graph
SET @FromDate ={%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');
/* Selects the sum of donations donated in the given month. */
SELECT 
   DATENAME(MONTH,[Date])+', '+ DATENAME(YEAR, [Date]) AS '{$ecommerce.report_month$}', 
   CAST(ROUND(SUM(ISNULL(OrderItemTotalPriceInMainCurrency,0)),1) AS DECIMAL(38,1)) AS '{$com.report_donationamount$}' 
FROM
   -- returns a column of dates - the first days of months
   {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'month') AS Dates
   LEFT JOIN   
   (SELECT * 
    FROM  
       COM_OrderItem   
       LEFT JOIN COM_Order
          ON OrderItemOrderID = OrderID 
       LEFT JOIN COM_SKU
          ON OrderItemSKUID = SKUID
    WHERE (SKUProductType = 'DONATION')   
      AND (OrderSiteID = @CMSContextCurrentSiteID)) AS OIs  
   ON ([Date] &lt;= OrderDate  AND  DATEADD(MONTH,1,[Date]) &gt; OrderDate) 
GROUP BY [Date]
ORDER BY [Date] DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>829</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b1959db8-3d24-445f-b637-6a0a9cbcc18e</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.2155146+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>653</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Selects the sum of donations from the different countries */
SELECT 
   ISNULL(CountryDisplayName,'-') AS '{$objecttype.cms_country$}',
   CAST(ISNULL(SUM(OrderItemTotalPriceInMainCurrency),0) AS DECIMAL(38,1)) AS '{$com.report_donationamount$}'
FROM 
   COM_OrderItem
   LEFT JOIN COM_Order
      ON OrderItemOrderID = OrderID
   LEFT JOIN COM_OrderAddress
      ON (OrderShippingAddressID = AddressID AND @Address = 2) OR (OrderBillingAddressID = AddressID AND @Address = 1)
   LEFT JOIN CMS_Country
      ON AddressCountryID = CountryID
   LEFT JOIN CMS_State
      ON AddressStateID = StateID
   LEFT JOIN COM_SKU
      ON SKUID = OrderItemSKUID                
WHERE 
   (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1)
   AND OrderSiteID = @CMSContextCurrentSiteID 
   AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
   AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
   AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
        OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))))
   AND SKUProductType = 'DONATION'
GROUP BY CountryDisplayName
ORDER BY 
   SUM(OrderItemTotalPriceInMainCurrency) DESC,
   CountryDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>830</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>6aaceeb9-27e2-469a-b2c4-2e454f2886b5</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.2915222+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>654</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Selects the sum of donations from the different states. */
SELECT 
   ISNULL(CountryDisplayName,'-') AS '{$objecttype.cms_country$}',
   ISNULL(StateDisplayName,'-') AS '{$objecttype.cms_state$}',
   CAST(ISNULL(SUM(OrderItemTotalPriceInMainCurrency),0) AS DECIMAL(38,1)) AS '{$com.report_donationamount$}'
FROM 
   COM_OrderItem
   LEFT JOIN COM_Order
   ON OrderItemOrderID = OrderID
   LEFT JOIN COM_OrderAddress
   ON (OrderShippingAddressID = AddressID AND @Address = 2) OR (OrderBillingAddressID = AddressID AND @Address = 1)
   LEFT JOIN CMS_Country
   ON AddressCountryID = CountryID
   LEFT JOIN CMS_State
   ON AddressStateID = StateID
   LEFT JOIN COM_SKU
   ON SKUID = OrderItemSKUID             
WHERE 
   (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1) 
   AND OrderSiteID = @CMSContextCurrentSiteID 
   AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
   AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
   AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
        OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))))
   AND SKUProductType = 'DONATION'
GROUP BY 
   CountryDisplayName, 
   StateDisplayName
ORDER BY 
   SUM(OrderItemTotalPriceInMainCurrency) DESC,
   StateDisplayName,
   CountryDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>831</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>f4d978c9-6e39-4364-b270-d84e4acfdb13</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.3365267+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>655</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Selects the sum of donations from the different ZIP codes. */
SELECT 
   ISNULL(CountryDisplayName,'-') AS '{$objecttype.cms_country$}',
   ISNULL(StateDisplayName,'-') AS '{$objecttype.cms_state$}',
   ISNULL(AddressZip,'-') AS '{$general.zip$}',
   CAST(ISNULL(SUM(OrderItemTotalPriceInMainCurrency),0) AS DECIMAL(38,1)) AS '{$com.report_donationamount$}'
FROM 
   COM_OrderItem
   LEFT JOIN COM_Order
      ON OrderItemOrderID = OrderID
   LEFT JOIN COM_OrderAddress
      ON (OrderShippingAddressID = AddressID AND @Address = 2) OR (OrderBillingAddressID = AddressID AND @Address = 1)
   LEFT JOIN CMS_Country
      ON AddressCountryID = CountryID
   LEFT JOIN CMS_State
      ON AddressStateID = StateID
   LEFT JOIN COM_SKU
      ON SKUID = OrderItemSKUID        
WHERE 
   (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1) 
   AND OrderSiteID = @CMSContextCurrentSiteID 
   AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
   AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
   AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
        OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))))
   AND SKUProductType = 'DONATION'
GROUP BY 
   CountryDisplayName, 
   StateDisplayName, 
   AddressZip
ORDER BY 
   SUM(OrderItemTotalPriceInMainCurrency) DESC,
   AddressZip,
   StateDisplayName,
   CountryDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>832</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>8eeed1fe-3d50-4b03-b220-f8adcde4b38e</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.3725303+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>657</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Selects the number of orders from different countries. */
SELECT 
   ISNULL(CountryDisplayName,'-') AS '{$customerlist.country$}',
   COUNT(OrderID) AS '{$ecommerce.report_numberoforders$}'
FROM 
   COM_Order
   LEFT JOIN COM_OrderAddress
      ON (OrderShippingAddressID = AddressID AND @Address = 2) 
      OR (OrderBillingAddressID = AddressID AND @Address = 1)
   LEFT JOIN CMS_Country
      ON AddressCountryID = CountryID	
WHERE 
   (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1) 
   AND OrderSiteID = @CMSContextCurrentSiteID 
   AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
   AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
   AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
        OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))))
GROUP BY CountryDisplayName
ORDER BY 
   COUNT(OrderID) DESC,
   CountryDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>834</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ee486b28-062f-4bd1-b6eb-0648d75a48d8</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.4315362+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>658</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @globalCurrency bit;
SET @globalCurrency = {%Settings.CMSStoreUseGlobalCurrencies?1:0|(user)administrator|(hash)83dbb8e60783d086f5de19c3bd05430f702107840c2f7b8232675c2923227d18%};


/* Selects the number of orders in the given currencies. */
SELECT 
   CurrencyCode AS '{$unigrid.currency.columns.currencycode$}',
   CurrencyDisplayName AS '{$unigrid.currency.columns.currencydisplayname$}',
   COUNT(OrderID) AS '{$ecommerce.report_numberoforders$}'
FROM 
   COM_Currency
   LEFT JOIN COM_Order
      ON CurrencyID = OrderCurrencyID 
      AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
      AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL) 
      AND OrderSiteID = @CMSContextCurrentSiteID 
      AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid, 0) = 1)
WHERE 
   (CurrencyEnabled = 1 OR CurrencyID IN (SELECT OrderCurrencyID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
   AND CurrencyID IS NOT NULL
   AND ((@globalCurrency = 1 AND CurrencySiteID IS NULL)OR(@globalCurrency = 0 AND CurrencySiteID = @CMSContextCurrentSiteID))   
GROUP BY 
   CurrencyCode, 
   CurrencyDisplayName
ORDER BY 
   COUNT(OrderID) DESC,
   CurrencyCode, 
   CurrencyDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>835</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>896266e2-9736-4c0e-855f-8ad4ba7343ad</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.7662012+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>659</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Selects the number of anonymous customers. */
(SELECT  
    '{$com.orderscreatedbyreport.anonymouscustomers$}' AS '{$com.report.customertype$}',
    COUNT(OrderID)  AS '{$ecommerce.report_numberoforders$}'    
 FROM COM_Order 
 WHERE 
    (OrderCreatedByUserID = 0 OR OrderCreatedByUserID IS NULL)
    AND (@DateFrom IS NULL OR (OrderDate &gt;= @DateFrom)) 
    AND (@DateTo IS NULL OR (OrderDate &lt;= DATEADD(day,1,@DateTo)))
    AND (ISNULL(OrderIsPaid, 0) = 1 OR ISNULL(@IsPaid,0) = 0)
    AND OrderSiteID = @CMSContextCurrentSiteID)
    
UNION
/* Selects the number of registered customers. */
(SELECT  
    '{$com.orderscreatedbyreport.registeredcustomers$}'AS '{$com.report.customertype$}',
    COUNT(OrderID) AS '{$ecommerce.report_numberoforders$}'    
 FROM COM_Order
 WHERE 
    (OrderCreatedByUserID &gt; 0)
    AND (@DateFrom IS NULL OR (OrderDate &gt;= @DateFrom))
    AND (@DateTo IS NULL OR (OrderDate &lt;= DATEADD(day,1,@DateTo)))
    AND (ISNULL(OrderIsPaid, 0) = 1 OR ISNULL(@IsPaid,0) = 0)
    AND OrderSiteID = @CMSContextCurrentSiteID)
ORDER BY COUNT(OrderID) DESC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>836</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ed96b37f-8d66-42e6-ad82-f6f2996b6ff8</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.549548+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>660</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Variable determines whether global payment methods should be displayed */
DECLARE @GlobalOptions bit;
SET @GlobalOptions = {%Settings.CMSStoreAllowGlobalPaymentMethods?1:0|(user)administrator|(hash)d15a987e9a2268f2f3e58d0a4b446bbd90a9a895fe94d3ccd5d7120c5e47a9e3%}; 

SELECT
   PaymentOptionDisplayName  AS '{$paymentoption_edit.itemlistlink$}',
   ISNULL(COUNT(OrderID),0) AS '{$ecommerce.report_numberoforders$}' 
FROM
   COM_PaymentOption AS Options 
   LEFT JOIN COM_Order AS Orders 
   ON OrderPaymentOptionID = PaymentOptionID 
   AND OrderSiteID = @CMSContextCurrentSiteID 
   AND (@FromDate IS NULL OR (OrderDate &gt;= @FromDate)) 
   AND (@ToDate IS NULL OR (OrderDate &lt;= DATEADD(day,1,@ToDate))) 
   AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1) 
WHERE 
   (PaymentOptionSiteID = @CMSContextCurrentSiteID OR (@GlobalOptions = 1 AND PaymentOptionSiteID IS NULL)) 
   AND (PaymentOptionEnabled = 1 OR PaymentOptionID IN (SELECT OrderPaymentOptionID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
GROUP BY PaymentOptionDisplayName
ORDER BY 
   COUNT(OrderID) DESC,
   PaymentOptionDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>837</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b1bf7924-0d88-4248-9abf-a61005d07895</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.8062013+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>661</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SELECT
   ShippingOptionDisplayName  AS '{$objecttype.com_shippingoption$}',
   ISNULL(COUNT(OrderID),0) AS '{$ecommerce.report_numberoforders$}'
FROM
   COM_ShippingOption 
   LEFT JOIN COM_Order 
      ON OrderShippingOptionID = ShippingOptionID AND OrderSiteID = @CMSContextCurrentSiteID 
      AND (@FromDate IS NULL OR (OrderDate &gt;= @FromDate)) 
      AND (@ToDate IS NULL OR (OrderDate &lt;= DATEADD(day,1,@ToDate)))   
      AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1)
WHERE 
   (ShippingOptionSiteID = @CMSContextCurrentSiteID) 
   AND (ShippingOptionEnabled = 1 OR ShippingOptionID IN (SELECT OrderShippingOptionID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
GROUP BY ShippingOptionDisplayName
ORDER BY 
   COUNT(OrderID) DESC,
   ShippingOptionDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>838</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>dbe760e1-787a-48f7-8adc-82a3e89221b2</TableGUID>
    <TableLastModified>2014-09-12T09:14:18.2205029+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>662</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SELECT 
   ISNULL(CountryDisplayName,'-') AS '{$customerlist.country$}',
   ISNULL(StateDisplayName,'-') AS '{$customerlist.state$}',
   COUNT(OrderID) AS '{$ecommerce.report_numberoforders$}'
FROM 
   COM_Order
   LEFT JOIN COM_OrderAddress
      ON (OrderShippingAddressID = AddressID AND @Address = 2) 
        OR (OrderBillingAddressID = AddressID AND @Address = 1)
   LEFT JOIN CMS_Country
      ON AddressCountryID = CountryID
   LEFT JOIN CMS_State
      ON AddressStateID = StateID
WHERE 
   (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1)
   AND OrderSiteID = @CMSContextCurrentSiteID 
   AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
   AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
   AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
        OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))))
GROUP BY 
   CountryDisplayName, 
   StateDisplayName
ORDER BY 
   COUNT(OrderID) DESC,
   StateDisplayName,
   CountryDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>839</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>47e2543e-b8fb-44cc-87c2-6104f59f79a0</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.7725703+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>663</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @GlobalStatus bit;
SET @GlobalStatus = {%Settings.CMSStoreUseGlobalOrderStatus?1:0|(user)administrator|(hash)0d5b857645fc8cff84d63a6a3f5bf50fe2c5a345e52fbca3f620c19702153204%}; 

SELECT 
   StatusDisplayName AS '{$com.report.orderstatus$}',
   COUNT(OrderID) AS '{$ecommerce.report_numberoforders$}'   
FROM 
   COM_OrderStatus 
   LEFT JOIN COM_Order 
      ON OrderStatusID = StatusID 
      AND OrderSiteID = @CMSContextCurrentSiteID 
      AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
      AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL) 
WHERE 
   (StatusEnabled = 1 OR StatusID IN (SELECT OrderStatusID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
   AND ((StatusSiteID = @CMSContextCurrentSiteID AND @GlobalStatus = 0)  
        OR (StatusSiteID IS NULL AND @GlobalStatus = 1))
GROUP BY 
   StatusDisplayName, 
   StatusOrder 
ORDER BY StatusOrder</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>840</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>f5cd02d6-ff31-4ff8-a26b-0cf454082ef9</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.8562013+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>664</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>SELECT
   ISNULL(CountryDisplayName,'-') AS '{$customerlist.country$}',
   ISNULL(StateDisplayName,'-') AS '{$customerlist.state$}',
   ISNULL(AddressZip,'-') AS '{$general.zip$}',
   ISNULL(COUNT(OrderID),0)  AS '{$ecommerce.report_numberoforders$}'
FROM 
   COM_Order
   LEFT JOIN COM_OrderAddress
      ON (OrderShippingAddressID = AddressID AND @Address = 2) 
      OR (OrderBillingAddressID = AddressID AND @Address = 1)
   LEFT JOIN CMS_Country
      ON AddressCountryID = CountryID
   LEFT JOIN CMS_State
      ON AddressStateID = StateID
WHERE 
   (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1) 
   AND OrderSiteID = @CMSContextCurrentSiteID
   AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
   AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
   AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
        OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))))
GROUP BY 
   CountryDisplayName, 
   StateDisplayName, 
   AddressZip
ORDER BY 
   COUNT(OrderID) DESC,
   AddressZip,
   StateDisplayName,
   CountryDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>841</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>07c9a098-9a64-4c95-ae1f-76df428bfb18</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.8755806+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>665</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Changes in the query should be reflected both in the SELECT and @totalsum variable */ 
DECLARE @totalsum float;
SET @totalsum = (SELECT
                    ISNULL(SUM(OrderTotalPriceInMainCurrency),0)
                 FROM 
                    COM_Order
                    LEFT JOIN COM_OrderAddress
                       ON (OrderShippingAddressID = AddressID AND @Address = 2) 
                       OR (OrderBillingAddressID = AddressID AND @Address = 1)
                    LEFT JOIN CMS_Country
                       ON AddressCountryID = CountryID	
                 WHERE 
                    (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1) 
                    AND OrderSiteID = @CMSContextCurrentSiteID 
                    AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
                    AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
                    AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
                      OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID)))));
SELECT 
   ISNULL(CountryDisplayName,'-') AS '{$customerlist.country$}',
   ISNULL(CAST(ROUND(SUM(OrderTotalPriceInMainCurrency),1) AS DECIMAL(38,1)),0) AS '{$com.sales.volumeofsales$}',
   CAST(ISNULL(CASE WHEN @totalsum != 0 
                    THEN CAST(ROUND(SUM(OrderTotalPriceInMainCurrency),1)/@totalsum*100 AS DECIMAL(38,1)) 
                    ELSE 0 
                    END,0) AS VARCHAR(20)) + ' %' AS '{$reports_pageviews.percent_header$}'
FROM 
   COM_Order
   LEFT JOIN COM_OrderAddress
      ON (OrderShippingAddressID = AddressID AND @Address = 2) 
      OR (OrderBillingAddressID = AddressID AND @Address = 1)
   LEFT JOIN CMS_Country
      ON AddressCountryID = CountryID
WHERE 
   (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1) 
   AND OrderSiteID = @CMSContextCurrentSiteID 
   AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
   AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
   AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
        OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))))
GROUP BY CountryDisplayName
ORDER BY 
   SUM(OrderTotalPriceInMainCurrency) DESC,
   CountryDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>842</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>29ae191f-c42f-41e5-a448-7b4d1778ae84</TableGUID>
    <TableLastModified>2013-11-22T08:45:47.9005831+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>666</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @globalCurrency bit;
SET @globalCurrency = {%Settings.CMSStoreUseGlobalCurrencies?1:0|(user)administrator|(hash)83dbb8e60783d086f5de19c3bd05430f702107840c2f7b8232675c2923227d18%};

DECLARE @totalsum float;
SET @totalsum = (SELECT SUM(OrderTotalPriceInMainCurrency) 
                 FROM 
                    COM_Currency
                    LEFT JOIN COM_Order
                       ON CurrencyID = OrderCurrencyID 
                       AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
                       AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL) 
                       AND OrderSiteID = @CMSContextCurrentSiteID 
                       AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid, 0) = 1)
                    WHERE  
                       (CurrencyEnabled = 1 OR CurrencyID IN (SELECT OrderCurrencyID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
                       AND ((@globalCurrency = 1 AND CurrencySiteID IS NULL) OR (@globalCurrency = 0 AND CurrencySiteID = @CMSContextCurrentSiteID)))
SELECT 
   CurrencyCode AS '{$unigrid.currency.columns.currencycode$}',
   CurrencyDisplayName AS '{$unigrid.currency.columns.currencydisplayname$}',
   CAST(ISNULL(ROUND(SUM(OrderTotalPrice),1),0) AS decimal(38,1)) AS '{$com.sales.volumeofsales$}',
   CAST(ISNULL(ROUND(SUM(OrderTotalPriceInMainCurrency),1),0) AS DECIMAL(38,1)) AS '{$com.sales.volumeofsalesinmaincurrency$}',
   CAST((CASE WHEN @totalsum != 0 
              THEN CAST(ROUND(ISNULL(SUM(OrderTotalPriceInMainCurrency),0),1)/@totalsum*100 AS DECIMAL(38,1)) 
              ELSE 0 END) AS VARCHAR(20))+' %' AS '{$reports_pageviews.percent_header$}'
FROM 
   COM_Currency
   LEFT JOIN COM_Order
      ON CurrencyID = OrderCurrencyID 
      AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
      AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL) 
      AND OrderSiteID = @CMSContextCurrentSiteID 
      AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid, 0) = 1)
WHERE 
   (CurrencyEnabled = 1 OR CurrencyID IN (SELECT OrderCurrencyID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
   AND ((@globalCurrency = 1 AND CurrencySiteID IS NULL)OR(@globalCurrency = 0 AND CurrencySiteID = @CMSContextCurrentSiteID))
GROUP BY 
   CurrencyDisplayName, 
   CurrencyCode
ORDER BY 
   SUM(OrderTotalPriceInMainCurrency) DESC,
   CurrencyCode,
   CurrencyDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>843</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a57193a7-54ad-48d8-ba10-8860772077b9</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.8762014+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>668</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>-- Changes must by reflected in both final select and @totalsum variable
DECLARE @AllowGlobalDepartments bit;
SET @AllowGlobalDepartments = {%Settings.CMSStoreAllowGlobalDepartments?1:0|(user)administrator|(hash)b29fc4446187f6e24e279e415bb92c55cfb380f56a16c6a0cff82acabe8f7d4a%};
DECLARE @totalsum float;
SET @totalsum = 
   (SELECT
      ISNULL(ROUND(SUM(OrderItems.OrderItemTotalPriceInMainCurrency),1),0)
    FROM
       COM_Department AS Departments
    LEFT JOIN
    (SELECT 
      product.SKUID AS productSKUID,
      product.SKUName AS productName,
      product.SKUDepartmentID AS productDepartment,
      product.SKUOptionCategoryID AS productCategory,
      parentProduct.SKUDepartmentID AS parentProductDepartment,
      parentProduct.SKUName AS parentName
      FROM 
      COM_SKU product
        LEFT JOIN
        COM_SKU parentProduct
        ON product.SKUParentSKUID = parentProduct.SKUID) AS products
      ON (products.productDepartment = Departments.DepartmentID OR products.parentProductDepartment = Departments.DepartmentID)
       LEFT JOIN 
       (SELECT OrderItemTotalPriceInMainCurrency, OrderItemSKUID
        FROM COM_OrderItem, COM_Order
        WHERE
           OrderID = OrderItemOrderID AND @CMSContextCurrentSiteID = OrderSiteID
           AND (OrderDate &lt; DATEADD(day,1,@ToDate) OR @ToDate IS NULL) 
           AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
           AND (ISNULL(OrderIsPaid,0)=1 OR ISNULL(@OrderIsPaid,0) = 0)) AS OrderItems
	ON products.productSKUID = OrderItems.OrderItemSKUID
WHERE 
(Departments.DepartmentSiteID = @CMSContextCurrentSiteID OR (@AllowGlobalDepartments = 1 AND Departments.DepartmentSiteID IS NULL))
AND products.productCategory IS NULL);
SELECT
   Departments.DepartmentDisplayName AS '{$objecttype.com_department$}',
   CAST(ISNULL(ROUND(SUM(OrderItems.OrderItemTotalPriceInMainCurrency),1),0) AS decimal(38,1)) AS '{$com.sales.volumeofsales$}',  
   CAST(CAST(ISNULL(CASE WHEN @totalsum != 0 THEN ROUND(SUM(OrderItems.OrderItemTotalPriceInMainCurrency),1)/@totalsum*100 ELSE 0 END,0) AS decimal(9,1)) AS VARCHAR(20)) + ' %' AS '{$reports_pageviews.percent_header$}'
FROM
   COM_Department AS Departments
  LEFT JOIN
    (SELECT 
    product.SKUID AS productSKUID,
    product.SKUName AS productName,
    product.SKUDepartmentID AS productDepartment,
    product.SKUOptionCategoryID AS productCategory,
    parentProduct.SKUDepartmentID AS parentProductDepartment,
    parentProduct.SKUName AS parentName
    FROM 
    COM_SKU product
      LEFT JOIN
      COM_SKU parentProduct
      ON product.SKUParentSKUID = parentProduct.SKUID) products
  ON (products.productDepartment = Departments.DepartmentID OR products.parentProductDepartment = Departments.DepartmentID)
   LEFT JOIN 
   (SELECT OrderItemTotalPriceInMainCurrency, OrderItemSKUID 
    FROM COM_OrderItem, COM_Order 
    WHERE
       OrderID = OrderItemOrderID AND @CMSContextCurrentSiteID = OrderSiteID
       AND (OrderDate &lt; DATEADD(day,1,@ToDate) OR @ToDate IS NULL) 
       AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
       AND (ISNULL(OrderIsPaid,0)=1 OR ISNULL(@OrderIsPaid,0) = 0)) AS OrderItems
	ON products.productSKUID = OrderItems.OrderItemSKUID
WHERE 
(Departments.DepartmentSiteID = @CMSContextCurrentSiteID OR (@AllowGlobalDepartments = 1 AND Departments.DepartmentSiteID IS NULL))
AND products.productCategory IS NULL
GROUP BY Departments.DepartmentDisplayName  
ORDER BY SUM(OrderItems.OrderItemTotalPriceInMainCurrency) DESC, DepartmentDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>844</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>414b0105-2636-4b3f-9376-576b5bcd1f68</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.8962014+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>670</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>-- Changes must by reflected in both final select and @totalsum variable
DECLARE @AllowGlobal bit;
SET @AllowGlobal = {%Settings.CMSStoreAllowGlobalManufacturers?1:0|(user)administrator|(hash)f7fa1f20342d0e24b537c6f123654edd8f3aaf0f2d8d294a366bfcaebe8e4a21%};
DECLARE @totalsum float;
SET @totalsum = (
SELECT
   ISNULL(ROUND(SUM(OrderItems.OrderItemTotalPriceInMainCurrency),1),0)
FROM
   COM_Manufacturer AS Manufacturers
   LEFT JOIN 
   (COM_SKU AS product
   LEFT JOIN
   COM_SKU parentProduct
    ON product.SKUParentSKUID = parentProduct.SKUID)
	ON (Manufacturers.ManufacturerID = product.SKUManufacturerID OR Manufacturers.ManufacturerID = parentProduct.SKUManufacturerID)
   LEFT JOIN 
   (SELECT OrderItemTotalPriceInMainCurrency, OrderItemSKUID 
   FROM COM_OrderItem, COM_Order 
   WHERE
      OrderID = OrderItemOrderID AND @CMSContextCurrentSiteID = OrderSiteID 
      AND (OrderDate &lt; dateadd(day,1,@ToDate) OR @ToDate IS NULL) 
      AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
      AND (ISNULL(OrderIsPaid,0)=1 OR ISNULL(@OrderIsPaid,0) = 0)) AS OrderItems
       ON product.SKUID = OrderItems.OrderItemSKUID
WHERE 
  (Manufacturers.ManufacturerEnabled = 1 OR 
      (Manufacturers.ManufacturerID IN (SELECT SKUManufacturerID FROM COM_SKU WHERE SKUID IN 
          (SELECT OrderItemSKUID FROM COM_OrderItem WHERE OrderItemOrderID IN 
              (SELECT OrderID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID)))))
  AND product.SKUOptionCategoryID IS NULL
  AND (Manufacturers.ManufacturerSiteID = @CMSContextCurrentSiteID OR (@AllowGlobal = 1 AND Manufacturers.ManufacturerSiteID IS NULL))
);
SELECT
   Manufacturers.ManufacturerDisplayName AS '{$objecttype.com_manufacturer$}',
   CAST(ISNULL(ROUND(SUM(OrderItems.OrderItemTotalPriceInMainCurrency),1),0) AS decimal(38,1)) AS '{$com.sales.volumeofsales$}',  
   CAST(CAST(ISNULL(CASE WHEN @totalsum != 0 THEN ROUND(SUM(OrderItems.OrderItemTotalPriceInMainCurrency),1)/@totalsum*100 ELSE 0 END,0) AS decimal(9,1)) AS VARCHAR(20)) + ' %' AS '{$reports_pageviews.percent_header$}'
FROM
   COM_Manufacturer AS Manufacturers
   LEFT JOIN 
   (COM_SKU AS product
   LEFT JOIN
   COM_SKU parentProduct
    ON product.SKUParentSKUID = parentProduct.SKUID)
	ON (Manufacturers.ManufacturerID = product.SKUManufacturerID OR Manufacturers.ManufacturerID = parentProduct.SKUManufacturerID)	
   LEFT JOIN 
   (SELECT OrderItemTotalPriceInMainCurrency, OrderItemSKUID 
    FROM COM_OrderItem, COM_Order 
    WHERE
       OrderID = OrderItemOrderID AND @CMSContextCurrentSiteID = OrderSiteID 
       AND (OrderDate &lt; dateadd(day,1,@ToDate) OR @ToDate IS NULL) 
       AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
       AND (ISNULL(OrderIsPaid,0)=1 OR ISNULL(@OrderIsPaid,0) = 0)) AS OrderItems
	ON product.SKUID = OrderItems.OrderItemSKUID
WHERE 
  (ManufacturerEnabled = 1 OR 
      (Manufacturers.ManufacturerID IN (SELECT SKUManufacturerID FROM COM_SKU WHERE SKUID IN 
          (SELECT OrderItemSKUID FROM COM_OrderItem WHERE OrderItemOrderID IN 
              (SELECT OrderID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID)))))
  AND product.SKUOptionCategoryID IS NULL
  AND (Manufacturers.ManufacturerSiteID = @CMSContextCurrentSiteID OR (@AllowGlobal = 1 AND Manufacturers.ManufacturerSiteID IS NULL))
GROUP BY Manufacturers.ManufacturerDisplayName  
ORDER BY SUM(OrderItems.OrderItemTotalPriceInMainCurrency) DESC, ManufacturerDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>845</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1d339746-8ca6-4ea8-84b4-668868688493</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.9262014+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>671</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @GlobalObjects bit;
SET @GlobalObjects = {%Settings.CMSStoreUseGlobalOrderStatus?1:0|(user)administrator|(hash)0d5b857645fc8cff84d63a6a3f5bf50fe2c5a345e52fbca3f620c19702153204%};
                      
DECLARE @totalsum float;
SET @totalsum = (SELECT ROUND(SUM(OrderTotalPriceInMainCurrency),1) 
                 FROM COM_Order, COM_OrderStatus 
                 WHERE 
                    OrderSiteID = @CMSContextCurrentSiteID 
                    AND OrderStatusID = StatusID
                    AND ((StatusSiteID IS NULL AND @GlobalObjects = 1) OR (StatusSiteID = @CMSContextCurrentSiteID AND @GlobalObjects = 0))
                    AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
                    AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL))

SELECT 
   StatusDisplayName AS '{$com.report.orderstatus$}',
   CAST(ISNULL(ROUND(SUM(OrderTotalPriceInMainCurrency),1),0) AS DECIMAL(38,1)) AS '{$com.sales.volumeofsales$}',
   CAST(CAST(ISNULL(CASE WHEN @totalsum != 0 
                         THEN ROUND(SUM(OrderTotalPriceInMainCurrency),1)/@totalsum*100  
                         ELSE 0 END,0) AS DECIMAL(38,1)) AS VARCHAR(20)) + ' %' AS '{$reports_pageviews.percent_header$}'
FROM 
   COM_OrderStatus 
   LEFT JOIN COM_Order 
      ON OrderStatusID = StatusID 
      AND OrderSiteID = @CMSContextCurrentSiteID 
      AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
      AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL) 
WHERE 
   (StatusEnabled = 1 OR StatusID IN (SELECT OrderStatusID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
   AND ((StatusSiteID IS NULL AND @GlobalObjects = 1) OR (StatusSiteID = @CMSContextCurrentSiteID AND @GlobalObjects = 0))
GROUP BY 
   StatusDisplayName, 
   StatusOrder
ORDER BY StatusOrder</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>846</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2cd55af9-a297-4324-bf1f-861e8c11d6b6</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.9662015+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>672</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @totalsum float
SET @totalsum =(SELECT 
                   ISNULL(ROUND(SUM(OrderTotalPriceInMainCurrency),1),0)
                FROM 
                   COM_Order
                   LEFT JOIN COM_OrderAddress
                      ON (OrderShippingAddressID = AddressID AND @Address = 2) 
                      OR (OrderBillingAddressID = AddressID AND @Address = 1)
                   LEFT JOIN CMS_Country
                      ON AddressCountryID = CountryID
                   LEFT JOIN CMS_State
                      ON AddressStateID = StateID
                WHERE 
                   (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1)
                   AND OrderSiteID = @CMSContextCurrentSiteID
                   AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
                   AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
                   AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
                      OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID)))));
SELECT 
   ISNULL(CountryDisplayName,'-') AS '{$objecttype.cms_country$}',
   ISNULL(StateDisplayName,'-') AS '{$objecttype.cms_state$}',
   CAST(ISNULL(ROUND(SUM(OrderTotalPriceInMainCurrency),1),0) AS DECIMAL(38,1)) AS '{$com.sales.volumeofsales$}',
   CAST(CAST(ISNULL(CASE WHEN @totalsum != 0 
                         THEN ROUND(SUM(OrderTotalPriceInMainCurrency),1)/@totalsum*100 
                         ELSE 0 END,0) AS DECIMAL(9,1)) AS VARCHAR(20)) + ' %' AS '{$reports_pageviews.percent_header$}'
FROM 
   COM_Order
   LEFT JOIN COM_OrderAddress
   ON (OrderShippingAddressID = AddressID AND @Address = 2) 
   OR (OrderBillingAddressID = AddressID AND @Address = 1)
   LEFT JOIN CMS_Country
   ON AddressCountryID = CountryID
   LEFT JOIN CMS_State
   ON AddressStateID = StateID
WHERE 
   (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1)
   AND OrderSiteID = @CMSContextCurrentSiteID
   AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
   AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
   AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
                      OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))))
GROUP BY 
   CountryDisplayName, 
   StateDisplayName
ORDER BY 
   SUM(OrderTotalPriceInMainCurrency) DESC,
   StateDisplayName,
   CountryDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>847</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2618772c-5d51-417b-b9b1-be04f6f8c582</TableGUID>
    <TableLastModified>2013-11-22T08:45:48.1966127+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>673</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @totalsum float;
SET @totalsum = (SELECT ROUND(SUM(OrderTotalPriceInMainCurrency),1) 
                 FROM 
                    COM_Order 
                    LEFT JOIN COM_OrderAddress
                    ON (OrderShippingAddressID = AddressID AND @Address = 2) 
                    OR (OrderBillingAddressID = AddressID AND @Address = 1)
                    LEFT JOIN CMS_Country
                    ON AddressCountryID = CountryID
                    LEFT JOIN CMS_State
                    ON AddressStateID = StateID
                 WHERE 
                    (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
                      OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID)))) 
                    AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1) 
                    AND OrderSiteID = @CMSContextCurrentSiteID 
                    AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
                    AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL));

SELECT 
   ISNULL(CountryDisplayName,'-') AS '{$objecttype.cms_country$}',
   ISNULL(StateDisplayName,'-') AS '{$objecttype.cms_state$}',
   ISNULL(AddressZip,'-') AS '{$general.zip$}',
   CAST(ISNULL(ROUND(SUM(OrderTotalPriceInMainCurrency),1),0) AS DECIMAL(38,1)) AS '{$com.sales.volumeofsales$}',
   CAST(CAST(ROUND(SUM(OrderTotalPriceInMainCurrency),1)/@totalsum*100 AS DECIMAL(9,1)) AS VARCHAR(20)) + ' %' AS '{$reports_pageviews.percent_header$}'
FROM 
   COM_Order
   LEFT JOIN COM_OrderAddress
   ON (OrderShippingAddressID = AddressID AND @Address = 2) 
   OR (OrderBillingAddressID = AddressID AND @Address = 1)
   LEFT JOIN CMS_Country
   ON AddressCountryID = CountryID
   LEFT JOIN CMS_State
   ON AddressStateID = StateID
WHERE 
   (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1)
   AND OrderSiteID = @CMSContextCurrentSiteID 
   AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL) 
   AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
   AND (((@Address = 2 AND AddressID IN (SELECT OrderShippingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))
                      OR (@Address = 1 AND AddressID IN (SELECT OrderBillingAddressID FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID))))
GROUP BY 
   CountryDisplayName, 
   StateDisplayName, 
   AddressZip
ORDER BY 
   SUM(OrderTotalPriceInMainCurrency) DESC,
   AddressZip,
   StateDisplayName,
   CountryDisplayName</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>848</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>4c8b41f0-c6a5-4c3e-892b-fca4745c149e</TableGUID>
    <TableLastModified>2013-11-22T08:45:48.2366167+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>674</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @from1 datetime;
DECLARE @to1 datetime;
DECLARE @from2 datetime;
DECLARE @to2 datetime;

DECLARE @sales1 float;
DECLARE @sales2 float;
DECLARE @orders1 float;
DECLARE @orders2 float;

DECLARE @salesChange decimal(38,1);
DECLARE @ordersChange decimal(38,1);

IF (@Period = 'custom')
	BEGIN
		SET @from1 = @Period1From;
		SET @to1 = DATEADD(day,1,@Period1To);
        SET @from2 = @Period2From;
		SET @to2 = DATEADD(day,1,@Period2To);
        END
ELSE IF (@Period = 'day')
        BEGIN
              	SET @from1 ={%DatabaseSchema%}.Func_Analytics_StartingDate('yesterday');
		SET @to1 ={%DatabaseSchema%}.Func_Analytics_EndingDate('yesterday');
                SET @from2 ={%DatabaseSchema%}.Func_Analytics_StartingDate('today');
		SET @to2 ={%DatabaseSchema%}.Func_Analytics_EndingDate('today');
        END
ELSE IF (@Period = 'week')
        BEGIN
              	SET @from1 ={%DatabaseSchema%}.Func_Analytics_StartingDate('lastWeek');
		SET @to1 ={%DatabaseSchema%}.Func_Analytics_EndingDate('lastWeek');
                SET @from2 ={%DatabaseSchema%}.Func_Analytics_StartingDate('thisWeek');
		SET @to2 ={%DatabaseSchema%}.Func_Analytics_EndingDate('thisWeek');
        END
ELSE IF (@Period = 'month')
        BEGIN
              	SET @from1 ={%DatabaseSchema%}.Func_Analytics_StartingDate('lastMonth');
		SET @to1 ={%DatabaseSchema%}.Func_Analytics_EndingDate('lastMonth');
                SET @from2 ={%DatabaseSchema%}.Func_Analytics_StartingDate('thisMonth');
		SET @to2 ={%DatabaseSchema%}.Func_Analytics_EndingDate('thisMonth');
        END
ELSE IF (@Period = 'quarter')
        BEGIN
              	SET @from1 ={%DatabaseSchema%}.Func_Analytics_StartingDate('lastQuarter');
		SET @to1 ={%DatabaseSchema%}.Func_Analytics_EndingDate('lastQuarter');
                SET @from2 ={%DatabaseSchema%}.Func_Analytics_StartingDate('thisQuarter');
		SET @to2 ={%DatabaseSchema%}.Func_Analytics_EndingDate('thisQuarter');
        END
ELSE IF (@Period = 'half')
        BEGIN
              	SET @from1 ={%DatabaseSchema%}.Func_Analytics_StartingDate('lastHalf');
		SET @to1 ={%DatabaseSchema%}.Func_Analytics_EndingDate('lastHalf');
                SET @from2 ={%DatabaseSchema%}.Func_Analytics_StartingDate('thisHalf');
		SET @to2 ={%DatabaseSchema%}.Func_Analytics_EndingDate('thisHalf');
        END
ELSE IF (@Period = 'year')
        BEGIN
              	SET @from1 ={%DatabaseSchema%}.Func_Analytics_StartingDate('lastYear');
		SET @to1 ={%DatabaseSchema%}.Func_Analytics_EndingDate('lastYear');
                SET @from2 ={%DatabaseSchema%}.Func_Analytics_StartingDate('thisYear');
		SET @to2 ={%DatabaseSchema%}.Func_Analytics_EndingDate('thisYear');
        END

SET @sales1 = (SELECT ISNULL(SUM(OrderTotalPriceInMainCurrency),0) FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID AND (OrderDate &gt;= @from1 OR @from1 IS NULL) AND (OrderDate &lt; @to1 OR @to1 IS NULL) AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1));
SET @sales2 = (SELECT ISNULL(SUM(OrderTotalPriceInMainCurrency),0) FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID AND (OrderDate &gt;= @from2 OR @from2 IS NULL) AND (OrderDate &lt; @to2 OR @to2 IS NULL) AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1));
SET @salesChange = CASE 
	WHEN @sales1 = 0 
        THEN NULL
		ELSE
		ROUND((@sales2 / @sales1 * 100) - 100,1)
	END

SET @orders1 = (SELECT COUNT(OrderID) FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID AND (OrderDate &gt;= @from1 OR @from1 IS NULL) AND (OrderDate &lt; @to1 OR @to1 IS NULL) AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1));
SET @orders2 = (SELECT COUNT(OrderID) FROM COM_Order WHERE OrderSiteID = @CMSContextCurrentSiteID AND (OrderDate &gt;= @from2 OR @from2 IS NULL) AND (OrderDate &lt; @to2 OR @to2 IS NULL) AND (ISNULL(@OnlyPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1));
SET @ordersChange = CASE 
	WHEN @orders1 = 0 
 	THEN NULL
		ELSE
			ROUND((@orders2 / @orders1 * 100) - 100,1)
	END

SELECT '{$com.sales.volumeofsales$}' AS '{$rep.webparrts.parametername$}', CAST(ROUND(@sales1,1) AS decimal(38,1)) AS '{$com.report.period1$}', CAST(ROUND(@sales2,1) AS decimal(38,1)) AS '{$com.report.period2$}', ISNULL(CAST(@salesChange AS nvarchar(20)), 0) + ' %' AS '{$general.change$}'
UNION
SELECT '{$ecommerce.report_numberoforders$}', @orders1 , @orders2 , ISNULL(CAST(@ordersChange AS nvarchar(20)), 0) + ' %'</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>849</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>70ee89a9-8f76-4fea-86c0-8b8d7d68cc26</TableGUID>
    <TableLastModified>2013-11-22T08:45:48.26962+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>675</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* @GlobalCredit - the value of CMSStoreUseGlobalCredit setting key */
DECLARE @GlobalCredit bit;
SET @GlobalCredit = {%Settings.CMSStoreUseGlobalCredit?1:0|(user)administrator|(hash)7eb17fbbb6dd7cf5d03f23991d7faec0cfaccc9413d91398f7775c7176e8f028%};

/* Selects customer first name, last name, company, email and available customer credit 
   in site or global main currency depending on the CMSStoreUseGlobalCredit setting key
   and filter settings. */
SELECT TOP (@TopCustomers) 
   CustomerFirstName AS '{$ecommerce.report_customer_firstname$}',
   CustomerLastName AS '{$ecommerce.report_customer_lastname$}',
   CustomerCompany AS '{$ecommerce.report_customer_company$}',
   CustomerEmail AS '{$unigrid.userlist.columns.email$}',
   CAST(ISNULL(Sum(EventCreditChange),0) AS DECIMAL(38,1)) AS '{$com.ui.customerscredit$}'
FROM 
   COM_Customer
   LEFT JOIN CMS_UserSite
      ON CMS_UserSite.UserID = COM_Customer.CustomerUserID
   LEFT JOIN COM_CustomerCreditHistory
      ON ((EventCustomerID = CustomerID 
           AND EventSiteID = @CMSContextCurrentSiteID 
           AND @GlobalCredit = 0)
         OR 
          (EventCustomerID = CustomerID 
           AND EventSiteID IS NULL 
           AND @GlobalCredit = 1))
WHERE 
   CustomerEnabled = 1   
   AND CustomerUserID &gt; 0 
   AND SiteID = @CMSContextCurrentSiteID
   AND (@FirstName IS NULL OR @FirstName = '' OR CustomerFirstName LIKE ('%'+@FirstName+'%'))
   AND (@LastName IS NULL OR @LastName = '' OR CustomerLastName LIKE ('%'+@LastName+'%'))
   AND (@Company IS NULL OR @Company = '' OR CustomerCompany LIKE ('%'+@Company+'%'))
   AND (@Email IS NULL OR @Email = '' OR CustomerEmail LIKE ('%' + @Email + '%'))  
GROUP BY
   CustomerID,
   CustomerLastName, 
   CustomerFirstName, 
   CustomerCompany, 
   CustomerEmail
ORDER BY 
   ROUND(Sum(EventCreditChange),1) DESC,
   CustomerLastName,   
   CustomerFirstName,
   CustomerCompany</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>850</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>47408b00-0e31-4f54-a6ec-f19afad8358e</TableGUID>
    <TableLastModified>2014-02-13T20:56:58.9962015+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>676</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Selects top enabled customers of the current site by number of orders. */   
SELECT TOP (@TopCustomers) 
   CustomerFirstName AS '{$general.firstname$}',
   CustomerLastName AS '{$general.lastname$}',
   CustomerCompany AS '{$Company$}',
   CustomerEmail AS '{$unigrid.userlist.columns.email$}',        
   ISNULL(COUNT(OrderID),0) AS '{$ecommerce.report_numberoforders$}'
FROM 
   COM_Customer 
   LEFT JOIN CMS_UserSite 
      ON UserID = CustomerUserID 
   LEFT JOIN COM_Order 
      ON CustomerID = OrderCustomerID
      AND OrderSiteID = @CMSContextCurrentSiteID
      AND OrderIsPaid = 1
WHERE 
   (CustomerEnabled = 1 OR CustomerID IN (SELECT OrderCustomerID FROM COM_Order WHERE OrderSiteID=@CMSContextCurrentSiteID))
   AND (CustomerSiteID = @CMSContextCurrentSiteID 
        OR (CustomerSiteID IS NULL AND SiteID = @CMSContextCurrentSiteID))
   AND (@FirstName IS NULL OR @FirstName = '' OR CustomerFirstName LIKE ('%'+@FirstName+'%'))
   AND (@LastName IS NULL OR @LastName = '' OR CustomerLastName LIKE ('%'+@LastName+'%'))
   AND (@Company IS NULL OR @Company = '' OR CustomerCompany LIKE ('%'+@Company+'%')) 
   AND (@Email IS NULL OR @Email = '' OR CustomerEmail LIKE ('%' + @Email + '%'))  
GROUP BY 
   CustomerID,
   CustomerFirstName, 
   CustomerLastName, 
   CustomerEmail, 
   CustomerPhone, 
   CustomerCompany
ORDER BY
   COUNT(OrderID) DESC,
   CustomerLastName,   
   CustomerFirstName,
   CustomerCompany</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>851</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5b39ef5b-5102-4c79-896b-666a9f5e7978</TableGUID>
    <TableLastModified>2013-11-22T08:45:48.4126343+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>677</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Variable determines whether global products should be displayed. */
DECLARE @GlobalProducts bit;
SET @GlobalProducts = {%Settings.CMSStoreAllowGlobalProducts?1:0|(user)administrator|(hash)bce17da0ca0110e5881bd0e3c90c3a74cddfb1c291e64591dd13041a705a75eb%};
DECLARE @GlobalOptions bit;
SET @GlobalOptions = {%Settings.CMSStoreAllowGlobalProductOptions?1:0|(user)administrator|(hash)2a2742ee8aa469e7ddbdc886b6b592b752c193f3d93c7e3f3e981db361ebf414%};
                            
/* Selects the product meeting the conditions from the filter and 
   the number of orders in which it occures */
SELECT TOP (@Limit) 
   ISNULL(parent.SKUName + ': ', '') + product.SKUName + ISNULL(' (' + COM_OptionCategory.CategoryDisplayName + ')', '') AS '{$product_list.productname$}',
   product.SKUNumber AS '{$product_list.productnumber$}',
   ISNULL(Departments.DepartmentDisplayName, parentDepartment.DepartmentDisplayName) AS '{$objecttype.com_department$}',
   ISNULL(Manufacturers.ManufacturerDisplayName,parentManufacturer.ManufacturerDisplayName) AS '{$objecttype.com_manufacturer$}',
   ISNULL(Suppliers.SupplierDisplayName,parentSupplier.SupplierDisplayName) AS '{$objecttype.com_supplier$}',
   CAST(product.SKUPrice AS DECIMAL(38,2)) AS '{$com.inventory.price$}',
   ISNULL(COUNT(DISTINCT OrderID),0) AS '{$com.purchasedproductsreport.numberofpurchases$}'             
FROM    
   COM_SKU product
   LEFT JOIN COM_OrderItem
      ON product.SKUID = OrderItemSKUID      
   LEFT JOIN COM_Order 
      ON OrderID = OrderItemOrderID  
      AND (ISNULL(OrderIsPaid,0) = 1 OR ISNULL(@OrderIsPaid,0) = 0)
      AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
      AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
      AND (product.SKUOptionCategoryID IS NULL OR (((@GlobalOptions = 1 AND product.SKUSiteID IS NULL) OR product.SKUSiteID = @CMSContextCurrentSiteID)))
      AND (product.SKUOptionCategoryID IS NOT NULL OR ((@GlobalProducts = 1 AND product.SKUSiteID IS NULL) OR product.SKUSiteID = @CMSContextCurrentSiteID))
   LEFT JOIN COM_Department AS Departments 
      ON Departments.DepartmentID = product.SKUDepartmentID
   LEFT JOIN COM_Manufacturer AS Manufacturers
      ON product.SKUManufacturerID = Manufacturers.ManufacturerID
   LEFT JOIN COM_Supplier AS Suppliers
      ON Suppliers.SupplierID = product.SKUSupplierID
   LEFT JOIN COM_OptionCategory 
      ON CategoryID = product.SKUOptionCategoryID
   LEFT JOIN COM_SKU parent
      ON product.SKUParentSKUID = parent.SKUID
   LEFT JOIN COM_Department parentDepartment 
      ON parentDepartment.DepartmentID = parent.SKUDepartmentID
   LEFT JOIN COM_Manufacturer parentManufacturer
      ON parent.SKUManufacturerID = parentManufacturer.ManufacturerID
   LEFT JOIN COM_Supplier parentSupplier
      ON parentSupplier.SupplierID = parent.SKUSupplierID
WHERE 
   (product.SKUOptionCategoryID IS NULL OR ((@GlobalOptions = 1 AND product.SKUSiteID IS NULL) OR product.SKUSiteID = @CMSContextCurrentSiteID))
   AND (product.SKUOptionCategoryID IS NOT NULL OR ((@GlobalProducts = 1 AND product.SKUSiteID IS NULL) OR product.SKUSiteID = @CMSContextCurrentSiteID))
   AND (product.SKUOptionCategoryID IS NULL OR (CategoryType = 'PRODUCTS'))  
   AND ((product.SKUEnabled = 1 AND (parent.SKUEnabled IS NULL OR parent.SKUEnabled = 1))
         OR (product.SKUID IN (SELECT OrderItemSKUID FROM COM_OrderItem WHERE OrderItemOrderID IN (SELECT OrderID FROM COM_Order WHERE OrderSiteID=@CMSContextCurrentSiteID))))
   AND (@DepartmentID = product.SKUDepartmentID OR @DepartmentID &lt; 0 OR (@DepartmentID IS NULL AND product.SKUDepartmentID IS NULL))
   AND (@ManufacturerID = product.SKUManufacturerID OR @ManufacturerID &lt; 0 OR (@ManufacturerID IS NULL AND product.SKUManufacturerID IS NULL))
   AND (@SupplierID = product.SKUSupplierID OR @SupplierID &lt; 0 OR (@SupplierID IS NULL AND product.SKUSupplierID IS NULL))
   AND (@PublicStatusID = product.SKUPublicStatusID OR @PublicStatusID &lt; 0 OR (@PublicStatusID IS NULL AND product.SKUPublicStatusID IS NULL))
   AND (@InternalStatusID = product.SKUInternalStatusID OR @InternalStatusID &lt; 0 OR (@InternalStatusID IS NULL AND product.SKUInternalStatusID IS NULL))
   AND (product.SKUName LIKE ('%'+@ProductName+'%') OR @ProductName IS NULL)
   AND (product.SKUNumber LIKE ('%'+@ProductNumber+'%') OR @ProductNumber IS NULL OR @ProductNumber = '')        
   AND COM_Order.OrderSiteID = @CMSContextCurrentSiteID
GROUP BY 
   product.SKUID,
   ISNULL(parent.SKUName + ': ', '') + product.SKUName + ISNULL(' (' + COM_OptionCategory.CategoryDisplayName + ')', ''),
   product.SKUNumber,
   product.SKUPrice,
   ISNULL(Departments.DepartmentDisplayName, parentDepartment.DepartmentDisplayName),
   ISNULL(Manufacturers.ManufacturerDisplayName,parentManufacturer.ManufacturerDisplayName),
   ISNULL(Suppliers.SupplierDisplayName,parentSupplier.SupplierDisplayName)
HAVING
   ISNULL(COUNT(DISTINCT OrderID),0) &gt; 0
ORDER BY 
   COUNT(DISTINCT OrderID) DESC,
   ISNULL(parent.SKUName + ': ', '') + product.SKUName + ISNULL(' (' + COM_OptionCategory.CategoryDisplayName + ')', '') ASC,
   product.SKUNumber ASC</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>852</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>0ef7b4e1-d6dc-4561-89a0-f3a36a533b43</TableGUID>
    <TableLastModified>2015-04-14T14:39:02.738177+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>678</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>/* Selects the products meeting the conditions from the filter and the number of purchased units. */
DECLARE @GlobalProducts bit;
SET @GlobalProducts = {%Settings.CMSStoreAllowGlobalProducts?1:0|(user)administrator|(hash)bce17da0ca0110e5881bd0e3c90c3a74cddfb1c291e64591dd13041a705a75eb%};
DECLARE @GlobalOptions bit;
SET @GlobalOptions = {%Settings.CMSStoreAllowGlobalProductOptions?1:0|(user)administrator|(hash)2a2742ee8aa469e7ddbdc886b6b592b752c193f3d93c7e3f3e981db361ebf414%};

SELECT TOP (@Limit) 
   ISNULL(parent.SKUName + ': ', '') + product.SKUName + ISNULL(' (' + COM_OptionCategory.CategoryDisplayName + ')', '') AS '{$product_list.productname$}',
   product.SKUNumber AS '{$product_list.productnumber$}',
   ISNULL(Departments.DepartmentDisplayName, parentDepartment.DepartmentDisplayName) AS '{$objecttype.com_department$}',
   ISNULL(Manufacturers.ManufacturerDisplayName,parentManufacturer.ManufacturerDisplayName) AS '{$objecttype.com_manufacturer$}',
   ISNULL(Suppliers.SupplierDisplayName,parentSupplier.SupplierDisplayName) AS '{$objecttype.com_supplier$}',
   CAST(product.SKUPrice AS DECIMAL(38,2)) AS '{$com.inventory.price$}',
   CAST(ISNULL(Counts.Numbers,0) AS DECIMAL(38,0)) AS '{$com.purchasedproductsreport.purchasedunits$}'       
FROM    
   COM_SKU product 
   LEFT JOIN COM_OrderItem OrderItem 
      ON product.SKUID = OrderItemSKUID 
   LEFT JOIN COM_Department AS Departments
      ON Departments.DepartmentID = product.SKUDepartmentID 
   LEFT JOIN COM_Manufacturer AS Manufacturers
      ON product.SKUManufacturerID = Manufacturers.ManufacturerID
   LEFT JOIN COM_Supplier AS Suppliers
      ON Suppliers.SupplierID = product.SKUSupplierID
   LEFT JOIN COM_OptionCategory 
      ON CategoryID = product.SKUOptionCategoryID
   LEFT JOIN
      (SELECT 
         SUM(OrderItemUnitCount) AS Numbers, 
         SKUID AS ID 
       FROM 
          COM_SKU, 
          COM_OrderItem 
          LEFT JOIN COM_Order 
          ON OrderItemOrderID = OrderID
       WHERE 
          SKUID = OrderItemSKUID
          AND (ISNULL(@OrderIsPaid,0) = 0 OR ISNULL(OrderIsPaid,0) = 1)
	      AND (OrderDate &gt;= @FromDate OR @FromDate IS NULL)
	      AND (OrderDate &lt;= DATEADD(day,1,@ToDate) OR @ToDate IS NULL)
          AND (SKUOptionCategoryID IS NULL OR ((@GlobalOptions = 1 AND SKUSiteID IS NULL) OR SKUSiteID = @CMSContextCurrentSiteID))
          AND (SKUOptionCategoryID IS NOT NULL OR ((@GlobalProducts = 1 AND SKUSiteID IS NULL) OR SKUSiteID = @CMSContextCurrentSiteID))
          AND COM_Order.OrderSiteID = @CMSContextCurrentSiteID
       GROUP BY SKUID) Counts
      ON Counts.ID = product.SKUID  
   LEFT JOIN COM_SKU parent
      ON product.SKUParentSKUID = parent.SKUID
   LEFT JOIN COM_Department parentDepartment 
      ON parentDepartment.DepartmentID = parent.SKUDepartmentID
   LEFT JOIN COM_Manufacturer parentManufacturer
      ON parent.SKUManufacturerID = parentManufacturer.ManufacturerID
   LEFT JOIN COM_Supplier parentSupplier
      ON parentSupplier.SupplierID = parent.SKUSupplierID
WHERE 
   (product.SKUOptionCategoryID IS NULL OR ((@GlobalOptions = 1 AND product.SKUSiteID IS NULL) OR product.SKUSiteID = @CMSContextCurrentSiteID))
   AND (product.SKUOptionCategoryID IS NOT NULL OR ((@GlobalProducts = 1 AND product.SKUSiteID IS NULL) OR product.SKUSiteID = @CMSContextCurrentSiteID))
   AND (product.SKUOptionCategoryID IS NULL OR (CategoryType = 'PRODUCTS')) 
   AND ((product.SKUEnabled = 1 AND (parent.SKUEnabled IS NULL OR parent.SKUEnabled = 1))
         OR (product.SKUID IN (SELECT OrderItemSKUID FROM COM_OrderItem WHERE OrderItemOrderID IN (SELECT OrderID FROM COM_Order WHERE OrderSiteID=@CMSContextCurrentSiteID))))
   AND (@DepartmentID = product.SKUDepartmentID OR @DepartmentID &lt; 0 OR (@DepartmentID IS NULL AND product.SKUDepartmentID IS NULL))
   AND (@ManufacturerID = product.SKUManufacturerID OR @ManufacturerID &lt; 0 OR (@ManufacturerID IS NULL AND product.SKUManufacturerID IS NULL))
   AND (@SupplierID = product.SKUSupplierID OR @SupplierID &lt; 0 OR (@SupplierID IS NULL AND product.SKUSupplierID IS NULL))
   AND (@PublicStatusID = product.SKUPublicStatusID OR @PublicStatusID &lt; 0 OR (@PublicStatusID IS NULL AND product.SKUPublicStatusID IS NULL))
   AND (@InternalStatusID = product.SKUInternalStatusID OR @InternalStatusID &lt; 0 OR (@InternalStatusID IS NULL AND product.SKUInternalStatusID IS NULL))
   AND (product.SKUName LIKE ('%'+@ProductName+'%') OR @ProductName IS NULL)
   AND (product.SKUNumber LIKE ('%'+@ProductNumber+'%') OR @ProductNumber IS NULL OR @ProductNumber = '')
   AND Counts.Numbers &gt; 0
GROUP BY 
   product.SKUID,
   ISNULL(parent.SKUName + ': ', '') + product.SKUName + ISNULL(' (' + COM_OptionCategory.CategoryDisplayName + ')', ''), 
   product.SKUNumber, 
   product.SKUPrice, 
   Counts.Numbers, 
   ISNULL(Departments.DepartmentDisplayName, parentDepartment.DepartmentDisplayName),
   ISNULL(Manufacturers.ManufacturerDisplayName,parentManufacturer.ManufacturerDisplayName),
   ISNULL(Suppliers.SupplierDisplayName,parentSupplier.SupplierDisplayName)
ORDER BY 
   Counts.Numbers DESC,
   ISNULL(parent.SKUName + ': ', '') + product.SKUName + ISNULL(' (' + COM_OptionCategory.CategoryDisplayName + ')', ''),
   product.SKUNumber</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>853</TableReportID>
    <TableSettings>&lt;CustomData&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;SkinID&gt;ReportGridAnalytics&lt;/SkinID&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;/CustomData&gt;</TableSettings>
    <TableGUID>af47975a-d935-4e5b-a91a-6ca8e572d198</TableGUID>
    <TableLastModified>2015-04-14T14:43:42.3221326+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>679</TableID>
    <TableName>table</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE @GlobalProducts bit;
SET @GlobalProducts = {%Settings.CMSStoreAllowGlobalProducts?1:0|(user)administrator|(hash)bce17da0ca0110e5881bd0e3c90c3a74cddfb1c291e64591dd13041a705a75eb%};
/* Selects products meeting the conditions from filter and 
   the count of their occurences in the wishlist. */
SELECT TOP (@Limit) 
   SKUName AS '{$product_list.productname$}',
   SKUNumber AS '{$product_list.productnumber$}',
   DepartmentDisplayName AS '{$objecttype.com_department$}',
   ManufacturerDisplayName AS '{$objecttype.com_manufacturer$}',
   SupplierDisplayName AS '{$objecttype.com_supplier$}',
   CAST(SKUPrice AS DECIMAL(38,2)) AS '{$unigrid.discounproducts.columns.price$}',
   ISNULL(CAST(SKUAvailableItems AS nvarchar(16)), '-') AS '{$ecommerce.report_availableitems$}',
   COUNT(COM_Wishlist.SKUID) AS '{$com.wishlistreport.totalcountinwishlists$}'
FROM 
   COM_Wishlist
   LEFT JOIN COM_SKU 
      ON COM_SKU.SKUID = COM_Wishlist.SKUID
   LEFT JOIN COM_Department
      ON SKUDepartmentID = DepartmentID
   LEFT JOIN COM_Manufacturer 
      ON SKUManufacturerID = ManufacturerID
   LEFT JOIN COM_Supplier 
      ON SupplierID = SKUSupplierID        
WHERE 
   ((@GlobalProducts = 1 AND SKUSiteID IS NULL) OR SKUSiteID = @CMSContextCurrentSiteID)
   AND (DepartmentID = @DepartmentID OR @DepartmentID &lt; 0 OR (SKUDepartmentID IS NULL AND @DepartmentID IS NULL))
   AND SiteID = @CMSContextCurrentSiteID
   AND (@ManufacturerID = SKUManufacturerID OR @ManufacturerID &lt; 0 OR (SKUManufacturerID IS NULL AND @ManufacturerID IS NULL))
   AND (@SupplierID = SKUSupplierID OR @SupplierID &lt; 0 OR (SKUSupplierID IS NULL AND @SupplierID IS NULL))
   AND (@PublicStatusID = SKUPublicStatusID OR @PublicStatusID &lt; 0 OR (SKUPublicStatusID IS NULL AND @PublicStatusID IS NULL))
   AND (@InternalStatusID = SKUInternalStatusID OR @InternalStatusID &lt; 0 OR (SKUInternalStatusID IS NULL AND @InternalStatusID IS NULL))
   AND (SKUName LIKE ('%'+@ProductName+'%') OR @ProductName IS NULL)
   AND (SKUNumber LIKE ('%'+@ProductNumber+'%') OR @ProductNumber IS NULL OR @ProductNumber = '')        
GROUP BY 
   COM_Wishlist.SKUID,
   SKUName,
   SKUNumber,
   SKUPrice,
   DepartmentDisplayName,
   SKUAvailableItems,
   ManufacturerDisplayName,
   SupplierDisplayName
ORDER BY 
   COUNT(COM_Wishlist.SKUID) DESC,
   SKUName,
   SKUNumber</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>854</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;3&lt;/pagemode&gt;&lt;pagesize&gt;25&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$general.nodatafound$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>655d67a4-61b5-4030-a67a-fd7d5cf2f6cc</TableGUID>
    <TableLastModified>2014-02-13T20:56:59.0662016+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>685</TableID>
    <TableName>table</TableName>
    <TableDisplayName>Table</TableDisplayName>
    <TableQuery>DECLARE @FromDateTrimmed DATETIME;
DECLARE @ToDateTrimmed DATETIME;
DECLARE @ToDateCompare AS DATETIME;

SET @FromDateTrimmed = DATEADD(m, DATEDIFF(m, 0, CAST(@FromDate AS DATETIME)), 0);
SET @ToDateTrimmed = DATEADD(m, DATEDIFF(m, 0, CAST(@ToDate AS DATETIME)), 0);
SET @ToDateTrimmed = DATEADD(s, -31, @ToDateTrimmed);
SET @ToDateCompare = CAST(@ToDate AS DATETIME);

WITH daysseq AS
(
   SELECT @FromDateTrimmed AS DateValue
   UNION ALL
   SELECT DATEADD(m, 1, DateValue)
   FROM    daysseq   
   WHERE   DateValue &lt; @ToDateTrimmed
)
SELECT CONVERT(CHAR(3), daysseq.DateValue, 101) + CONVERT(CHAR(4), daysseq.DateValue, 120), T3.clicks, T3.hits
FROM daysseq
LEFT JOIN
(
	SELECT T1.HitsStartTime, T2.hits, T1.clicks
	FROM
		(SELECT HitsStartTime, HitsCount AS clicks
		FROM Analytics_Statistics
		INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		WHERE (Analytics_Statistics.StatisticsObjectID = @BannerID) 
			AND (@FromDateTrimmed IS NULL OR HitsStartTime &gt;= @FromDateTrimmed)
			AND (@ToDateCompare IS NULL OR HitsStartTime &lt;= @ToDateCompare)
			AND (StatisticsCode = 'bannerclick')
		) AS T1
	INNER JOIN 
		(SELECT HitsStartTime, HitsCount AS hits
		FROM Analytics_Statistics
		INNER JOIN Analytics_MonthHits ON Analytics_MonthHits.HitsStatisticsID = Analytics_Statistics.StatisticsID
		WHERE (Analytics_Statistics.StatisticsObjectID = @BannerID) 
			AND (@FromDateTrimmed IS NULL OR HitsStartTime &gt;= @FromDateTrimmed) 
			AND (@ToDateCompare IS NULL OR HitsStartTime &lt;= @ToDateCompare) 
			AND (StatisticsCode = 'bannerhit')
		) AS T2  
	ON T1.HitsStartTime = T2.HitsStartTime
 ) AS T3
ON daysseq.DateValue = HitsStartTime
OPTION (MAXRECURSION 0)</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>874</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;10&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0d1b30ee-f5d4-49b0-89b4-e728e0089570</TableGUID>
    <TableLastModified>2013-11-22T08:45:48.8376768+01:00</TableLastModified>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>690</TableID>
    <TableName>NumberOfContactsInSteps</TableName>
    <TableDisplayName>NumberOfContactsInSteps</TableDisplayName>
    <TableQuery>SELECT 
  StepDisplayName AS 'Step name',
  [Value] AS 'Number of contacts'
FROM (
  SELECT
    COUNT(StateObjectID) AS Value,
    StateStepID
  FROM CMS_AutomationState
  WHERE StateObjectType = 'om.contact' AND StateStepID IN (
    SELECT StepID FROM CMS_WorkflowStep WHERE StepWorkflowID = @AutomationProcessID
  ) AND ((@SiteID = -1) OR ((@SiteID = -4) AND (StateSiteID IS NULL)) OR (StateSiteID = @SiteID) OR ((@SiteID = -5) AND ((StateSiteID IS NULL) OR (StateSiteID = @CMSContextCurrentSiteID))))
  GROUP BY StateStepID
) Groups JOIN CMS_WorkflowStep ON Groups.StateStepID = StepID
ORDER BY StepType</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>883</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>3168d3f5-3ba9-4784-9fca-79ff8195defc</TableGUID>
    <TableLastModified>2013-11-22T08:45:48.9016832+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>691</TableID>
    <TableName>NumberOfDocumentsInWorkflowSteps</TableName>
    <TableDisplayName>NumberOfPagesInWorkflowSteps</TableDisplayName>
    <TableQuery>SELECT 
  StepDisplayName AS 'Step name',
  [Value] AS 'Number of pages'
FROM (
  SELECT
    COUNT(DocumentID) as 'Value',
    DocumentWorkflowStepID
  FROM View_CMS_Tree_Joined
  WHERE DocumentWorkflowStepID IN (
    SELECT StepID FROM CMS_WorkflowStep WHERE StepWorkflowID = @WorkflowID
  ) AND NodeSiteID = @CMSContextCurrentSiteID
  GROUP BY DocumentWorkflowStepID
) Groups JOIN CMS_WorkflowStep ON Groups.DocumentWorkflowStepID = StepID
ORDER BY StepType</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>882</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;enablepaging&gt;True&lt;/enablepaging&gt;&lt;querynorecordtext&gt;&lt;/querynorecordtext&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2739d896-23a3-4e08-8da0-09cd2a5f5cae</TableGUID>
    <TableLastModified>2014-06-23T10:01:38.7745736+02:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>692</TableID>
    <TableName>ContactsInCampaignsTable</TableName>
    <TableDisplayName>Contacts in campaigns table</TableDisplayName>
    <TableQuery>SELECT  ContactFirstName AS '{$om.contact.firstname$}' ,
        ContactLastName AS '{$om.contact.lastname$}' ,
        ContactCountryID AS '{$om.contact.countryid$}' ,
        ContactBusinessPhone AS '{$om.contact.businessphone$}' ,
        ContactEmail AS '{$general.emailaddress$}' ,
        ContactWebSite AS '{$om.contact.website$}' ,
        ContactCreated AS '{$general.created$}' ,
        ContactCampaign AS '{$analytics.campaign$}' ,
        ContactCompanyName AS '{$om.contact.companyname$}'
FROM    OM_Contact
WHERE   OM_Contact.ContactID IN ( SELECT    ActivityActiveContactID
                                  FROM      OM_Activity
                                  WHERE     ActivityCampaign = @CampaignName )</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>887</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;querynorecordtext&gt;No data found&lt;/querynorecordtext&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>bde77f87-1182-4fd3-ae1f-d3de53121f46</TableGUID>
    <TableLastModified>2013-11-22T08:45:49.0626993+01:00</TableLastModified>
    <TableConnectionString>CMSOMConnectionString</TableConnectionString>
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>738</TableID>
    <TableName>Facebook_page_fans_locale_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1059</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>8cf3fd87-ac16-47df-94d3-ff2bc499f831</TableGUID>
    <TableLastModified>2014-02-10T15:42:01.6691004+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>739</TableID>
    <TableName>Facebook_page_fans_locale_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1060</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1339c720-af16-400b-a581-877eaf42cc90</TableGUID>
    <TableLastModified>2014-02-10T15:42:58.2887618+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>740</TableID>
    <TableName>Facebook_page_fans_locale_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1061</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a46ce206-ec6b-4179-9f5a-7eb801973549</TableGUID>
    <TableLastModified>2014-02-10T15:42:30.6139946+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>741</TableID>
    <TableName>Facebook_page_fans_locale_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1062</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>f8cbeab1-150a-4c70-976f-dfbc754e5d84</TableGUID>
    <TableLastModified>2014-02-10T15:43:29.4148741+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>742</TableID>
    <TableName>Facebook_page_fans_city_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_city';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1063</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9c9f5bb9-ecbd-4703-aacb-417c620cf43a</TableGUID>
    <TableLastModified>2014-02-10T15:35:37.4916865+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>743</TableID>
    <TableName>Facebook_page_fans_city_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_city';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1065</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>534e8240-4cf8-46a0-be48-eb99c4927f0b</TableGUID>
    <TableLastModified>2014-02-10T15:36:12.7372107+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>744</TableID>
    <TableName>Facebook_page_fans_city_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_city';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1064</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ef4e6cd4-1235-4383-9d35-b6471c3e0898</TableGUID>
    <TableLastModified>2014-02-10T15:36:44.3003667+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>745</TableID>
    <TableName>Facebook_page_fans_city_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_city';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1066</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>41d7fdb9-9ccd-48b4-b774-63bb1dd71b94</TableGUID>
    <TableLastModified>2014-02-10T15:37:11.6330997+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>746</TableID>
    <TableName>Facebook_page_fans_country_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1067</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0d11f947-a430-4c88-8851-8405a07525f2</TableGUID>
    <TableLastModified>2014-02-10T15:37:45.2704631+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>747</TableID>
    <TableName>Facebook_page_fans_country_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1069</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>d0fb9412-fc9f-404d-8926-b309fcd05f39</TableGUID>
    <TableLastModified>2014-02-10T15:38:20.2869644+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>748</TableID>
    <TableName>Facebook_page_fans_country_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1068</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>f20e36b4-57ac-49f6-a64f-9a4cb4a9d003</TableGUID>
    <TableLastModified>2014-02-10T15:39:03.677303+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>749</TableID>
    <TableName>Facebook_page_fans_country_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1070</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0b9cf8c7-d0be-4ae6-b700-4484593ad8bd</TableGUID>
    <TableLastModified>2014-02-10T15:39:33.1522502+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>750</TableID>
    <TableName>Facebook_page_fans_gender_age_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_gender_age';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1074</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>1d254784-6a82-4cf9-b9a2-9fcdb12e2aba</TableGUID>
    <TableLastModified>2014-02-10T15:41:31.8941232+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>751</TableID>
    <TableName>Facebook_page_fans_gender_age_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_gender_age';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1072</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>dce28885-766e-4069-91ad-30f95a317745</TableGUID>
    <TableLastModified>2014-02-10T15:41:11.7321072+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>752</TableID>
    <TableName>Facebook_page_fans_gender_age_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_gender_age';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1073</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>50990d7b-8b7b-4f31-b2bf-b15dd908f5ff</TableGUID>
    <TableLastModified>2014-02-10T15:40:46.9536296+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>753</TableID>
    <TableName>Facebook_page_fans_gender_age_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_gender_age';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1071</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>dba2cc6d-a853-44f8-935a-d6c4fdfaf092</TableGUID>
    <TableLastModified>2014-02-10T15:40:21.7781123+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>754</TableID>
    <TableName>Facebook_page_stories_by_story_type_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_stories_by_story_type';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1075</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>8ce082f8-cc10-4b4d-8ff0-fa330dd3da42</TableGUID>
    <TableLastModified>2014-02-10T15:47:57.9617261+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>755</TableID>
    <TableName>Facebook_page_stories_by_story_type_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_stories_by_story_type';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1077</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>e1ec58a1-dbb4-4dc0-a03b-ef71201fc25d</TableGUID>
    <TableLastModified>2014-02-10T15:48:16.8606158+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>756</TableID>
    <TableName>Facebook_page_stories_by_story_type_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_stories_by_story_type';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1076</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>8e362cb6-916c-4f28-8048-b16922d4ecd0</TableGUID>
    <TableLastModified>2014-02-10T15:48:36.7866082+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>757</TableID>
    <TableName>Facebook_page_stories_by_story_type_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_stories_by_story_type';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1078</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>50e24cd2-f2bb-4fa8-90bf-3f781791266a</TableGUID>
    <TableLastModified>2014-02-10T15:48:53.8453139+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>758</TableID>
    <TableName>Facebook_page_storytellers_by_story_type_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_story_type';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1079</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>48a4ca96-8f11-4557-8f45-1f3feb04d988</TableGUID>
    <TableLastModified>2014-02-10T17:13:02.4191208+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>759</TableID>
    <TableName>Facebook_page_storytellers_by_story_type_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_story_type';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1081</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>289fb5be-894d-452a-a370-50ad0e2c3cc8</TableGUID>
    <TableLastModified>2014-02-10T17:13:37.8266612+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>760</TableID>
    <TableName>Facebook_page_storytellers_by_story_type_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_story_type';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1080</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>86731a7d-895b-42e4-875d-765e69a14090</TableGUID>
    <TableLastModified>2014-02-10T17:14:05.2994082+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>761</TableID>
    <TableName>Facebook_page_storytellers_by_story_type_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_story_type';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1082</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>bc4393f3-fcbd-4000-af17-ac252f864c4e</TableGUID>
    <TableLastModified>2014-02-10T17:14:26.1154896+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>762</TableID>
    <TableName>Facebook_page_storytellers_by_age_gender_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_age_gender';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1083</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>67fb1393-6c9e-41bd-a2ea-dc8d2f38c968</TableGUID>
    <TableLastModified>2014-02-10T15:50:02.6741961+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>763</TableID>
    <TableName>Facebook_page_storytellers_by_age_gender_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_age_gender';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1084</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b45cb496-804a-4919-8c94-8f449f068d6f</TableGUID>
    <TableLastModified>2014-02-10T15:50:28.5697854+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>764</TableID>
    <TableName>Facebook_page_storytellers_by_age_gender_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_age_gender';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1085</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>05c08537-8f60-4232-99d1-7ed3492c194d</TableGUID>
    <TableLastModified>2014-02-10T15:50:51.9351217+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>765</TableID>
    <TableName>Facebook_page_storytellers_by_age_gender_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_age_gender';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1086</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>19c870f0-d9fc-49a2-b1d6-f89feb4c5f10</TableGUID>
    <TableLastModified>2014-02-10T15:51:11.9941274+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>766</TableID>
    <TableName>Facebook_page_consumptions_by_cons_type_unique_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_consumptions_by_consumption_type_unique';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1087</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>4e64ce76-179d-4107-b133-26dc34d1e48e</TableGUID>
    <TableLastModified>2014-02-10T15:29:27.7467157+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>767</TableID>
    <TableName>Facebook_page_consumptions_by_cons_type_uq_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_consumptions_by_consumption_type_unique';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1090</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>e4b8e1aa-51cb-4d07-bdf7-725d5b18919f</TableGUID>
    <TableLastModified>2014-02-10T15:29:58.3167724+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>768</TableID>
    <TableName>Facebook_page_consumptions_by_cons_type_uq_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_consumptions_by_consumption_type_unique';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1088</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>771dd3f1-632d-439b-8b38-3b53a2867819</TableGUID>
    <TableLastModified>2014-02-10T15:30:19.3508756+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>769</TableID>
    <TableName>Facebook_page_consumptions_by_cons_type_uq_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_consumptions_by_consumption_type_unique';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_FirstUpper([InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1091</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>215dad43-f327-493b-bba5-1713c1776ca5</TableGUID>
    <TableLastModified>2014-02-10T15:30:44.2203623+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>770</TableID>
    <TableName>Facebook_page_fans_by_like_source_unique_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_by_like_source_unique';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_LocalizationMacro(N'sm.ins.facebook.likesource.'+[InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.ins.facebook.likesource.''+[InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1092</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2b1f5518-f586-49f3-8e22-73a3c1e24254</TableGUID>
    <TableLastModified>2014-02-10T15:34:04.8894272+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>771</TableID>
    <TableName>Facebook_page_fans_by_like_source_unique_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_by_like_source_unique';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_LocalizationMacro(N'sm.ins.facebook.likesource.'+[InsightValueName]) AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.ins.facebook.likesource.''+[InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1094</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>24118994-7b6a-4805-b926-f21eb5bb5f8d</TableGUID>
    <TableLastModified>2014-02-10T15:34:27.6917072+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>772</TableID>
    <TableName>Facebook_page_fans_by_like_source_unique_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_by_like_source_unique';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT {%DatabaseSchema%}.Func_LocalizationMacro(N'sm.ins.facebook.likesource.'+[InsightValueName])AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.ins.facebook.likesource.''+[InsightValueName]) AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1093</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b45596a9-e790-49cb-9b6f-122fb4e6602b</TableGUID>
    <TableLastModified>2014-02-10T15:34:52.2491627+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>773</TableID>
    <TableName>Facebook_page_fans_by_like_source_unique_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_by_like_source_unique';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT N'{' + N'$sm.ins.facebook.likesource.' + [InsightValueName] + N'$' + N'}' AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', N''{'' + N''$sm.ins.facebook.likesource.'' + [InsightValueName] + N''$'' + N''}'' AS [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1095</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ec7c7da9-2e14-4609-9e94-f751b3c94554</TableGUID>
    <TableLastModified>2014-02-10T15:35:11.0110387+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>774</TableID>
    <TableName>Facebook_page_fans_city_day_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_city';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR, [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'day')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Day] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS [Date], [InsightValueName] AS ''{$sm.ins.city$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.city$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1063</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>675ded80-e4ec-4307-a817-265b2c2889af</TableGUID>
    <TableLastModified>2014-02-10T15:35:48.8688241+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>775</TableID>
    <TableName>Facebook_page_fans_city_month_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_city';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR(7), [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'month')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Month] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) AS [Date], [InsightValueName] AS ''{$sm.ins.city$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.city$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1065</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a81546f2-13dd-49ea-a9e0-5ccd6bc87922</TableGUID>
    <TableLastModified>2014-02-10T15:36:21.9241293+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>776</TableID>
    <TableName>Facebook_page_fans_city_week_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_city';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+'/'+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'week')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Week] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS [Date], [InsightValueName] AS ''{$sm.ins.city$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.city$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1064</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>6bf78cbd-41a5-44a1-8c47-2baf18c83568</TableGUID>
    <TableLastModified>2014-02-10T15:36:52.4331799+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>777</TableID>
    <TableName>Facebook_page_fans_city_year_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_city';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR(4), [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'year')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Year] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS [Date], [InsightValueName] AS ''{$sm.ins.city$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.city$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1066</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a950ff6d-571d-4e0c-ba5a-4a8386235b69</TableGUID>
    <TableLastModified>2014-02-10T15:37:20.3259689+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>778</TableID>
    <TableName>Facebook_page_fans_country_day_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR, [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'day')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Day] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.country.''+[InsightValueName]) AS ''{$sm.ins.country$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.country$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1067</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>87338b02-5dc9-4d1f-89e0-49d5ef96b51a</TableGUID>
    <TableLastModified>2014-02-10T15:37:55.1664526+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>779</TableID>
    <TableName>Facebook_page_fans_country_month_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR(7), [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'month')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Month] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.country.''+[InsightValueName]) AS ''{$sm.ins.country$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.country$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1069</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9c3327b5-df92-4424-b3a9-4ff339c5c5d0</TableGUID>
    <TableLastModified>2014-02-10T15:38:29.6168973+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>780</TableID>
    <TableName>Facebook_page_fans_country_week_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+'/'+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'week')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Week] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.country.''+[InsightValueName]) AS ''{$sm.ins.country$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.country$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1068</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b241a01d-5f13-4ac3-9d71-5c0f70893583</TableGUID>
    <TableLastModified>2014-02-10T15:39:13.1392491+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>781</TableID>
    <TableName>Facebook_page_fans_country_year_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR(4), [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'year')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Year] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.country.''+[InsightValueName]) AS ''{$sm.ins.country$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.country$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1070</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>16d43f6e-1cae-4b78-99db-20583a5515d4</TableGUID>
    <TableLastModified>2014-02-10T15:39:43.2132562+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>782</TableID>
    <TableName>Facebook_page_fans_locale_day_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR, [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'day')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Day] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.locale.''+[InsightValueName]) AS ''{$sm.ins.locale$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.locale$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1059</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>a6dc5731-be0a-413d-875b-652215dfb208</TableGUID>
    <TableLastModified>2014-02-10T15:42:09.7639098+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>783</TableID>
    <TableName>Facebook_page_fans_locale_month_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR(7), [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'month')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Month] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.locale.''+[InsightValueName]) AS ''{$sm.ins.locale$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.locale$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1061</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>52b945d1-5428-47e8-bdcf-32d1233900a8</TableGUID>
    <TableLastModified>2014-02-10T15:42:38.4877819+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>784</TableID>
    <TableName>Facebook_page_fans_locale_week_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+'/'+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'week')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Week] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.locale.''+[InsightValueName]) AS ''{$sm.ins.locale$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.locale$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1060</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>0ab3a639-5d57-4d1f-acbd-2260d5762340</TableGUID>
    <TableLastModified>2014-02-10T15:43:06.1255454+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>785</TableID>
    <TableName>Facebook_page_fans_locale_year_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_fans_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR(4), [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'year')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Year] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.locale.''+[InsightValueName]) AS ''{$sm.ins.locale$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.locale$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1062</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>613edda6-4a7b-4891-971c-1e3c86eb9960</TableGUID>
    <TableLastModified>2014-02-10T15:43:49.545887+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>786</TableID>
    <TableName>Facebook_page_storytellers_by_country_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1096</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ed76d8f7-51fd-49c6-9ad9-991e092d2d5f</TableGUID>
    <TableLastModified>2014-02-10T15:51:32.5811859+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>787</TableID>
    <TableName>Facebook_page_storytellers_by_country_day_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR, [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'day')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Day] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.country.''+[InsightValueName]) AS ''{$sm.ins.country$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.country$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1096</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9f5fd052-8c5d-403b-94f3-17350e77f186</TableGUID>
    <TableLastModified>2014-02-10T15:51:40.8340111+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>788</TableID>
    <TableName>Facebook_page_storytellers_by_country_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1098</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>57b76957-f719-493f-a41f-cb165654be18</TableGUID>
    <TableLastModified>2014-02-10T15:52:00.5859861+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>789</TableID>
    <TableName>Facebook_page_storytellers_by_country_month_invert</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR(7), [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'month')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Month] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.country.''+[InsightValueName]) AS ''{$sm.ins.country$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.country$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1098</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>81450cdd-aa85-46d9-bf9f-90554b6ff67a</TableGUID>
    <TableLastModified>2014-02-10T15:52:08.8418116+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>790</TableID>
    <TableName>Facebook_page_storytellers_by_country_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1097</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>5464e531-8451-4743-ab5b-00b281f552ea</TableGUID>
    <TableLastModified>2014-02-10T15:52:31.2610533+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>791</TableID>
    <TableName>Facebook_page_storytellers_by_country_week_invert</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+'/'+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'week')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Week] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.country.''+[InsightValueName]) AS ''{$sm.ins.country$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.country$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1097</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9afac8ef-4d46-4cdf-a6a6-dfe52a30c876</TableGUID>
    <TableLastModified>2014-02-10T15:52:39.5358807+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>792</TableID>
    <TableName>Facebook_page_storytellers_by_country_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END
ELSE
BEGIN
  SELECT 0 AS [StartTime] WHERE 0 = 1
END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1099</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>46bdda05-e7d2-45b6-a7a4-a85feb2875ae</TableGUID>
    <TableLastModified>2014-02-10T15:53:02.9242193+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>793</TableID>
    <TableName>Facebook_page_storytellers_by_country_year_invert</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_country';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR(4), [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'year')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Year] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.country.''+[InsightValueName]) AS ''{$sm.ins.country$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.country$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1099</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>270b47ca-0d69-4d9c-9c78-d4d689a23928</TableGUID>
    <TableLastModified>2014-02-10T15:53:15.2754543+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>794</TableID>
    <TableName>Facebook_page_storytellers_by_locale_day</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1100</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>89da7959-e99c-4658-9501-8509c4abbfd6</TableGUID>
    <TableLastModified>2014-02-10T15:53:40.6099875+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>795</TableID>
    <TableName>Facebook_page_storytellers_by_locale_day_inverted</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'day');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR, [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'day')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Day] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR, [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.locale.''+[InsightValueName]) AS ''{$sm.ins.locale$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Day] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''day'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.locale$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1100</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>2df38d4e-bf00-453b-b96e-e4d19231de2a</TableGUID>
    <TableLastModified>2014-02-10T15:53:51.0410305+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>796</TableID>
    <TableName>Facebook_page_storytellers_by_locale_month</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) as ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1102</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b7520b13-2ee8-47e1-8f60-26d81899824e</TableGUID>
    <TableLastModified>2014-02-10T15:54:12.3141576+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>797</TableID>
    <TableName>Facebook_page_storytellers_by_locale_month_invert</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'month');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR(7), [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'month')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Month] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(7), [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.locale.''+[InsightValueName]) AS ''{$sm.ins.locale$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Month] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''month'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.locale$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1102</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>b85a874f-5024-41d6-9c09-f82a13b3a2bf</TableGUID>
    <TableLastModified>2014-02-10T15:54:22.0661327+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>798</TableID>
    <TableName>Facebook_page_storytellers_by_locale_week</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1101</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>eb80de33-7c64-4a9d-8dd7-9edf2ff34e9b</TableGUID>
    <TableLastModified>2014-02-10T15:54:42.4701729+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>799</TableID>
    <TableName>Facebook_page_storytellers_by_locale_week_invert</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'Week');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+'/'+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'week')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Week] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT (NVARCHAR(2),DATEPART(wk,[Date]))+''/''+CONVERT (NVARCHAR(4),DATEPART(YEAR,[Date])) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.locale.''+[InsightValueName]) AS ''{$sm.ins.locale$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Week] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''Week'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.locale$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1101</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>56f8afaa-c134-4876-b270-b03f6c181d39</TableGUID>
    <TableLastModified>2014-02-10T15:54:51.3570615+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>800</TableID>
    <TableName>Facebook_page_storytellers_by_locale_year</TableName>
    <TableDisplayName>table</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT [InsightValueName] AS [col] FROM [SM_Insight] INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
		WHERE [InsightExternalID] = @ExternalID AND [InsightPeriodType] = @PeriodType
				AND [InsightCodeName] = @CodeName AND [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS ''{$general.date$}'', [InsightValueName], [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [InsightValueName] IN(' + @cols + N')
	) AS [T3]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;


END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1103</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>9e780a9e-79cc-4c69-bae3-bb7b741e9fe6</TableGUID>
    <TableLastModified>2014-02-10T15:55:11.1290385+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
  <Reporting_ReportTable>
    <TableID>801</TableID>
    <TableName>Facebook_page_storytellers_by_locale_year_invert</TableName>
    <TableDisplayName>table_inverted</TableDisplayName>
    <TableQuery>DECLARE
@cols AS NVARCHAR(MAX),
@sql  AS NVARCHAR(MAX),
@CodeName AS NVARCHAR(MAX) = 'Facebook.page_storytellers_by_locale';

SET @FromDate = {%DatabaseSchema%}.Func_Analytics_DateTrim(@FromDate,'year');

IF (@ExternalID IS NOT NULL) AND (@ExternalID != N'') 
BEGIN
	SET @cols = STUFF(
	(SELECT N',' + QUOTENAME([col]) AS [text()]
	FROM (SELECT DISTINCT CONVERT(NVARCHAR(4), [Date], 111) AS [col] FROM {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,'year')
		WHERE [Date] IN (SELECT [InsightHitPeriodFrom] FROM [SM_InsightHit_Year] INNER JOIN [SM_Insight]
		ON [InsightID] = [InsightHitInsightID] AND [InsightCodeName] = @CodeName AND [InsightPeriodType] = @PeriodType AND InsightExternalID = @ExternalID
		WHERE [InsightHitPeriodFrom] BETWEEN @FromDate AND @ToDate)
	) AS [T1]
	ORDER BY [col]
	FOR XML PATH('')),
	1, 1, N'');

	SET @sql = N'SELECT * FROM
	(
		SELECT CONVERT(NVARCHAR(4), [Date], 111) AS [Date], {%DatabaseSchema%}.Func_LocalizationMacro(N''sm.locale.''+[InsightValueName]) AS ''{$sm.ins.locale$}'', [InsightHitValue] FROM [SM_Insight]
		INNER JOIN [SM_InsightHit_Year] ON [InsightID] = [InsightHitInsightID]
			AND [InsightCodeName] = @CodeName
			AND [InsightPeriodType] = @PeriodType
			AND InsightExternalID = @ExternalID
		INNER JOIN {%DatabaseSchema%}.Func_Analytics_EnsureDates (@FromDate,@ToDate,''year'') ON [Date] = [InsightHitPeriodFrom]
	) AS [T2]
	PIVOT
	(
		SUM(InsightHitValue) FOR [Date] IN(' + @cols + N')
	) AS [T3] ORDER BY [T3].[{$sm.ins.locale$}]
	;';


	EXEC sp_executesql @sql,
		N'@FromDate DATE, @ToDate DATE, @CodeName AS NVARCHAR(MAX), @ExternalID AS NVARCHAR(MAX), @PeriodType AS NVARCHAR(20)', 
		@FromDate, @ToDate, @CodeName, @ExternalID, @PeriodType;

END</TableQuery>
    <TableQueryIsStoredProcedure>false</TableQueryIsStoredProcedure>
    <TableReportID>1103</TableReportID>
    <TableSettings>&lt;customdata&gt;&lt;pagemode&gt;1&lt;/pagemode&gt;&lt;pagesize&gt;15&lt;/pagesize&gt;&lt;querynorecordtext&gt;{$sm.ins.nodata$}&lt;/querynorecordtext&gt;&lt;enablepaging&gt;False&lt;/enablepaging&gt;&lt;subscriptionenabled&gt;True&lt;/subscriptionenabled&gt;&lt;exportenabled&gt;True&lt;/exportenabled&gt;&lt;skinid&gt;ReportGridAnalytics&lt;/skinid&gt;&lt;/customdata&gt;</TableSettings>
    <TableGUID>ed35783e-f49b-43f9-b2fe-79c53e9d7c91</TableGUID>
    <TableLastModified>2014-02-10T15:55:18.6677923+01:00</TableLastModified>
    <TableConnectionString />
  </Reporting_ReportTable>
</NewDataSet>